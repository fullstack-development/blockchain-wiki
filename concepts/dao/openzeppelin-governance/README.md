# OpenZeppelin governance

**–ê–≤—Ç–æ—Ä:** [–ù–∞–π–¥–∞–Ω–æ–≤ –ü–∞–≤–µ–ª](https://github.com/PavelNaydanov) üïµÔ∏è‚Äç‚ôÇÔ∏è

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ [OpenZeppelin](https://www.openzeppelin.com/) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã **governance** on-chain –≤ –≤–∏–¥–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.

_–í–∞–∂–Ω–æ!_ –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ–π —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è [—Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã](https://github.com/OpenZeppelin/openzeppelin-contracts/tree/v5.0.0/contracts/governance) OpenZeppelin –≤–µ—Ä—Å–∏–∏ 5.0.0.

–î–æ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ **governance** –æ—Ç OpenZeppelin –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –±—ã–ª–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ [Compound](https://compound.finance/): [GovernorAlpha](https://github.com/compound-finance/compound-protocol/blob/master/contracts/Governance/GovernorAlpha.sol), [GovernorBravo](https://github.com/compound-finance/compound-protocol/blob/master/contracts/Governance/GovernorBravoDelegator.sol). –î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏, –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞—è –∫–æ–¥ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã.

OpenZeppelin –ø–æ—Å—Ç–∞—Ä–∞–ª—Å—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å –æ–ø—ã—Ç Compound –≤ –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –≥–∏–±–∫—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Å–±–æ—Ä–∫–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç–æ–ª—å–∫–æ, –Ω–∞ —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ. –ù–∞–∏–±–æ–ª–µ–µ –º–∞—Å—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏, –Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ–≤—ã–µ, –Ω–µ –¥–æ–ª–∂–Ω–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Ç—Ä—É–¥–∞.

_–í–∞–∂–Ω–æ!_ –°–∏—Å—Ç–µ–º–∞ **governance** –æ—Ç OpenZeppelin —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å —É—á–µ—Ç–æ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –¥–ª—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–∏—Å—Ç–µ–º –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –Ω–∞ –±–∞–∑–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ Compound. –ü–æ—ç—Ç–æ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –≤–Ω—É—Ç—Ä–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –º–æ–≥—É—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è. –ù–∞–ø—Ä–∏–º–µ—Ä: [GovernorTimelockControl](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/extensions/GovernorTimelockControl.sol) –∏ [GovernorTimelockCompound](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/extensions/GovernorTimelockCompound.sol).

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

![](./images/governance-content.png)

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–≤–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã:
1. **Token** - –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–ª–∏—á–∏–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è EC-721 –∏–ª–∏ ERC-20 —Ç–æ–∫–µ–Ω–∞ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —É—á–∞—Å—Ç–∏–µ –≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏.
2. **Governor** - –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø—Ä–∞–≤–∏–ª–∞ –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

### Token

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –≤–∏–¥–∞ —Ç–æ–∫–µ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ **governance**:
1. **–í–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–π —Ç–æ–∫–µ–Ω**. [–°—Ç–∞–Ω–¥–∞—Ä—Ç ERC-20](https://github.com/OpenZeppelin/openzeppelin-contracts/tree/v5.0.0/contracts/token/ERC20).
2. **–ù–µ–≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–π —Ç–æ–∫–µ–Ω**. [–°—Ç–∞–Ω–¥–∞—Ä—Ç ERC-721](https://github.com/OpenZeppelin/openzeppelin-contracts/tree/v5.0.0/contracts/token/ERC721).

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ª—é–±–æ–π –∏–∑ —ç—Ç–∏—Ö –≤–∏–¥–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞: [ERC20Votes.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/token/ERC20/extensions/ERC20Votes.sol) –∏–ª–∏ [ERC721Votes.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/token/ERC721/extensions/ERC721Votes.sol). –≠—Ç–∏ –¥–≤–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ [Votes.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/utils/Votes.sol) –∏–∑ –≥—Ä—É–ø–ø—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

![](./images/governance-token.png)

_–í–∞–∂–Ω–æ!_ –ü–æ–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ ERC-1155 –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä ERC-20 —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

```solidity
// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.20;

import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import {ERC20Votes} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Votes.sol";
import {ERC20Permit, Nonces} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Permit.sol";

/// –ö–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç ERC20Votes
contract VotesToken is ERC20, ERC20Permit, ERC20Votes {
    constructor(uint256 totalSupply) ERC20("Metalamp votes", "MTV") ERC20Permit("Metalamp votes") {
        _mint(msg.sender, totalSupply);
    }

    function _update(address from, address to, uint256 value) internal override(ERC20, ERC20Votes) {
        super._update(from, to, value);
    }

    function nonces(address owner)
        public
        view
        override(ERC20Permit, Nonces)
        returns (uint256)
    {
        return super.nonces(owner);
    }
}
```

–•–æ—á—É –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç **VotesToken.sol**, –ø–æ –º–∏–º–æ –¥—Ä—É–≥–∏—Ö –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π, –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ **ERC20Permit.sol**. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ, –Ω–∞—Å–ª–µ–¥—É—è—Å—å –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ **ERC20Votes.sol**, –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª **–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤ –ø–æ –ø–æ–¥–ø–∏—Å–∏**. –≠—Ç–æ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≥–ª—É–±–∂–µ –≤ —Ü–µ–ø–æ—á–∫–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π, –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ [Votes.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/utils/Votes.sol#L142). –ö–æ–Ω—Ç—Ä–∞–∫—Ç **Votes.sol** —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ [EIP712](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/utils/cryptography/EIP712.sol), –Ω–æ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä EIP712. –ü–æ—ç—Ç–æ–º—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ EIP712 –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ [ERC20Permit.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/token/ERC20/extensions/ERC20Permit.sol#L39).

–ï—Å–ª–∏ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª permit –¥–ª—è —Å–≤–æ–µ–≥–æ —Ç–æ–∫–µ–Ω–∞, —Ç–æ –º–æ–∂–Ω–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Ç–æ–∫–µ–Ω–∞ —Å—Ä–∞–∑—É –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ [EIP712](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/utils/cryptography/EIP712.sol), –∞ –Ω–µ –æ—Ç **ERC20Permit.sol**.

```solidity
// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.20;

import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import {ERC20Votes} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Votes.sol";
import {EIP712} from "@openzeppelin/contracts/utils/cryptography/EIP712.sol";

/// –ö–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç ERC20Votes –∏ EIP712 –Ω–∞–ø—Ä—è–º—É—é
contract VotesToken is ERC20, EIP712, ERC20Votes {
    constructor(uint256 totalSupply) ERC20("Metalamp votes", "MTV") EIP712("Metalamp votes", "1") {
        _mint(msg.sender, totalSupply);
    }

    function _update(address from, address to, uint256 value) internal override(ERC20, ERC20Votes) {
        super._update(from, to, value);
    }
}
```

_–í–∞–∂–Ω–æ!_ –ë—ã—Å—Ç—Ä–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º "[Contracts Wizard](https://docs.openzeppelin.com/contracts/5.x/wizard)" –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ OpenZeppelin. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø—É–Ω–∫—Ç "Votes" –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ.

_–ù–µ –º–µ–Ω–µ–µ –≤–∞–∂–Ω–æ!_ –ï—Å–ª–∏ —É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —É–∂–µ –µ—Å—Ç—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–ø—É—Å—Ç–∏—Ç—å –µ—â–µ –æ–¥–∏–Ω —Ç–æ–∫–µ–Ω –æ–±–µ—Ä—Ç–∫—É –Ω–∞ –±–∞–∑–µ —Å–≤–æ–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤: [ERC20Wrapper](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/token/ERC20/extensions/ERC20Wrapper.sol) –∏ [ERC721Wrapper.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/token/ERC721/extensions/ERC721Wrapper.sol). –≠—Ç–æ –ø–æ—Ö–æ–∂–∞—è –∏—Å—Ç–æ—Ä–∏—è –Ω–∞ —Ç–æ–∫–µ–Ω WETH (–æ–±–µ—Ä–Ω—É—Ç—ã–π —ç—Ñ–∏—Ä). –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å —Å–≤–æ–π –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –Ω–∞ –æ–±–µ—Ä–Ω—É—Ç—ã–π –∏ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –ß—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://docs.openzeppelin.com/contracts/5.x/governance#token).

_–ò –µ—â–µ –≤–∞–∂–Ω–æ–≥–æ!_ –î–ª—è —Ç–æ–∫–µ–Ω–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –Ω–∞ –±–∞–∑–µ ERC-721 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥.

### Governor

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥—Å–∏—Å—Ç–µ–º—É **Governor**, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤:
1. –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å "**–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ**" –∏–ª–∏ "**–≤–µ—Å**" –≥–æ–ª–æ—Å–æ–≤?
2. –°–∫–æ–ª—å–∫–æ –≥–æ–ª–æ—Å–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è [–∫–≤–æ—Ä—É–º–∞](https://ru.wikipedia.org/wiki/%D0%9A%D0%B2%D0%BE%D1%80%D1%83%D0%BC), —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å—á–∏—Ç–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã–º?
3. –ö–∞–∫–∏–µ **–≤–∞—Ä–∏–∞–Ω—Ç—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –∫–∞–∫ —ç—Ç–∏ –≥–æ–ª–æ—Å–∞ —Å—á–∏—Ç–∞—é—Ç—Å—è?
4. –ö–∞–∫–æ–π **—Ç–∏–ø —Ç–æ–∫–µ–Ω–∞** –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è?

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ OpenZeppelin —Å—á–∏—Ç–∞–µ—Ç —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã –∫–ª—é—á–µ–≤—ã–º–∏ –∏ –∑–∞–∫—Ä–µ–ø–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—É –ø—É—Ç–µ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ [Governor.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol). –ü–æ —Å—É—Ç–∏ —ç—Ç–æ –±–∞–∑–æ–≤—ã–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **Governor** –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.

```solidity
// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.20;

import "@openzeppelin/contracts/governance/Governor.sol";

contract MyGovernor is Governor {
    /// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã Governor
}
```

–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ **Governor** –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (–æ—Ç–≤–µ—Ç–∞ –Ω–∞ 4 –≤–æ–ø—Ä–æ—Å–∞ –≤—ã—à–µ). –û—Ç–≤–µ—Ç–æ–º –Ω–∞ –∫–∞–∂–¥—ã–π –∏–∑ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤—ã—à–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–±–æ–ª—å—à–æ–π –º–æ–¥—É–ª—å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç:
1. [GovernorVotes.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/extensions/GovernorVotes.sol). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è "–∫–æ–ª–∏—á–µ—Å—Ç–≤–∞" –∏–ª–∏ "–≤–µ—Å–∞" –≥–æ–ª–æ—Å–æ–≤.
2. [GovernorVotesQuorumFraction.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/extensions/GovernorVotesQuorumFraction.sol). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∫–≤–æ—Ä—É–º–∞.
3. [GovernorCountingSimple.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/extensions/GovernorCountingSimple.sol). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤—ã–±–æ—Ä–∞ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –†–µ–∞–ª–∏–∑—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –µ–¥–∏–Ω–∏—á–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤: "–ø—Ä–æ—Ç–∏–≤", "–∑–∞", "–≤–æ–∑–¥–µ—Ä–∂–∞–ª—Å—è".
4. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ [ERC20Votes](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/token/ERC20/extensions/ERC20Votes.sol) –∏–ª–∏ [ERC721Votes](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/token/ERC721/extensions/ERC721Votes.sol).

![](./images/governance-governor.png)

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ —Ç—Ä–µ–±—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º **Governor.sol** –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω –¥–∞–ª—å—à–µ. –ù–∞–ø—Ä–∏–º–µ—Ä –≤ —Ä–∞–º–∫–∞—Ö —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç—ã—Ö —Ä–µ—à–µ–Ω–∏–π (Timelock), —Å–∏—Å—Ç–µ–º—É –ø–æ–æ—â—Ä–µ–Ω–∏—è –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏ (Rewards system) –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

_–í–∞–∂–Ω–æ!_ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã **governance** –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ "[Contracts Wizard](https://docs.openzeppelin.com/contracts/5.x/wizard)" –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ OpenZeppelin.

## –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ OpenZeppelin –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ governance

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ OpenZeppelin –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **Governor** –∏–∑ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](https://github.com/OpenZeppelin/openzeppelin-contracts/tree/v5.0.0/contracts/governance):

1. **Governor.sol**. –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –ª–æ–≥–∏–∫—É –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –ö–æ–Ω—Ç—Ä–∞–∫—Ç —è–≤–ª—è–µ—Ç—Å—è **–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º**, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç –Ω–µ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è.
2. **Extensions**. –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ Governor.sol
    - **GovernorCountingSimple.sol**. –†–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–æ—Å—Ç–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –∏–∑ —Ç—Ä–µ—Ö: "–ø—Ä–æ—Ç–∏–≤", "–∑–∞", "–≤–æ–∑–¥–µ—Ä–∂–∞–ª—Å—è".
    - **GovernorSettings.sol**. –†–µ–∞–ª–∏–∑—É–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏** –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è: voting delay, voting period duration, and proposal threshold.
    - **GovernorStorage.sol**. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–µ—Ç–∞–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ –±–ª–æ–∫—á–µ–π–Ω. –≠—Ç–æ –¥–∞–µ—Ç –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º–æ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö. –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –≤ L2 —Å–µ—Ç—è—Ö, –≥–¥–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –≥–∞–∑–∞ –Ω–µ –∏–º–µ–µ—Ç —Å–∏–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.
    - **GovernorTimelockAccess.sol**. –†–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º [AccessManager](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/access/manager/AccessManager.sol).
    - **GovernorTimelockCompound.sol**. –†–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º [Timelock](https://github.com/compound-finance/compound-protocol/blob/master/contracts/Timelock.sol) –æ—Ç Compound
    - **GovernorTimelockControl.sol**. –†–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º [TimelockController.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/TimelockController.sol).
    - **GovernorVotes.sol**. –†–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤–≤–æ–¥–∏—Ç—Å—è –ø–æ–Ω—è—Ç–∏–µ **"–≤–µ—Å –≥–æ–ª–æ—Å–∞"**. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–ª–∞–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º **–æ–¥–Ω–∏–º** —Ç–æ–∫–µ–Ω–æ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø—Ä–∏—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è –∫ **–¥–≤—É–º** –≥–æ–ª–æ—Å–∞–º –≤ —Å–∏—Å—Ç–µ–º–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.
    - **GovernorVotesQuorumFraction.sol**. –í–≤–æ–¥–∏—Ç –ø–æ–Ω—è—Ç–∏–µ **–∫–≤–æ—Ä—É–º**. –°–ª–µ–¥–∏—Ç –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–≤—à–∏—Ö –±—ã–ª–æ –Ω–µ –º–µ–Ω—å—à–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è. –û–±—ã—á–Ω–æ —ç—Ç–æ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –≤—Å–µ—Ö, –∫—Ç–æ –º–æ–∂–µ—Ç –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–≤–æ—Ä—É–º —Ä–∞–≤–Ω—ã–π 50% –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ 50%, –æ—Ç –≤—Å–µ—Ö –∫—Ç–æ –º–æ–≥ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å, –≥–æ–ª–æ—Å—É—é—Ç "–∑–∞".
    - **GovernorPreventLateQuorum.sol**. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –∫–≤–æ—Ä—É–º–∞.
3. **Utils**. –°–ø–∏—Å–æ–∫ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –¥–ª—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.
    - **Votes.sol**. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –µ–¥–∏–Ω–∏—Ü –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –†–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ —Ç–æ–∫–µ–Ω–∞ ERC20Votes –∏ ERC721Votes.

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —è –ø–æ–∫–∞–∂—É, –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –Ω–∞ –∫–∞–∫–∏—Ö —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑—ã–≤–∞—Ç—å –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –º—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ —Å–∞–º—É—é –ø—Ä–æ—Å—Ç—É—é —Å–∏—Å—Ç–µ–º—É –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –Ω–∞ –±–∞–∑–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ **governance** –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ OpenZeppelin.

```solidity
// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.20;

import {Governor} from "@openzeppelin/contracts/governance/Governor.sol";
import {GovernorSettings} from "@openzeppelin/contracts/governance/extensions/GovernorSettings.sol";
import {GovernorCountingSimple} from "@openzeppelin/contracts/governance/extensions/GovernorCountingSimple.sol";
import {GovernorVotes, IVotes} from "@openzeppelin/contracts/governance/extensions/GovernorVotes.sol";
import {GovernorVotesQuorumFraction} from "@openzeppelin/contracts/governance/extensions/GovernorVotesQuorumFraction.sol";

/**
 * @title –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è Metalamp
 * @notice –†–µ–∞–ª–∏–∑—É–µ—Ç —Å–∞–º—É—é –±–∞–∑–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –Ω–∞ –±–∞–∑–µ —Å–º–∞—Ä—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ OpenZeppelin
 * @dev –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 4 –±–∞–∑–æ–≤—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
 * - GovernorSettings. –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
 * - GovernorCountingSimple. –î–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
 * - GovernorVotes. –î–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –≤–µ—Å–∞ –≥–æ–ª–æ—Å–æ–≤
 * - GovernorVotesQuorumFraction. –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–≤–æ—Ä—É–º–æ–º
 */
contract MetalampGovernance is Governor, GovernorSettings, GovernorCountingSimple, GovernorVotes, GovernorVotesQuorumFraction {
    uint48 public constant INITIAL_VOTING_DELAY = 1 days;
    uint32 public constant INITIAL_VOTING_PERIOD = 30 days;

    /// –û–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –ª—é–±–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    uint256 public constant INITIAL_PROPOSAL_THRESHOLD = 0;
    /// –û–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–≤–æ—Ä—É–º –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ–¥—Å—á–µ—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    uint256 public constant INITIAL_QUORUM_NUMERATOR_VALUE = 0;

    constructor(IVotes token)
        Governor("Metalamp governance")
        GovernorSettings(INITIAL_VOTING_DELAY, INITIAL_VOTING_PERIOD, INITIAL_PROPOSAL_THRESHOLD)
        GovernorVotes(token)
        GovernorVotesQuorumFraction(INITIAL_QUORUM_NUMERATOR_VALUE)
    {}

    function proposalThreshold()
        public
        view
        override(Governor, GovernorSettings)
        returns (uint256)
    {
        return super.proposalThreshold();
    }
}
```

–î–ª—è –¥–µ–ø–ª–æ—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ **MetalampGovernance.sol** –≤ —Å–µ—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–∫–µ–Ω –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –Ω–µ –±—É–¥—É. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω ERC20 (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º ERC20Votes). –¢–µ–ø–µ—Ä—å –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∑–∞–¥–µ–ø–ª–æ–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º.

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `propose()` –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ **MetalampGovernance.sol**. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ [Governor.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L275).

```solidity
/**
 * @notice –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–µ—Å—Ç–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
 * @param targets –°–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –∏—Å–ø–æ–ª–Ω—è—Ç—å—Å—è –≤—ã–∑–æ–≤—ã calldatas
 * @param values –°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω–æ–π –≤–∞–ª—é—Ç—ã –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–æ —Å –≤—ã–∑–æ–≤–æ–º –∫–∞–∂–¥–æ–π calldata –Ω–∞ –∫–∞–∂–¥–æ–º –∞–¥—Ä–µ—Å–µ (target)
 * @param calldatas –°–ø–∏—Å–æ–∫ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
 * @param description –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
 */
function propose(
    address[] memory targets,
    uint256[] memory values,
    bytes[] memory calldatas,
    string memory description
) public virtual returns (uint256) {
    /// –°—á–∏—Ç–∞–µ–º, —á—Ç–æ –≤—ã–∑—ã–≤–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏—é —è–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    address proposer = _msgSender();

    /// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ —ç—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤–Ω–æ—Å–∏—Ç—å –Ω–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –≤—ã–∑—ã–≤–∞—é—â–µ–º—É –∞–¥—Ä–µ—Å—É.
    /// –í –∫–æ–Ω—Ü–µ description –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∞–¥—Ä–µ—Å –ø—Ä–µ–¥–ª–∞–≥–∞—é—â–µ–≥–æ (`[description]#proposer=0x`). –ï—Å–ª–∏ proposer —É–∫–∞–∑–∞–Ω, —Ç–æ —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å –º–æ–∂–µ—Ç –≤–Ω–æ—Å–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ.
    /// –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ description —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ proposalId, –∞ —ç—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
    if (!_isValidDescriptionForProposer(proposer, description)) {
        revert GovernorRestrictedProposer(proposer);
    }

    /// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∞–≤—Ç–æ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–º–µ–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è.
    /// –î–ª—è —ç—Ç–æ–≥–æ –≤–µ—Å –≥–æ–ª–æ—Å–æ–≤ –∞–≤—Ç–æ—Ä–∞ –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–≤—ã—à–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ —Ñ—É–Ω–∫—Ü–∏–µ–π proposalThreshold()
    uint256 proposerVotes = getVotes(proposer, clock() - 1);
    uint256 votesThreshold = proposalThreshold();
    if (proposerVotes < votesThreshold) {
        revert GovernorInsufficientProposerVotes(proposer, proposerVotes, votesThreshold);
    }

    return _propose(targets, values, calldatas, description, proposer);
}
```

–î–∞–ª—å—à–µ –≤—ã–∑–æ–≤ —É—Ö–æ–¥–∏—Ç –≤ –ø—Ä–∏–≤–∞—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `_propose()`.

```solidity
function _propose(
    address[] memory targets,
    uint256[] memory values,
    bytes[] memory calldatas,
    string memory description,
    address proposer
) internal virtual returns (uint256 proposalId) {
    /// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    proposalId = hashProposal(targets, values, calldatas, keccak256(bytes(description)));

    /// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    if (targets.length != values.length || targets.length != calldatas.length || targets.length == 0) {
        revert GovernorInvalidProposalLength(targets.length, calldatas.length, values.length);
    }

    /// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ —Ç–∞–∫–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –µ—â–µ –Ω–µ –±—ã–ª–æ
    if (_proposals[proposalId].voteStart != 0) {
        revert GovernorUnexpectedProposalState(proposalId, state(proposalId), bytes32(0));
    }

    /// –í—Ä–µ–º—è –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥—É—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –±–∞–ª–∞–Ω—Å—ã –≥–æ–ª–æ—Å–æ–≤ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–≤—à–∏—Ö.
    /// –°–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤—Ä–µ–º–µ–Ω–µ–º –Ω–∞—á–∞–ª–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—é
    uint256 snapshot = clock() + votingDelay();
    uint256 duration = votingPeriod();

    /// –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Å–µ—Ç–∏
    ProposalCore storage proposal = _proposals[proposalId];
    proposal.proposer = proposer;
    proposal.voteStart = SafeCast.toUint48(snapshot);
    proposal.voteDuration = SafeCast.toUint32(duration);

    emit ProposalCreated(
        proposalId,
        proposer,
        targets,
        values,
        new string[](targets.length),
        calldatas,
        snapshot,
        snapshot + duration,
        description
    );
}
```

–ù–∞ —Å—Ö–µ–º–µ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
![](./images/propose-process.png)


–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `propose()` –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –≤—ã–Ω–µ—Å—Ç–∏ –Ω–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ `set(address)` –¥–ª—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ whitelist. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ payable, –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø–æ–ª–Ω—è—Ç—å –º–∞—Å—Å–∏–≤ values.

```solidity
address account = 0x...;

address[] targets = new address[](1);
uint256[] values = new uint256[](1);
bytes[] calldatas = new bytes[](1);
string memory description = "Proposal to add an account to the whitelist";

targets[0] = address(whitelist);
calldatas[0] = abi.encodeWithSelector(Whitelist.set.selector, account);

uint256 proposalId = governance.propose(targets, values, calldatas, description);
```

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞:
1. –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è `proposalSnapshot(uint256 proposalId)`.
2. –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è `proposalDeadline(uint256 proposalId)`
3. –ê–≤—Ç–æ—Ä–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è `proposalProposer(uint256 proposalId)`
4. –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è `state(uint256 proposalId)` (Pending, Active, Cancelled –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ)

_–í–∞–∂–Ω–æ!_ –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Å–µ—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å "—Å–µ—Ä–≤–∏—Å-–∏–Ω–¥–µ–∫—Å–∏—Ä" –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ `ProposalCreated()` –∏ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ [GovernorStorage.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/extensions/GovernorStorage.sol) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ —Å–µ—Ç–∏.

### –û—Ç–º–µ–Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ –ø–æ–¥–æ–±–Ω–æ —Ä–∞–∑–¥–µ–ª—É [–≤—ã—à–µ](#—Å–æ–∑–¥–∞–Ω–∏–µ-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è).

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `cancel()` –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ **MetalampGovernance.sol**. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ [Governor.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L453).

```solidity
/**
 * @notice –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—é
 * @param targets –°–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –∏—Å–ø–æ–ª–Ω—è—Ç—å—Å—è –≤—ã–∑–æ–≤—ã calldatas
 * @param values –°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω–æ–π –≤–∞–ª—é—Ç—ã –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–æ —Å –≤—ã–∑–æ–≤–æ–º –∫–∞–∂–¥–æ–π calldata –Ω–∞ –∫–∞–∂–¥–æ–º –∞–¥—Ä–µ—Å–µ (target)
 * @param calldatas –°–ø–∏—Å–æ–∫ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
 * @param description –ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
 */
function cancel(
    address[] memory targets,
    uint256[] memory values,
    bytes[] memory calldatas,
    bytes32 descriptionHash
) public virtual returns (uint256) {
    /// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
    uint256 proposalId = hashProposal(targets, values, calldatas, descriptionHash);

    /// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤—Å–µ –µ—â–µ –≤ —Å—Ç–∞—Ç—É—Å–µ Pending
    _validateStateBitmap(proposalId, _encodeStateBitmap(ProposalState.Pending));

    /// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤—ã–∑—ã–≤–∞—é—â–∏–π. –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
    if (_msgSender() != proposalProposer(proposalId)) {
        revert GovernorOnlyProposer(_msgSender());
    }

    /// –í—ã–∑–æ–≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    return _cancel(targets, values, calldatas, descriptionHash);
}
```

–î–∞–ª—å—à–µ –≤—ã–∑–æ–≤ —É—Ö–æ–¥–∏—Ç –≤ –ø—Ä–∏–≤–∞—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `_cancel()`. –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–∞–∫ –≤ –ø—É–±–ª–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `cancel()`.

```solidity
    function _cancel(
        address[] memory targets,
        uint256[] memory values,
        bytes[] memory calldatas,
        bytes32 descriptionHash
    ) internal virtual returns (uint256) {
        /// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        uint256 proposalId = hashProposal(targets, values, calldatas, descriptionHash);

        /// –î–ª—è –æ—Ç–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º, –∫—Ä–æ–º–µ
        /// Canceled, Expired, Executed
        _validateStateBitmap(
            proposalId,
            ALL_PROPOSAL_STATES_BITMAP ^
                _encodeStateBitmap(ProposalState.Canceled) ^
                _encodeStateBitmap(ProposalState.Expired) ^
                _encodeStateBitmap(ProposalState.Executed)
        );

        /// –í storage –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ canceled
        /// –ü–æ —ç—Ç–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é —Ñ—É–Ω–∫—Ü–∏—è state() –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å canceled
        _proposals[proposalId].canceled = true;

        emit ProposalCanceled(proposalId);

        /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–º–µ–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        return proposalId;
    }
```

_–í–∞–∂–Ω–æ!_ –•–æ—á—É –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º **virtual**. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–æ.

### –û—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ–ª–æ—Å–∞

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±—ã–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã —Å–ª–µ–¥—É—é—â–∏–π —É—Å–ª–æ–≤–∏—è:
1. **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ** –±—ã–ª–æ **—Å–æ–∑–¥–∞–Ω–æ** –≤ —Å–∏—Å—Ç–µ–º—É –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –°–º–æ—Ç—Ä–∏ –ø—É–Ω–∫—Ç [–≤—ã—à–µ](#—Å–æ–∑–¥–∞–Ω–∏–µ-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è).
2. **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ** –¥–æ–ª–∂–Ω–æ **–Ω–∞—á–∞—Ç—å—Å—è**, —Ç–æ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–π **–Ω–æ–º–µ—Ä –±–ª–æ–∫–∞** –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è (voteStart). –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ–ª–æ—Å–æ–≤ –Ω–∞ —Ç–æ–∫–µ–Ω–µ(snapshot). –ü–æ–ª—É—á–∏—Ç—å snapshot –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞–≤ —Ñ—É–Ω–∫—Ü–∏—é `proposalSnapshot(proposalId)`.
3. –£ –≥–æ–ª–æ—Å—É—é—â–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∞–≤–æ –≥–æ–ª–æ—Å–∞, —Ç–æ –µ—Å—Ç—å —É –Ω–µ–≥–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —ç—Ç–∏ —Ç–æ–∫–µ–Ω—ã —É—á–∏—Ç—ã–≤–∞–ª–∏—Å—å –ø—Ä–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏, —É—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω **–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã** –Ω–∞ —Å–≤–æ–π –∞–¥—Ä–µ—Å –∏–ª–∏ –∞–¥—Ä–µ—Å –¥—Ä—É–≥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∏—Ç –ø—Ä–∞–≤–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –î–ª—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –≥–æ–ª–æ—Å—É—é—â–∏–π —É—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `delegate(address voter)` –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ —Ç–æ–∫–µ–Ω–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è (–∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ ERC20Votes –∏–ª–∏ ERC721Votes), –≥–¥–µ **voter** –∞–¥—Ä–µ—Å –∞–∫–∫–∞—É–Ω—Ç–∞, –∫–æ–º—É –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –ø—Ä–∞–≤–æ –≥–æ–ª–æ—Å–∞.

–ï—Å–ª–∏ –≤—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, —Ç–æ –≥–æ–ª–æ—Å—É—é—â–∏–π —É—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `castVote(proposalId, support)` –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ **MetalampGovernance.sol**. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ [Governor.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L522C14-L522C22).

```solidity
/**
 * @notice –§—É–Ω–∫—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
 * @param proposalId –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
 * @param support –ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ uint8 (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∑–∞", "–ø—Ä–æ—Ç–∏–≤" –∏–ª–∏ "–≤–æ–∑–¥–µ—Ä–∂–∞–ª—Å—è")
 */
function castVote(uint256 proposalId, uint8 support) public virtual returns (uint256) {
    /// –ì–æ–ª–æ—Å—É—é—â–∏–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–∑—ã–≤–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏—é
    address voter = _msgSender();

    return _castVote(proposalId, voter, support, "");
}
```

–ü–æ-–º–∏–º–æ —Ñ—É–Ω–∫—Ü–∏–∏ `castVote()`, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. [`castVoteWithReason()`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L530) - –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∫ –ø—Ä–∏–Ω—è—Ç–æ–º—É —Ä–µ—à–µ–Ω–∏—é
2. [`castVoteWithReasonAndParams()`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L542C14-L542C41) - –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∫ –ø—Ä–∏–Ω—è—Ç–æ–º—É —Ä–µ—à–µ–Ω–∏—é –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
3. [`castVoteBySig()`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L555C14-L555C27) - –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
4. [`castVoteWithReasonAndParamsBySig()`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L577C14-L577C46) - –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤ –æ–¥–Ω–æ–º: –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ–≥–æ —Ä–µ—à–µ–Ω–∏–µ, –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –ø–æ –ø–æ–¥–ø–∏—Å–∏

–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–±–æ—Ä–∞ –ª—é–±–æ–π –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è, –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º, –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è [`_castVote()`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L631C1-L650C6).

```solidity
function _castVote(
    uint256 proposalId,
    address account,
    uint8 support,
    string memory reason,
    bytes memory params
) internal virtual returns (uint256) {
    /// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–µ–π—á–∞—Å –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —Å—Ç–∞—Ç—É—Å–µ,
    /// —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
    _validateStateBitmap(proposalId, _encodeStateBitmap(ProposalState.Active));

    /// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤–µ—Å –≥–æ–ª–æ—Å–∞
    uint256 weight = _getVotes(account, proposalSnapshot(proposalId), params);

    /// –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≥–æ–ª–æ—Å
    _countVote(proposalId, account, support, weight, params);

    /// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
    if (params.length == 0) {
        emit VoteCast(account, proposalId, support, weight, reason);
    } else {
        emit VoteCastWithParams(account, proposalId, support, weight, reason, params);
    }

    return weight;
}
```

–ù–∞ —Å—Ö–µ–º–µ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
![](./images/cast-vote-process.png)

–†–∞—Å—á–µ—Ç "–≤–µ—Å–∞" –≥–æ–ª–æ—Å–∞ (**_getVotes**) –∏ —É—á–µ—Ç –≥–æ–ª–æ—Å–∞ (**_countVotes**) - —ç—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –º–æ–¥—É–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –ü—Ä–∏ —ç—Ç–æ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ OpenZeppelin –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö [GovernorVotes.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/extensions/GovernorVotes.sol#L57) –∏ [GovernorCountingSimple.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/extensions/GovernorCountingSimple.sol#L76) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

### –û—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ–ª–æ—Å–∞ —Å –ø–æ–¥–ø–∏—Å—å—é

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —É–∑–Ω–∞—Ç—å —á—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–¥–ø–∏—Å—å –º–æ–∂–Ω–æ [—Ç—É—Ç](https://ethereum.org/en/glossary/#digital-signatures).

–û—Å–Ω–æ–≤–Ω–æ–π –ø–ª—é—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ —É—á–∞—Å—Ç–Ω–∏–∫ –¥–∞–µ—Ç —Ü–∏—Ñ—Ä–æ–≤—É—é –ø–æ–¥–ø–∏—Å—å –∏ –µ–º—É **–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–ª–∞—Ç–∏—Ç—å –≥–∞–∑** –∑–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≥–æ–ª–æ—Å–∞. –≠—Ç—É —Ä–æ–ª—å –º–æ–∂–µ—Ç –±—Ä–∞—Ç—å –Ω–∞ —Å–µ–±—è off-chain —Å–µ—Ä–≤–∏—Å –∏ —Å –ø–æ–¥–ø–∏—Å—å—é —É—á–∞—Å—Ç–Ω–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≥–æ–ª–æ—Å, –≤—ã–ø–æ–ª–Ω—è—è —Ç–æ–ª—å–∫–æ —Å–∞–º—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∑–∞ –Ω–µ–≥–æ.

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±—ã–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–¥–ø–∏—Å–∏, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ —É—Å–ª–æ–≤–∏—è, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ["–æ—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ–ª–æ—Å–∞"](#–æ—Ç–ø—Ä–∞–≤–∫–∞-–≥–æ–ª–æ—Å–∞).

–û–¥–Ω–∞–∫–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º –≤—ã–∑—ã–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—é `delegate(address voter)` –≥–æ–ª–æ—Å—É—é—â–∏–π –≤—Å–µ —Ä–∞–≤–Ω–æ –¥–æ–ª–∂–µ–Ω –∑–∞–ø–ª–∞—Ç–∏—Ç—å –∑–∞ –≥–∞–∑. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —É —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–¥–æ–±–Ω—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –∏ –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `delegateBySig()`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–µ –ø–ª–∞—Ç–∏—Ç—å –≥–∞–∑ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –≤—Å–µ–º —ç—Ç–∞–ø–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–æ–ª–æ—Å–∞. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ [Votes.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/utils/Votes.sol#L142).

–ï—Å–ª–∏ –≤—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, —Ç–æ –≥–æ–ª–æ—Å—É—é—â–∏–π —É—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `castVoteBySig(uint256 proposalId, uint8 support, address voter, bytes memory signature)` –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ **MetalampGovernance.sol**. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ [Governor.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L555C1-L572C6).

```solidity
/**
 * @notice –§—É–Ω–∫—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–¥–ø–∏—Å–∏
 * @param proposalId –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
 * @param support –ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ uint8 (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∑–∞", "–ø—Ä–æ—Ç–∏–≤" –∏–ª–∏ "–≤–æ–∑–¥–µ—Ä–∂–∞–ª—Å—è")
 * @param voter –ê–¥—Ä–µ—Å –≥–æ–ª–æ—Å—É—é—â–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞
 * @param signature –ü–æ–¥–ø–∏—Å—å –æ—Ç –∏–º–µ–Ω–∏ –∞–¥—Ä–µ—Å–∞ voter
 */
function castVoteBySig(
    uint256 proposalId,
    uint8 support,
    address voter,
    bytes memory signature
) public virtual returns (uint256) {
    /// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –¥–ª—è –∞–¥—Ä–µ—Å–∞ voter
    bool valid = SignatureChecker.isValidSignatureNow(
        voter,
        _hashTypedDataV4(keccak256(abi.encode(BALLOT_TYPEHASH, proposalId, support, voter, _useNonce(voter)))),
        signature
    );

    /// –ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å—å –Ω–µ–≤–∞–ª–∏–¥–Ω–∞, —Ç–æ –æ—Ç–∫–∞—Ç–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
    if (!valid) {
        revert GovernorInvalidSignature(voter);
    }

    /// –í—ã–∑–æ–≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–æ–ª–æ—Å–∞
    return _castVote(proposalId, voter, support, "");
}

```

–ù–∞ —ç—Ç–æ–º –æ—Ç–ª–∏—á–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–æ–ª–æ—Å–∞ —Å –ø–æ–¥–ø–∏—Å—å—é –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è, –¥–∞–ª—å—à–µ –≤—ã–∑–æ–≤ —É—Ö–æ–¥–∏—Ç –≤ –ø—Ä–∏–≤–∞—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `_castVote()`, –∫–æ—Ç–æ—Ä—É—é —è —Ä–∞–∑–æ–±—Ä–∞–ª –≤ —Ä–∞–∑–¥–µ–ª–µ ["–æ—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ–ª–æ—Å–∞"](#–æ—Ç–ø—Ä–∞–≤–∫–∞-–≥–æ–ª–æ—Å–∞).

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±—ã–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —É—Å–ª–æ–≤–∏—è:

1. **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ** –±—ã–ª–æ **—Å–æ–∑–¥–∞–Ω–æ** –≤ —Å–∏—Å—Ç–µ–º—É –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –°–º–æ—Ç—Ä–∏ –ø—É–Ω–∫—Ç [–≤—ã—à–µ](#—Å–æ–∑–¥–∞–Ω–∏–µ-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è).
2. –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ **–ø—Ä–æ—à–ª–æ** –∏ –±—ã–ª–æ **—É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ** –ø–æ –æ–¥–Ω–æ–º—É –∏–∑ —É—Å–ª–æ–≤–∏–π: –∏—Å—Ç–µ–∫–ª–æ –≤—Ä–µ–º—è –∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–≤–æ—Ä—É–º –±—ã–ª –¥–æ—Å—Ç–∏–≥–Ω—É—Ç. –ü—Ä–æ—Ü–µ—Å—Å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –æ–ø–∏—Å–∞–Ω [–≤—ã—à–µ](#–æ—Ç–ø—Ä–∞–≤–∫–∞-–≥–æ–ª–æ—Å–∞). –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ —É–∑–Ω–∞—Ç—å –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `proposalDeadline(uint256 proposalId)`.

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∞–¥—Ä–µ—Å–∞, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `execute()` –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ **MetalampGovernance.sol**. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ [Governor.sol](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L393).

```solidity
function execute(
    address[] memory targets,
    uint256[] memory values,
    bytes[] memory calldatas,
    bytes32 descriptionHash
) public payable virtual returns (uint256) {
    /// –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    uint256 proposalId = hashProposal(targets, values, calldatas, descriptionHash);

    /// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    _validateStateBitmap(
        proposalId,
        _encodeStateBitmap(ProposalState.Succeeded) | _encodeStateBitmap(ProposalState.Queued)
    );

    /// –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º
    _proposals[proposalId].executed = true;

    /// –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å
    if (_executor() != address(this)) {
        for (uint256 i = 0; i < targets.length; ++i) {
            if (targets[i] == address(this)) {
                _governanceCall.pushBack(keccak256(calldatas[i]));
            }
        }
    }

    /// –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    _executeOperations(proposalId, targets, values, calldatas, descriptionHash);

    /// –û—á–∏—â–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏
    if (_executor() != address(this) && !_governanceCall.empty()) {
        _governanceCall.clear();
    }

    emit ProposalExecuted(proposalId);

    return proposalId;
}
```

–ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ—É–Ω–∫—Ü–∏–∏ [`_executeOperations()`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/governance/Governor.sol#L437C14-L437C32). –ù–∞–º –æ—Ç—Ç—É–¥–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞ —Å—Ç—Ä–æ—á–∫–∞:

```solidity
(bool success, bytes memory returndata) = targets[i].call{value: values[i]}(calldatas[i]);
```


–ú–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Å –≤—ã–∑–æ–≤–æ–º `call()` –±—ã–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

–ù–∞ —Å—Ö–µ–º–µ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
![](./images/execute-process.png)

## –í—ã–≤–æ–¥

–Ø –ø–æ–∫–∞–∑–∞–ª, –∫–∞–∫ –º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å governance –Ω–∞ –±–∞–∑–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ OpenZeppelin. –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –Ω–µ —Å–∞–º–∞—è –ø—Ä–æ—Å—Ç–∞—è, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–∏–±–∫–∞—è, –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π, –ø—Ä–∞–≤–∏–ª –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ—Å—Å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è **—Ç—Ä–∏ —ç—Ç–∞–ø–∞**:
—Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.
–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —Ç—Ä–µ—Ö —ç—Ç–∞–ø–æ–≤ —è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –≤—Å–µ–≥–æ –¥–≤–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞:
1. [MetalampGovernance.sol](../contracts/src/MetalampGovernance.sol)
2. [VotesToken.sol](../contracts/src/VotesToken.sol)

[–¢—Ä–∏ —Ç–µ—Å—Ç–∞](../contracts/test/MetalampGovernance.t.sol), –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —Ç—Ä–∏ —ç—Ç–∞–ø–∞ —Ö–æ—Ä–æ—à–æ –º–æ–≥—É—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω—É –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ.

–í –∫–∞—á–µ—Å—Ç–≤–µ —Ü–µ–ª–µ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ø—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç [Whitelist.sol](../contracts/test/mocks/Whitelist.sol). –ò–º–µ–Ω–Ω–æ –Ω–∞ —ç—Ç–æ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ –≤ —Ç–µ—Å—Ç–∞—Ö —á–µ—Ä–µ–∑ **MetalampGovernance** –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤—ã–∑—ã–≤–∞–ª–∞—Å—å —Ñ—É–Ω–∫—Ü–∏—è `set()` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

_–í–∞–∂–Ω–æ!_ –ù–µ —Å—Ç–æ–∏—Ç –∑–∞–±—ã–≤–∞—Ç—å, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≥–æ—Ä–∞–∑–¥–æ —Å–ª–æ–∂–Ω–µ–µ –∏ –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è –º–µ—Ö–∞–Ω–∏–∑–º TimeLock, —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –¥—Ä—É–≥—É—é —Å–∏—Å—Ç–µ–º—É –ø–æ–¥—Å—á–µ—Ç–∞ –≥–æ–ª–æ—Å–æ–≤ –∏–ª–∏ —Ä–∞—Å—á–µ—Ç–∞ "–≤–µ—Å–∞" –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

## Links

1. [Governance docs](https://docs.openzeppelin.com/contracts/5.x/api/governance)
2. [OpenZeppelin contracts. Repository](https://docs.openzeppelin.com/contracts/5.x/api/governance)