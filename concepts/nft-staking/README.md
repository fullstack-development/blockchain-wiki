# NFT staking

**–ê–≤—Ç–æ—Ä:** [–ü–∞–≤–µ–ª –ù–∞–π–¥–∞–Ω–æ–≤](https://github.com/PavelNaydanov) üïµÔ∏è‚Äç‚ôÇÔ∏è

_–û–ø—Ä!_ **Staking NFT** - —Å–ø–æ—Å–æ–± –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤—ã (NFTs) –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–µ–Ω–∏—è –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–¥–∞–∂–∏ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∏ NFT –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏—â—É—Ç —Å–ø–æ—Å–æ–±—ã –ø—Ä–∏–Ω–µ—Å—Ç–∏ –ø–æ–ª—å–∑—É –≤–ª–∞–¥–µ–ª—å—Ü–∞–º NFT –∏ –ø—ã—Ç–∞—é—Ç—Å—è —Å—Ç–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ –∏–ª–∏ –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–µ–∫—Ç–∞. –î–ª—è —Ç–∞–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å—Ç–µ–π–∫–∏–Ω–≥ NFT –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —Ö–æ—Ä–æ—à–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –ê –¥–ª—è –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π NFT —Å–ø–æ—Å–æ–±–æ–º –ø–æ–ª—É—á–∞—Ç—å –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–µ–π–∫–∏–Ω–≥ NFT?

–û–±—ã—á–Ω–æ —Å—Ç–µ–π–∫–∏–Ω–≥ NFT —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤:
1. **–°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç NFT**. –ü—Ä–µ–¥–º–µ—Ç —Å—Ç–µ–π–∫–∏–Ω–≥–∞.
2. **–°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç Staking**. –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ NFT.
3. **–°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π** (rewards). –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–∫–µ–Ω –ª—é–±–æ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞: ERC-20, ERC-721, ERC-1155.

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞—Å—Ç–µ–π–∫–∞—Ç—å **NFT** –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–¥–∞—Ç—å –µ–µ –≤–æ –≤–ª–∞–¥–µ–Ω–∏–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É **Staking**. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –µ–º—É –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º, –æ–ø–∏—Å–∞–Ω–Ω—ã–º –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ **Staking**. –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞ –æ–¥–Ω—É "–∑–∞—Å—Ç–µ–π–∫–∞–Ω–Ω—É—é" **NFT** –Ω–∞ —Å—Ä–æ–∫ –æ–¥–∏–Ω –≥–æ–¥, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç ERC-20 —Ç–æ–∫–µ–Ω —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–π 100\$.

![](./images/staking-nft-high-schema.png)

–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –∏–ª–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ —è–≤–ª—è—é—Ç—Å—è —Å—Ç–∏–º—É–ª–æ–º, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–≤–ª–µ–∫–∞—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ "—Å—Ç–µ–π–∫–∞—Ç—å" NFT –∑–∞ –º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–ª–∞–¥–µ–Ω–∏—è.

_–í–∞–∂–Ω–æ!_ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –º–æ–∂–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å off-chain –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –∑–∞ –º–µ—Å—Ç–æ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –≤ —Ç–æ–∫–µ–Ω–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–ø—É—Å–∫ –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—é. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç **Rewards** –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –¥–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ. –î—É–º–∞—é –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞—Ü–∏–∏ —Ç—ã –¥–æ–¥—É–º–∞–µ—à—å —Å–∞–º. üòÖ

## –ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –∑–∞ —Å—Ç–µ–π–∫–∏–Ω–≥?

–ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ—Ä–µ–Ω–æ, —Ç–æ –µ—Å—Ç—å –∏–º–µ–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—É–º–º–∞ –≤ ERC-20 —Ç–æ–∫–µ–Ω–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω—É—é **—Å–∏—Å—Ç–µ–º—É** –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è.

–ü–æ–¥–æ–±–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤:
- **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç–µ–π–∫–∏–Ω–≥–∞**. –ß–µ–º –¥–æ–ª—å—à–µ NFT "–∑–∞—Å—Ç–µ–π–∫–∞–Ω–∞", —Ç–µ–º –±–æ–ª—å—à–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ.
- **–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞**. –†–∞–∑–ª–∏—á–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –º–æ–≥—É—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç–∞–≤–∫—É, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞–≤–∫–∏, —Å—Ç–∞–≤–∫–∏, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π –∏ —Ç–æ–º—É –ø–æ–¥–æ–±–Ω–æ–µ.
- **–û–±—â–∞—è —Å—É–º–º–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞**. –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ "–∑–∞—Å—Ç–µ–π–∫–∞–Ω–Ω—ã—Ö" NFT –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —Ä–∞–∑–º–µ—Ä –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è.
- **–†–µ–¥–∫–æ—Å—Ç—å –∏–ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ NFT**. –†–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ NFT –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —Ä–∞–∑–º–µ—Ä –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–¥–∫–∞—è NFT –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –±–æ–ª—å—à–µ, —á–µ–º –æ–±—ã—á–Ω–∞—è.
- **–ö–æ–º–∏—Å—Å–∏—è —Å–µ—Ç–∏**. –û–ø–ª–∞—Ç–∞ –∑–∞ –≥–∞–∑ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–±—Ä–∞—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–≤–µ—Å—Ç–∏ –Ω–∞ –Ω–µ—Ç –ª—é–±–æ–π –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥.

## –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

–ö–∞–∫ –∏ –≤—Å–µ –≤ —ç—Ç–æ–º –º–∏—Ä–µ, —Å—Ç–µ–π–∫–∏–Ω–≥ NFT –Ω–µ—Å–µ—Ç —Å —Å–æ–±–æ–π –ø–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã.

|–ü–ª—é—Å—ã|–ú–∏–Ω—É—Å—ã|
|-----|------|
|**–ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥**. –ó–∞ —Å—Ç–µ–π–∫–∏–Ω–≥ NFT –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∞–∫—Ç–∏–≤—ã.|**–ù–µ–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ (impermanent loss)**. –ú–æ–∂–Ω–æ —É–ø—É—Å—Ç–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—É—é –ø—Ä–∏–±—ã–ª—å.|
|**–î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è**. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—å –∞–∫—Ç–∏–≤–æ–≤ –≤–ª–∞–¥–µ–ª—å—Ü–∞.|**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏**. NFT, —Ñ–∏–∑–∏—á–µ—Å–∫–∏, –Ω–∞ –≤—Ä–µ–º—è —Å—Ç–µ–π–∫–∏–Ω–≥–∞, –º–µ–Ω—è–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞. –í–µ—Ä–Ω—É—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –µ–µ –º–æ–∂–Ω–æ, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç **Staking**.|
|**–ü–æ–≤—ã—à–µ–Ω–∏–µ –≤–æ–≤–ª–µ—á–µ–Ω–∏—è**. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –≤ –∂–∏–∑–Ω–∏ –ø—Ä–æ–µ–∫—Ç–∞, —á—Ç–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç —á—É–≤—Å—Ç–≤–æ –µ–¥–∏–Ω—Å—Ç–≤–∞ –∏ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏—é –ø—Ä–æ–µ–∫—Ç–∞. | **–°–Ω–∏–∂–µ–Ω–∏–µ –≤–æ–≤–ª–µ—á–µ–Ω–∏—è**. –ù–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∏–ª–∏ –±–æ–ª—å—à–æ–π —Å—Ä–æ–∫ —Å—Ç–µ–π–∫–∏–Ω–≥–∞ —Å –º–∞–ª–µ–Ω—å–∫–∏–º –ø—Ä–æ—Ñ–∏—Ç–æ–º –º–æ–∂–µ—Ç —Å–ø–æ—Å–æ–±—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ—Ç–µ—Ä–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ NFT –∫ –ø—Ä–æ–µ–∫—Ç—É. |
|**–î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**. –°—Ç–µ–π–∫–∏–Ω–≥ –º–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –ø–æ–≤—ã—à–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å NFT –∏ –µ–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞. |**–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏**. –°—Ç–µ–π–∫–∏–Ω–≥ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –±—É–¥–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–∞—Ç—å NFT –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.|

## –ß—É—Ç—å-—á—É—Ç—å solidity –∫–æ–¥–∞

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —è –æ–ø–∏—à—É —á–µ—Ç—ã—Ä–µ –ø—Ä–∏–º–µ—Ä–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å—Ç–µ–π–∫–∏–Ω–≥–∞ NFT.

_–í–∞–∂–Ω–æ!_ –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö, –∞—É–¥–∏—Ç –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏.

### –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å—Ç–µ–π–∫–∏–Ω–≥ NFT

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å—Ç–µ–π–∫–∏–Ω–≥–∞ NFT –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–∏–Ω —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç, –Ω–∞–∑–æ–≤—É –µ–≥–æ `SimpleStaking.sol`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞:
- –ø–µ—Ä–µ–¥–∞—Ç—å NFT –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç
- –∑–∞–±—Ä–∞—Ç—å NFT —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤–ª–∞–¥–µ–µ—Ç NFT.

–í –º–æ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞—á–∏ NFT –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞ NFT, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º, —Ç–æ–ª—å–∫–æ –æ–Ω, —Å–º–æ–≥ –≤–µ—Ä–Ω—É—Ç—å –µ–µ —Å–µ–±–µ –æ–±—Ä–∞—Ç–Ω–æ. –î–ª—è —ç—Ç–æ–≥–æ —è –æ–±—ä—è–≤–∏–ª –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
```solidity
/// @notice –•—Ä–∞–Ω–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –¥–ª—è –∑–∞—Å—Ç–µ–π–∫–∞–Ω–Ω—ã—Ö NFT
mapping(uint256 tokenId => address stakeholder) private _stakes;

/// @notice –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞—Å—Ç–µ–π–∫–∞–Ω–Ω—ã—Ö NFT –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–¥—Ä–µ—Å–∞
mapping(address stakeholder => uint256 counter) private _stakedNftBalance;
```

–ß—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å NFT –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É, –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `stake()`.
```solidity
function stake(uint256 tokenId) external {
    /// –ü–µ—Ä–µ–≤–æ–¥ NFT –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
    _nft.safeTransferFrom(msg.sender, address(this), tokenId);

    /// –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –æ –≤–ª–∞–¥–µ–ª—å—Ü–µ
    _stakes[tokenId] = msg.sender;
    _stakedNftBalance[msg.sender] += 1;
}
```

_–í–∞–∂–Ω–æ!_ –ü–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–∏ `stake()`, –≤–ª–∞–¥–µ–ª—å—Ü—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `approve()` –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ NFT –∏ —É–∫–∞–∑–∞—Ç—å –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `SimpleStaking.sol`

–ß—Ç–æ–±—ã –∑–∞–±—Ä–∞—Ç—å NFT –æ–±—Ä–∞—Ç–Ω–æ, –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `unstake()`.

```solidity
function unstake(uint256 tokenId) external checkUnstake(tokenId) {
    /// –ü–µ—Ä–µ–≤–æ–¥ NFT –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤–ª–∞–¥–µ–ª—å—Ü—É
    _nft.safeTransferFrom(address(this), msg.sender, tokenId);

    /// –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤–ª–∞–¥–µ–ª—å—Ü–µ
    delete _stakes[tokenId];
    _stakedNftBalance[msg.sender] -= 1;
}
```

–ü–æ–¥–æ–±–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –ø–æ–∑–≤–æ–ª–∏—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Å—Ç–µ–π–∫–∞–ª–∏ NFT. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ NFT –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞—Å—Ç–µ–π–∫–∞–Ω–∞ —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ `isStaked()`.

```solidity
function isStaked(uint256 tokenId) external view returns (address) {
    return _stakes[tokenId];
}
```

–ü–æ–ª–Ω—ã–π –∫–æ–¥ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `SimpleStaking.sol` –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [—Ç—É—Ç](./contracts/src/SimpleStaking.sol).

### –°—Ç–µ–π–∫–∏–Ω–≥ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–º–µ–Ω–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ NFT

–ó–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞—é—Ç—Å—è —Å—Ç–µ–π–∫–∏–Ω–≥–æ–º NFT, –º–æ–≥—É—Ç –±—ã—Ç—å –≥–æ—Ä–∞–∑–¥–æ —Å–ª–æ–∂–Ω–µ–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–ø–ª–æ—Ö–æ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–ø–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–∞–≤–æ –≤–ª–∞–¥–µ–Ω–∏—è –∑–∞—Å—Ç–µ–π–∫–∞–Ω–Ω–æ–π NFT** –±–µ–∑ —Å–Ω—è—Ç–∏—è –µ–µ —Å–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.

–†–µ—à–∞—Ç—å –ø–æ–¥–æ–±–Ω—É—é –∑–∞–¥–∞—á—É –º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏. –ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `transferOwnership(uint256 tokenId, address owner)` –∏–ª–∏ –ø–æ–π—Ç–∏ –ø–æ –ø—É—Ç–∏ [Uniswap](https://uniswap.org/), [Compound](https://compound.finance/) –∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –≤—ã–¥–∞–≤–∞—è [lp —Ç–æ–∫–µ–Ω—ã](https://academy.binance.com/ru/articles/what-are-liquidity-pool-lp-tokens) –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∞–≤–∞ –≤–ª–∞–¥–µ–Ω–∏—è.

–ú–Ω–µ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç, –ø–æ—ç—Ç–æ–º—É —Å–¥–µ–ª–∞—é –µ–≥–æ –≤ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `SimpleTransferableStaking.sol`.

–î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π: `stake()` –∏ `unstake()`.

```solidity
function stake(uint256 tokenId) external {
    /// –ü–µ—Ä–µ–≤–æ–¥ NFT –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
    _nft.safeTransferFrom(msg.sender, address(this), tokenId);

    /// –í—ã–¥–∞–µ—Ç—Å—è lp nft
    _lpNft.mint(msg.sender, tokenId);
}
```

```solidity
function unstake(uint256 tokenId) external checkUnstake(tokenId) {
    /// –ü–µ—Ä–µ–≤–æ–¥ lp NFT –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
    _lpNft.safeTransferFrom(msg.sender, address(this), tokenId);

    /// –ü–µ—Ä–µ–≤–æ–¥ NFT –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤–ª–∞–¥–µ–ª—å—Ü—É
    _nft.safeTransferFrom(address(this), msg.sender, tokenId);

    /// –°–∂–∏–≥–∞–µ—Ç—Å—è lp nft
    _lpNft.burn(tokenId);
}
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ NFT –∑–∞—Å—Ç–µ–π–∫–∞–Ω–∞, –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞–≤ —Ñ—É–Ω–∫—Ü–∏—é `ownerOf(tokenId)` –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ lpNft (–≤–µ—Ä–Ω–µ—Ç –∞–¥—Ä–µ—Å –≤–ª–∞–¥–µ–ª—å—Ü–∞) –∏–ª–∏ `ownerOf(tokenId)` –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ nft (–≤–µ—Ä–Ω–µ—Ç –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `SimpleTransferableStaking.sol`).

–ü–æ–ª–Ω—ã–π –∫–æ–¥ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `SimpleTransferableStaking.sol` –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [—Ç—É—Ç](./contracts/src/SimpleTransferableStaking.sol).

### –°—Ç–µ–π–∫–∏–Ω–≥ –∑–∞ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ

–ò–¥–µ–º –ø–æ –Ω–∞—Ä–∞—Å—Ç–∞—é—â–µ–π! üòÄ –°–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏–º–µ—Ä–æ–º —Å—Ç–µ–π–∫–∏–Ω–≥–∞ –±—É–¥–µ—Ç —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–ª—É—á–∞—Ç—å —Ä–∞–∑–æ–≤–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –∑–∞ —Å—Ç–µ–π–∫–∏–Ω–≥ NFT –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤ ERC-20 —Ç–æ–∫–µ–Ω–µ. –ù–∞–∑–æ–≤—É —Ç–∞–∫–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç `StakingWithOneTimeReward.sol`.

–ü—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –≤–≤–æ–¥—è—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–Ω—è—Ç–∏—è:
- `rewardToken` - —ç—Ç–æ —Ç–æ–∫–µ–Ω, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –≤—ã–ø–ª–∞—á–∏–≤–∞—Ç—å—Å—è –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ
- `_stakeDuration` - —ç—Ç–æ –≤—Ä–µ–º—è –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º –∑–∞—Å—Ç–µ–π–∫–∞—Ç—å NFT
- `_rewardAmountPerNft` - —ç—Ç–æ —Å—É–º–º–∞ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –∑–∞ –æ–¥–Ω—É NFT

–ú–µ–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é `stake()`. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç–µ–π–∫–µ NFT (–≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å).

```solidity
function stake(uint256 tokenId) external {
    /// –ü–µ—Ä–µ–≤–æ–¥ NFT –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
    _nft.safeTransferFrom(msg.sender, address(this), tokenId);

    /// –ó–∞–ø–∏—Å—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç–µ–π–∫–µ NFT
    _stakes[tokenId] = StakeInfo({
        owner: msg.sender,
        start: block.timestamp,
        duration: _stakeDuration
    });
}
```

–§—É–Ω–∫—Ü–∏—è `unstake()` –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `_claimReward()` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–æ–∫–µ–Ω–∞ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è.

```solidity
function unstake(uint256 tokenId) external checkUnstake(tokenId) {
    /// –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü—É NFT
    _claimReward(msg.sender);

    /// –ü–µ—Ä–µ–≤–æ–¥ NFT –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤–ª–∞–¥–µ–ª—å—Ü—É
    _nft.safeTransferFrom(address(this), msg.sender, tokenId);

    /// –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç–µ–π–∫–µ
    delete _stakes[tokenId];
}
```

```solidity
function _claimReward(address account) private {
    uint256 value = _rewardAmountPerNft;

    _rewardToken.safeTransfer(account, value);
}
```

–ü–æ–ª–Ω—ã–π –∫–æ–¥ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `StakingWithOneTimeReward.sol` –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [—Ç—É—Ç](./contracts/src/StakingWithOneTimeReward.sol).

### –°—Ç–µ–π–∫–∏–Ω–≥ –∑–∞ –≥–æ–¥–æ–≤–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ

–ü–æ—Å–ª–µ–¥–Ω–µ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–∏–º–µ—Ä —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `StakingWithReusableReward.sol`. –ü–æ–∑–≤–æ–ª–∏–º –≤–ª–∞–¥–µ–ª—å—Ü—É NFT –ø–æ–ª—É—á–∞—Ç—å –∑–∞ —Å—Ç–µ–π–∫–∏–Ω–≥ NFT –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ, –Ω–æ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∑–∞–±—Ä–∞—Ç—å –µ–≥–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑.

–£—Å—Ç–∞–Ω–æ–≤–ª—é –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ —Å—É–º–º—É –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤–ª–∞–¥–µ–ª–µ—Ü –ø–æ–ª—É—á–∏—Ç, –µ—Å–ª–∏ –æ–¥–Ω–∞ NFT –±—É–¥–µ—Ç –∑–∞—Å—Ç–µ–π–∫–∞–Ω–∞ —Ä–æ–≤–Ω–æ –Ω–∞ –æ–¥–∏–Ω –≥–æ–¥ `_annualRewardAmountPerNft;`. –û—Ç —ç—Ç–æ —Å—É–º–º—ã –±—É–¥–µ–º –≤—ã—á–∏—Å–ª—è—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –¥–ª—è –ª—é–±–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –≤—Ä–µ–º–µ–Ω–∏.

–†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è (–∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å—É–º–º—É), –∫–æ—Ç–æ—Ä–æ–µ –µ–º—É –ø—Ä–∏—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏ –ª—é–±–æ–º –≤–∑–∞–∏–º–æ–¥–µ–∏—Å—Ç–≤–∏–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ NFT —Å–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º. –ó–∞ —ç—Ç–æ –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä `updateReward()` –∏ –ø—Ä–∏–≤–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `_updateReward()`.

```solidity
  modifier updateReward(address stakeholder) {
      _updateReward(stakeholder);

      _;
  }
```

–í–µ—à–∞—é –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ stake(), unstake() –∏ —Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç —Å–Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ, –∞ –ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–µ–π—Å—Ç–≤–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞ NFT.

```solidity
function stake(uint256 tokenId) external updateReward(msg.sender) {
    /// –ü–µ—Ä–µ–≤–æ–¥ NFT –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
    _nft.safeTransferFrom(msg.sender, address(this), tokenId);

    /// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç–µ–π–∫–µ NFT
    _stakes[tokenId] = msg.sender;

    /// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è
    _stakerRewardInfo[msg.sender].tokenBalance += 1;
    _stakerRewardInfo[msg.sender].lastTimeRewardUpdated = block.timestamp;
}
```

```solidity
function unstake(uint256 tokenId) external updateReward(msg.sender) {
    _unstake(tokenId);
}
```

–†–∞—Å—á–µ—Ç –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –±—É–¥–µ—Ç –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã–º. –°—É–º–º–∞ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –±–∞–∑–µ —Å—É–º–º—ã –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∑–∞ –æ–¥–∏–Ω –≥–æ–¥ "—Å—Ç–µ–π–∫–∞" NFT.

```solidity
function _calculateReward(uint256 nftAmount, uint256 startTime, uint256 endTime)
    private
    view
    returns (uint256 rewardAmount)
{
    /// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ NFT * –≥–æ–¥–æ–≤—É—é —Å—É–º–º—É –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è
    uint256 rewardPerYear = (nftAmount * _annualRewardAmountPerNft) / MULTIPLIER;

    /// –°—É–º–º–∞ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏
    rewardAmount = (rewardPerYear * (endTime - startTime)) / SECS_PER_YEAR;
}
```

–ü–æ–ª–Ω—ã–π –∫–æ–¥ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `StakingWithReusableReward.sol` –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [—Ç—É—Ç](./contracts/src/StakingWithReusableReward.sol).

## –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### Zookeeper

[Zookeeper](https://www.zookeeper.finance/) - —ç—Ç–æ –≥–µ–π–º–µ—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å—é. –î–ª—è –¥–æ–±—ã—á–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é ZooNFT. NFT –º–æ–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å, –∫—É–ø–∏—Ç—å –∏–ª–∏ –≤—ã–∏–≥—Ä–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –°—Ç–µ–π–∫–∏–Ω–≥ —ç—Ç–æ–π NFT –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è.

### MOBOX (MBOX)

[MOBOX](https://www.mobox.io/home/#/) - —ç—Ç–æ –º–µ—Ç–∞–≤—Å–µ–ª–µ–Ω–Ω–∞—è, –∫–æ—Ç–æ—Ä–∞—è —Å–æ—á–µ—Ç–∞–µ—Ç –≤ —Å–µ–±–µ —Ñ–∞—Ä–º–∏–Ω–≥ –∏ NFT. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç–µ–π–∫–∞—Ç—å NFT –∏ –ø–æ–ª—É—á–∞—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–∞–ª—é—Ç–µ. NFT –≤ —Ä–∞–º–∫–∞—Ö –≤—Å–µ–ª–µ–Ω–Ω–æ–π –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è MOMO. –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º. –ö–æ–º–∞–Ω–¥–∞ —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –¥–æ—Å—Ç–∏—á—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É –ø—É–±–ª–∏–∫—É–µ—Ç [–∞–¥—Ä–µ—Å–∞](https://faqen.mobox.io/mobox-platform/smart-contracts) —Å–≤–æ–∏—Ö —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.

### Binance Fan Token Platform

[Binance Fan Token Platform](https://www.binance.com/en/fan-token?utm_source=fan-token) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–ª–∏—Ü–µ—Ç–≤–æ—Ä—è–µ—Ç —Ñ–∞–Ω–∞—Ç—Å–∫—É—é –±–∞–∑—É –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ—É—Ç–±–æ–ª—å–Ω—ã—Ö –∫–ª—É–±–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—Å—è –∫ —Å–≤–æ–µ–π –ª—é–±–∏–º–æ–π –∫–æ–º–∞–Ω–¥–µ.

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∞ –ø–æ–¥-—Å–µ—Ä–≤–∏—Å NFT PowerStation –¥–ª—è "–ø–æ–¥–∑–∞—Ä—è–¥–∫–∏ NFTs", –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –≤ –≤–∏–¥–µ —Ç–æ–∫–µ–Ω–æ–≤ —Ñ–∞–Ω–∞—Ç–æ–≤ Binance. –í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–∑ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø—É–ª–∞ —Ç–æ–∫–µ–Ω–æ–≤. –û–Ω–æ –±—É–¥–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤: —Ç–∏–ø NFT, –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ß–µ–º –¥–æ–ª—å—à–µ NFT "–∑–∞—Ä—è–∂–∞–µ—Ç—Å—è", —Ç–µ–º –≤—ã—à–µ –±—É–¥—É—Ç –Ω–∞–≥—Ä–∞–¥—ã. –í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—á–∞—Å–æ–≤–æ.

## –í—ã–≤–æ–¥

–°—Ç–µ–π–∫–∏–Ω–≥ –∏ NFT - –¥–≤–µ –≤–∞–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –≤ –º–∏—Ä–µ web3. –ó–∞—á–∞—Å—Ç—É—é —ç—Ç–∏ –¥–≤–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, –æ–¥–Ω–∞–∫–æ —Å—Ç–µ–π–∫–∏–Ω–≥ NFT –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ NFT –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## Links

1.[ What Is NFT Staking and How Does It Work?](https://academy.binance.com/en/articles/what-is-nft-staking-and-how-does-it-work)
2. [NFT Staking Explained: Earning Passive Income with NFTs](https://coindcx.com/blog/cryptocurrency/nft-staking-explained/)
3. [Staking rewards](https://solidity-by-example.org/defi/staking-rewards/). –≠—Ç–æ –Ω–µ –ø—Ä–æ NFT, –Ω–æ –ø—Ä–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è.