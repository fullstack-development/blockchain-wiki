# Обзор инструмента tenderly

Author: [Pavel Naydanov](https://github.com/PavelNaydanov)
Время чтения: 5 минут.

[Tenderly](https://docs.tenderly.co/) - это универсальная Web3 платформа разработки, которая включает в себя инструменты отладки, тестирования и разработки смарт-контрактов. Также предоставляет кучу инструментов. Инструмент можно использовать в режиме дашбордов для сбора аналитических данных по задеплоенным контрактам. Продукт включает следующие инструменты:

- [Обзор инструмента tenderly](#обзор-инструмента-tenderly)
  - [Web3 Gateway](#web3-gateway)
  - [Contract verification](#contract-verification)
  - [Transaction Simulator](#transaction-simulator)
  - [Web3 Actions](#web3-actions)
  - [Wallet Monitoring](#wallet-monitoring)
  - [Transaction Filtering](#transaction-filtering)
  - [Visual Debugger](#visual-debugger)
  - [State Inspector](#state-inspector)
  - [Smart Contract Analytics](#smart-contract-analytics)
  - [Real-time Alerting](#real-time-alerting)
  - [Gas Profiler](#gas-profiler)
  - [Forks](#forks)
  - [Integrations](#integrations)
  - [Pricing](#pricing)

Организация рабочего пространства организована через сущность проекты.  Для проектов можно настраивать доступ от имени организации. Также можно создать даже отдельные версии проектов.

Для использования функционала Tenderly Explorer (функционал аналогичный etherscan) для просмотра транзакций авторизация не обязательна.

Существует [посочница](https://sandbox.tenderly.co/rlkv/red-motherboard), которая позволяет писать код смарт-контрактов и `javascript` скрипты для быстрого прототипирования или обучения написанию смарт-контрактов. Код смарт контракта будет компилироваться и выполняться прямо в браузере.

Существует плагин Tenderly для Remix.

## Web3 Gateway

Это быстрое надежное решение в доступе к блокчейну с мгновенной синхронизацией данных.
Можно анализировать и исторические данные.
По сути, это некий интерфейс, провайдер, который позволяет посылать запросы к блокчейну и получать некоторую информацию, например баланс адреса или последний блок  в сети. Пока можно выбрать только предопределенную информацию для получения и выглядит скудновато(возможно просто это новая фича). Подробнее [тут](https://docs.tenderly.co/web3-gateway/quickstart-query-blockchain).

## Contract verification

Можно верифицировать контракт так, чтобы он был виден только владельцу проекта в Tenderly. И только при деплое конечного варианта верифицировать публично. Часто это бывает удобно, чтобы не светить тестовый код контрактов.

## Transaction Simulator

Можно симулировать любую транзакцию и посмотреть, что получится в ответе. В основной стейт блокчейна транзакция конечно не попадет. Работает через вызов JSON RPC метода `eth_call`.

Достаточно мощный инструмент который умеет показывать `traces` вызовов. Может оказаться неоценимым помощником при разработке. В случае ошибки инструмент может сразу подсветить место ошибки непосредственно в коде.

История запущенных симуляций сохраняется.

## Web3 Actions

Это обычная функция `javaScript`, работающая в инфраструктуре Tenderly. В зависимости от определенных правил триггера события в сети или за ней будут запускать action к исполнению.

При помощи этого инструмента можно следить за транзакциями, когда блок добывается(например ценой за газ), перехватчик вводимых пользователем данных, имитация выполнения транзакции и другое.
Требует написания `js` кода. Написание таких функций требует погружения, для этого есть отдельный [раздел документации](https://docs.tenderly.co/web3-actions/intro-to-web3-actions) и [npm](https://docs.tenderly.co/web3-actions/references/local-development-and-testing) пакет для локальной разработки таких функций.

## Wallet Monitoring

Также как и контракт, можно добавить адрес кошелька в Tenderly.  Это дает возможность следить за транзакциями, симулировать транзакции и настраивать поток оповещений.

## Transaction Filtering

Для этого инструмента выделена отдельная вкладка, которая представляет список транзакций конкретного контракта или кошелька. Можно гибко настраивать табличное представление и фильтровать транзакции по собственным параметрам.

Это довольно мощный и удобный инструмент для анализа транзакций.
P.S. Настройка отображения колонок таблицы бесплатна. Настройка фильтров доступна только в платном плане.

## Visual Debugger

Визуальный инструмент, который позволяет детально рассмотреть, что происходит внутри транзакции. Позволяет детально разобрать `call traces`. Можно походить вперед и назад прям по стеку вызовов и дебагер будет подсвечивать вызываемые строчки кода.

## State Inspector

Является частью дебаггера и позволяет перемещаться по точкам вызова внутри транзакции.

## Smart Contract Analytics

Отдельный инструмент для сбора аналитических данных со смарт-контракта. Позволяет смотреть на вызовы транзакции с течением времени, статистика различных топ вызовов, дневная, недельная и месячная активность. Есть возможность создать и добавить к аналитике собственные графики данных.

## Real-time Alerting

Можно настроить собственные оповещения.

## Gas Profiler

Является частью дебаггера. Показывает детальный расход газа транзакцией. Можно посмотреть статистику расходу относительно каждого вызова.

## Forks

Позволяет не просто запускать контракты на форке сетей, а позволяет именно создавать форки путем разветвления сетей. Это дает гибкость в запуске симуляции транзакции или целой группы симуляций изолировано внутри форка.

Работает это следующим образом - создаем форк на основе реальной сети. После этого можно в этом форке развернуть и верифицировать контракт. Дальше можно запускать симуляции в этом форке. К сожалению создать форк на локальной сети в интерфейсе tenderly нет возможности. Но можно импортировать в Tenderly транзакции выполненные [локально](https://docs.tenderly.co/debugger/exporting-a-local-transaction).

## Integrations

Есть интеграция с `hardhat`. Для этого используется специальный плагин `hardhat-tenderly`. Необходимо будет указать аккаунт и проект tenderly с которым будет интеграция. Можно экспортировать транзакции в tenderly. Можно верифицировать контракт при помощи tenderly. Еще есть дополнительный способ использовать [tenderly-cli](https://github.com/Tenderly/tenderly-cli) для дебаггинга.

## Pricing

Продукт Tenderly платный. Бесплатный план довольно скуден. Можно завести только один проект и добавить одну организацию. Нельзя добавить команду к дашбордам. Ограничение на количество контрактов, за которыми можно следить. Скудная дефолтная аналитика. Подробнее можно ознакомиться с прайсингом [тут](https://dashboard.tenderly.co/account/billing/select-plan).
