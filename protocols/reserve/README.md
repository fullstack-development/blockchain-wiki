# Reserve finance

**–ê–≤—Ç–æ—Ä:** [–ü–∞–≤–µ–ª –ù–∞–π–¥–∞–Ω–æ–≤](https://github.com/PavelNaydanov) üïµÔ∏è‚Äç‚ôÇÔ∏è

**[Reserve](https://reserve.org/)** - –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–º –∞–∫—Ç–∏–≤–æ–º, –æ–±–µ—Å–ø–µ—á–µ–Ω–Ω—ã–º 1:1 –Ω–∞–±–æ—Ä–æ–º –¥—Ä—É–≥–∏—Ö —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤. –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, —Ç–∞–∫–æ–π —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–∫—Ç–∏–≤ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å–æ–º, –∞ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è - DTF.

**DTF (Decentralized Token Folio)** - —ç—Ç–æ –Ω–∞–±–æ—Ä —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–∫—Ç–∏–≤ –≤ –≤–∏–¥–µ ERC-20 —Ç–æ–∫–µ–Ω–∞ –¥–ª—è Ethereum –∏ L2 –±–ª–æ–∫—á–µ–π–Ω–æ–≤. DTF –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ ‚Äî –æ—Ç —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–∞ –¥–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è.

–ü–æ –∑–∞–¥—É–º–∫–µ, –ø—Ä–æ—Ç–æ–∫–æ–ª –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º ETF-—Ñ–æ–Ω–¥–∞–º, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é on-chain.

## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

Reserve –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ –∏–Ω–¥–µ–∫—Å–æ–≤: Yield DTF –∏ Index DTF, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö.

**Yield DTF**

–ü–æ–∑–≤–æ–ª—è—é—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Ö–æ–¥–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–∞–º–∏ (stETH, cUSDC, aUSDC –∏ —Ç.–¥), —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—è –¥–æ—Ö–æ–¥ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

**Index DTF**

–ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞–±–æ—Ä–æ–º –∞–∫—Ç–∏–≤–æ–≤ (ETH, WBNB, AVAX –∏ —Ç.–¥.), –∏—Å–ø–æ–ª—å–∑—É—è –æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ —Å–æ—Ç–µ–Ω —Ç–æ–∫–µ–Ω–æ–≤. –õ–µ–≥–∫–∏–π –¥–∏–∑–∞–π–Ω —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–ª–æ–∂–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º, –ø–æ–∑–≤–æ–ª—è—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫—Ä—É–ø–Ω—ã–µ, –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã —Å –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.

**–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Ç–∞–∫ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Index DTF:**
- 10+ –∞–∫—Ç–∏–≤–æ–≤ –Ω–∞ Ethereum –∏ 100+ –∞–∫—Ç–∏–≤–æ–≤ –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ Base.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ª—é–±–æ–π ERC-20 —Ç–æ–∫–µ–Ω, –æ—Ä–∞–∫—É–ª –Ω–µ –Ω—É–∂–µ–Ω.
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø: –ª—é–±–æ–π –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞ –∏–ª–∏ –º–∏–Ω—Ç–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–Ω–¥–µ–∫—Å.
- –ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ª—é–±–æ–π ERC-20 —Ç–æ–∫–µ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–∫–µ–Ω–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ü–æ –¥–µ—Ñ–æ–ª—Ç—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω RSR –æ—Ç Reserve.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —á–µ—Ä–µ–∑ –∞—É–∫—Ü–∏–æ–Ω—ã.

| –°–≤–æ–π—Å—Ç–≤–æ  | Yield DTF (RTokens)         | Index DTF           |
| --------- | --------------------------- | ------------------- |
| –¶–µ–ª—å      | Yield-bearing –∞–∫—Ç–∏–≤—ã        | –î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è      |
| –ê–∫—Ç–∏–≤—ã    | stETH, aUSDC, LST           | –õ—é–±—ã–µ ERC20         |
| Revenue   | Auto-harvest + auctions     | Mint/TVL fees       |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å | –í—ã—Å–æ–∫–∞—è (–º–Ω–æ–∂–µ—Å—Ç–≤–æ plugins) | –ù–∏–∑–∫–∞—è (1 –∫–æ–Ω—Ç—Ä–∞–∫—Ç) |

Index DTF –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø–∞—Å—Å–∏–≤–Ω–æ–π –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å –æ–±—ã—á–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏, –∞ Yield DTF –Ω–∞ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Å–±–æ—Ä–∞ –¥–æ—Ö–æ–¥–∞ (harvest mechanisms).

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–µ—Ç–∞–ª—å–Ω–æ **Index DTF**. –≠—Ç–æ –±–æ–ª–µ–µ —Å–≤–µ–∂–µ–µ, –ª–∞–∫–æ–Ω–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ–¥–æ–±–Ω–æ–≥–æ —Ä–æ–¥–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã.

## Minting and redemption

–ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏, —á—Ç–æ Index DTF —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤. –≠—Ç–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å ERC-20 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º. –ü–æ—ç—Ç–æ–º—É –∏–Ω–¥–µ–∫—Å –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä, –º–∏–Ω—Ç–∏–Ω–≥, —Å–∂–∏–≥–∞–Ω–∏–µ.

–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∏–Ω–¥–µ–∫—Å–∞, **Minting and redemption** - –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∏–Ω–¥–µ–∫—Å –∏ –æ–±—Ä–∞—Ç–Ω–æ.

![](./images/reserve-mint-and-redemption.png)

–ö–∞–∂–¥—ã–π –∏–Ω–¥–µ–∫—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–±–æ—Ä –∞–∫—Ç–∏–≤–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤ –æ–±–º–µ–Ω –Ω–∞ —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞. –ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –Ω–∞–±–æ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –∞–∫—Ç–∏–≤–æ–≤: USDC, USDT, ETH.

–î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å –∏ –ø–æ–ª—É—á–∞–µ—Ç –∞–∫—Ç–∏–≤—ã –∏–∑ –Ω–∞–±–æ—Ä–∞.

**–ü–æ –∫–∞–∫–æ–º—É –∫—É—Ä—Å—É –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –æ–±–º–µ–Ω?**

–î–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∫—É—Ä—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–æ—Ä–º—É–ª–∞, –∫–æ—Ç–æ—Ä–∞—è —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –º–∏–Ω—Ç–∏–Ω–≥–µ:

![](./images/reserve-mint-formula.png)

–≠—Ç–æ —Ñ–æ—Ä–º—É–ª–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ø–∏—Å—ã–≤–∞–µ–º–æ–≥–æ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è. –ñ–µ–ª–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–∞, –∑–∞–ª–æ—á–µ–Ω–Ω–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∏ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞.

_–í–∞–∂–Ω–æ!_ –¢–æ—á–Ω–æ —Ç–∞–∫–∞—è –∂–µ —Ñ–æ—Ä–º—É–ª–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è **redemption**, —á—Ç–æ–±—ã –ø–æ—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–ø–ª–∞—á–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –æ–±–º–µ–Ω –Ω–∞ —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞.

–≠—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫—É—Ä—Å –æ–±–º–µ–Ω–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –Ω–∞–±–æ—Ä–µ. –≠—Ç–∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∑–∞–¥–∞—é—Ç—Å—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º –∏–Ω–¥–µ–∫—Å–∞ –ø—Ä–∏ –µ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã –≤ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤ –Ω—É–∂–Ω—ã—Ö –ø—Ä–æ–ø–æ—Ä—Ü–∏—è—Ö –∏ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä **–±–∞–∑–æ–≤–æ–π –µ–¥–∏–Ω–∏—Ü—ã –∫–æ—Ä–∑–∏–Ω—ã**.

**–ë–∞–∑–æ–≤–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∫–æ—Ä–∑–∏–Ω—ã**

–ë–∞–∑–æ–≤–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∫–æ—Ä–∑–∏–Ω—ã ({BU} - basket units) –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –¥–ª—è –º–∏–Ω—Ç–∏–Ω–≥–∞ 1-–≥–æ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞.

–ï—Å–ª–∏ –±–∞–∑–æ–≤–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∫–æ—Ä–∑–∏–Ω—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è, –∫–∞–∫ {100 USDC, 150 USDT, 0.1 ETH}, —Ç–æ –ª–µ–≥–∫–æ –≤—ã—Å—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –∞–∫—Ç–∏–≤–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è 2-x, 10-x –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏–Ω–¥–µ–∫—Å–∞.

|–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–∞|–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ USDC|–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ USDT|–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ ETH|
|-|-|-|-|
|1 INDEX|100 USDC|150 USDT|0.1 ETH|
|2 INDEX|200 USDC|300 USDT|0.2 ETH|
|...|...|...|...|
|10 INDEX|1000 USDC|1500 USDT|1 ETH|
|...|...|...|...|

**–ö–∞–∫ –ø–æ—Å—á–∏—Ç–∞—Ç—å –¥–æ–ª–∏ —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω–µ?**

–ù–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö –¥–æ–ª–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º –∏–Ω–¥–µ–∫—Å–∞ –∏ –¥–∞–ª—å—à–µ —Ç–æ–ª—å–∫–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏.

–û–¥–Ω–∞–∫–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω–µ. –ù–æ –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –≤—Å–µ —Ç–æ–∫–µ–Ω—ã —Ä–∞–∑–Ω—ã–µ?

–î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ—â–µ –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä **Unit of Account** (UoA), –∫–æ—Ç–æ—Ä—ã–π –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –≤ –∫–∞–∫–æ–π –µ–¥–∏–Ω–∏—Ü–µ –±—É–¥—É—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å—Å—è –≤—Å–µ –∞–∫—Ç–∏–≤—ã –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.

–î–ª—è –∫–æ—Ä–∑–∏–Ω—ã {100 USDC, 150 USDT, 0.1 ETH} —É–¥–æ–±–Ω—ã–º UoA –º–æ–∂–µ—Ç –±—ã—Ç—å USD. –¢–æ–≥–¥–∞ USDC –∏ USDT –∏–º–µ—é—Ç –ø—Ä–∏–≤—è–∑–∫—É 1:1 –∫ USD. –ê –¥–ª—è ETH –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ –∫—É—Ä—Å –≤ USD.

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ 1 ETH = 3000 USD. –¢–æ–≥–¥–∞, –º—ã –º–æ–∂–µ–º –ø–æ—Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∞–∑–æ–≤–æ–π –µ–¥–∏–Ω–∏—Ü—ã –∫–æ—Ä–∑–∏–Ω—ã. 100 USD (100 USDC) + 150 USD (150 USDT) + 300 USD (0.1 ETH) = 550 USD. –ó–Ω–∞—á–µ–Ω–∏—è –≤–∑—è–ª–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –≤—ã—à–µ.

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ –∫–æ—Ä–∑–∏–Ω—ã.
||–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–∞|–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ USD|–î–æ–ª—è —Ç–æ–∫–µ–Ω–∞ –≤ %|
|-|-|-|-|
|USDC|100|100| ‚âà 18.2%|
|USDT|150|150| ‚âà 27.3%|
|ETH|0.1|300| ‚âà 54.5%|

–ü—Ä–∏ —ç—Ç–æ–º, –º—ã –≤—ã–±—Ä–∞–ª–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è UoA –¥–æ–ª–ª–∞—Ä—ã, –Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ –º–µ—à–∞–µ—Ç –Ω–∞–º —Å–¥–µ–ª–∞—Ç—å —Ç–æ–∂–µ —Å–∞–º–æ–µ –≤ –¥—Ä—É–≥–æ–π –≤–∞–ª—é—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä ETH, BTC –∏–ª–∏ –¥–∞–∂–µ –Ω–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ.

**Zapper**

–£ Reserve –∏–Ω–¥–µ–∫—Å—ã –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω—ã –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–æ–∫–µ–Ω–æ–≤ –∏ —ç—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–µ—É–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≥–æ—Ç–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Å—É–º–º—É –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–æ–∫–µ–Ω—É –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã –∏–Ω–¥–µ–∫—Å–∞.

–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ Reserve –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º **Zapper**, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –¥–µ–ø–æ–∑–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –º–∏–Ω—Ç–∞ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –≤ –æ–¥–Ω–æ–º –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —Ç–æ–∫–µ–Ω–µ. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º, –ø—Ä–æ—Ç–æ–∫–æ–ª –≤—ã–ø–æ–ª–Ω–∏—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ–∫–µ–Ω–∞ –≤ –Ω–∞–±–æ—Ä —Ç–æ–∫–µ–Ω–æ–≤ –∫–æ—Ä–∑–∏–Ω—ã.

![](./images/reserve-zapper.png)

_–í–∞–∂–Ω–æ!_ –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏, —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤–Ω–æ—Å–∏—Ç –∫–∞–∂–¥—ã–π –∞–∫—Ç–∏–≤ –∫–æ—Ä–∑–∏–Ω—ã, –≤—Å–µ –µ—â–µ –≤–æ–∑–º–æ–∂–µ–Ω.

## –†–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞

**–†–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–æ–≤** ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞. –ó–∞–¥–∞—á–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ—Ä–∑–∏–Ω–µ –∏–Ω–¥–µ–∫—Å–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–æ—Ä–∑–∏–Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è (USDC, USDT, ETH) –≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏—è—Ö (30%, 20%, 50%). –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —É–º–µ–Ω—å—à–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ USDC –∏ –Ω–∞—Ä–∞—â–∏–≤–∞–Ω–∏—è –¥–æ–ª–∏ ETH –≤ –∫–æ—Ä–∑–∏–Ω–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–π (15%, 20%, 65%).

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏, —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ –≥–æ–ª–ª–∞–Ω–¥—Å–∫–∏–π –∞—É–∫—Ü–∏–æ–Ω.
–≠—Ç–æ –∞—É–∫—Ü–∏–æ–Ω —Å –ø–æ–Ω–∏–∂–µ–Ω–∏–µ–º —Ü–µ–Ω—ã, –∫–æ–≥–¥–∞ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞ –æ–±–º–µ–Ω —Ç–æ–∫–µ–Ω–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –¥–æ–ª—é USDC –∏ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ–ª—é ETH, –∞—É–∫—Ü–∏–æ–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —Å–∫–æ–ª—å–∫–æ USDC –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–∞ 1 ETH.

–ó–∞–ø—É—Å–∫ —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç—Ä–µ–±—É–µ—Ç —É—á–∞—Å—Ç–∏—è –¥–≤—É—Ö —Ä–æ–ª–µ–π:
- **–ú–µ–Ω–µ–¥–∂–µ—Ä —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏.** –≠—Ç–æ –∏–ª–∏ governance —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω–¥–µ–∫—Å–∞
- **–ó–∞–ø—É—Å–∫–∞—é—â–∏–π –∞—É–∫—Ü–∏–æ–Ω.** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å

![](./images/reserve-auction-process.png)

1. –ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏, —É–∫–∞–∑—ã–≤–∞—è —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ –∫–æ—Ä–∑–∏–Ω—ã, –ª–∏–º–∏—Ç—ã –ø–æ–∫—É–ø–∫–∏/–ø—Ä–æ–¥–∞–∂–∏ —Ç–æ–∫–µ–Ω–∞ –∏ –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –≠—Ç–æ—Ç –≤—ã–∑–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ.
2. –°–æ–∑–¥–∞–µ—Ç—Å—è –æ–∫–Ω–æ –∞—É–∫—Ü–∏–æ–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏.
3. –ó–∞–ø—É—Å–∫–∞—é—â–∏–π –∞—É–∫—Ü–∏–æ–Ω –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ –≥–æ–ª–ª–∞–Ω–¥—Å–∫–æ–≥–æ –∞—É–∫—Ü–∏–æ–Ω–∞.
4. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≥–æ–ª–ª–∞–Ω–¥—Å–∫–∏–π –∞—É–∫—Ü–∏–æ–Ω –ø—Ä—è–º–æ –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ –∏–Ω–¥–µ–∫—Å–∞, —Ç–æ –µ—Å—Ç—å –∞—É–∫—Ü–∏–æ–Ω –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ç–æ–∫–µ–Ω–∞–º –∏–Ω–¥–µ–∫—Å–∞ –∏ –µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏.
5. –£—á–∞—Å—Ç–Ω–∏–∫–∏ –∞—É–∫—Ü–∏–æ–Ω–∞ –≤—ã–∫—É–ø–∞—é—Ç –∞–∫—Ç–∏–≤, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∞–∫—Ç–∏–≤, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å. –ö–æ–≥–¥–∞ —Ü–µ–ª—å –∞—É–∫—Ü–∏–æ–Ω–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–ª–∏ —Å—Ä–æ–∫ –µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏—Å—Ç–µ–∫–∞–µ—Ç, –∞—É–∫—Ü–∏–æ–Ω –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Index DTF

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –±—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ **Index DTF** –Ω–∞ –±–∞–∑–µ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](https://github.com/reserve-protocol/reserve-index-dtf/tree/main).

**–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞**

–ù–∞—á–∞—Ç—å –∏–∑—É—á–∞—Ç—å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ª–µ–≥–∫–æ, —É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –≤—Å–µ–≥–æ –æ–¥–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞. –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç [Folio.sol](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol), –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –∏–Ω–¥–µ–∫—Å–∞:
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä–∑–∏–Ω—ã.
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è.
- –ú–∏–Ω—Ç–∏–Ω–≥ –∏ —Å–∂–∏–≥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞.

–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `Folio.sol`:
- –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –æ–±–Ω–æ–≤–ª—è–µ–º—ã–π –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è.
- –°–æ–≤–º–µ—Å—Ç–∏–º —Å ERC-20. –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç ERC-20 –∏–∑ OpenZeppelin.
- –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç AccessControl –æ—Ç OpenZeppelin –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –ø–æ —Ä–æ–ª—è–º.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é –∑–∞—â–∏—Ç—É –æ—Ç reentrance –æ—Ç OpenZeppelin.

–ù–∞ —Å—Ö–µ–º–µ –Ω–∏–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Å–ø–∏—Å–æ–∫ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è `Folio.sol` –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∏ –∞–∫—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–∏–º.

![](./images/reserve-folio-structure.png)

–ê–∫—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã 4-–º—è –∑–µ–ª–µ–Ω—ã–º–∏ –±–æ–∫—Å–∞–º–∏:
1. **Default admin:** –ú–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ—Ç –∫–æ–º–∏—Å—Å–∏–π –¥–æ –Ω–∞–∑–≤–∞–Ω–∏—è), –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞–≤—Å–µ–≥–¥–∞ –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.
2. **User:** –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–ø—É—Å—Ç–∏—Ç—å —Å–µ–±–µ —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞ –∏ –æ–±–º–µ–Ω—è—Ç—å –∏–Ω–¥–µ–∫—Å –Ω–∞ —Ç–æ–∫–µ–Ω—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –ù–∏–∫–∞–∫–∏–µ –ø–∞—É–∑—ã –∏ –∑–∞–º–æ—Ä–æ–∑–∫–∏ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã.
3. **Rebalance manager:** –ú–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏, –∑–∞–∫—Ä—ã—Ç—å –∞—É–∫—Ü–∏–æ–Ω –∏ –∑–∞–∫—Ä—ã—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ.
4. **Auction launcher:** –ú–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –∞—É–∫—Ü–∏–æ–Ω, –∑–∞–∫—Ä—ã—Ç—å –∞—É–∫—Ü–∏–æ–Ω –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏. –ü–æ—Å–ª–µ–¥–Ω–µ–µ –Ω–∞ –º–æ–π –≤–∑–≥–ª—è–¥ –Ω–µ –ª–æ–≥–∏—á–Ω–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ä–æ–ª–µ–π, –Ω–æ —ç—Ç–æ –Ω–µ —É—è–∑–≤–∏–º–æ—Å—Ç—å, —Ç–∞–∫–æ–π –¥–∏–∑–∞–π–Ω.

_–í–∞–∂–Ω–æ!_ –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –±—É–¥–µ—Ç "–∑–∞–¥–µ–ø—Ä–µ–∫–µ–π—á–µ–Ω" –≤–ª–∞–¥–µ–ª—å—Ü–µ–º, —ç—Ç–æ –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–±–º–µ–Ω—è—Ç—å —Ç–æ–∫–µ–Ω—ã –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ —Å–≤–æ–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤—ã (–≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `redeem()`). –û–±–º–µ–Ω –±—É–¥–µ—Ç –ø–æ —Ç–æ–º—É –∫—É—Ä—Å—É, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä—ã—Ç–∏—è –∏–Ω–¥–µ–∫—Å–∞.

**–ö–æ—Ä–∑–∏–Ω–∞**

–¢–µ–ø–µ—Ä—å –º—ã –≥–æ—Ç–æ–≤—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ [–∫–æ—Ä–∑–∏–Ω–∞ —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L118).

```solidity
EnumerableSet.AddressSet private basket;
```

–ö–∞–∫ –º—ã –≤–∏–¥–∏–º, –∫–æ—Ä–∑–∏–Ω–∞ - —ç—Ç–æ "set" –æ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ OpenZeppelin, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç –∞–¥—Ä–µ—Å–∞ —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∫–æ—Ä–∑–∏–Ω–æ–π –ø—Ä–æ—Å—Ç–æ–µ:

```solidity
// –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤
basket.values();

// –î–æ–±–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å —Ç–æ–∫–µ–Ω–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
basket.add(token);

// –£–¥–∞–ª–∏—Ç—å –∞–¥—Ä–µ—Å —Ç–æ–∫–µ–Ω–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
basket.remove(token);
```

–ú—ã –º–æ–∂–µ–º –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∫–æ—Ä–∑–∏–Ω–æ–π –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `Folio.sol`.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ñ—É–Ω–∫—Ü–∏–∏: [addToBasket()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L266) –∏ [removeFromBasket()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L271), –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º `defaultAdmin`.

–ù–∏–∂–µ –º—ã –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É.
```solidity
  function addToBasket(IERC20 token) external nonReentrant onlyRole(DEFAULT_ADMIN_ROLE) {
      require(_addToBasket(address(token)), Folio__BasketModificationFailed());
  }

  function _addToBasket(address token) internal returns (bool) {
    // –ò—Å–∫–ª—é—á–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞ –∏–ª–∏ –Ω—É–ª–µ–≤–æ–π —Ç–æ–∫–µ–Ω
    require(token != address(0) && token != address(this), Folio__InvalidAsset());
    emit BasketTokenAdded(token);

    return basket.add(token);
}
```

–ò–∑ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –∑–¥–µ—Å—å - —ç—Ç–æ —Ç–æ, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–∞–º–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ ( `address(this)`) –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É. –¢–æ –µ—Å—Ç—å, –∏–Ω–¥–µ–∫—Å –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥–µ—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å —Å–µ–±—è —Å–∞–º. –≠—Ç–æ –≤–∞–∂–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ.

–¢–µ–ø–µ—Ä—å –º—ã –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã.

```solidity
    function removeFromBasket(IERC20 token) external nonReentrant {
        ...

        // –£–¥–∞–ª–∏—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç defaultAdmin –∏–ª–∏ –ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–∞ –∏ –µ–≥–æ –≤–µ—Å —Ä–∞–≤–Ω—è—é—Ç—Å—è 0
        require(
            hasRole(DEFAULT_ADMIN_ROLE, msg.sender) ||
            (
              rebalance.details[address(token)].weights.spot == 0
              && IERC20(token).balanceOf(address(this)) == 0
            ),
            Folio__BalanceNotRemovable()
        );
        require(_removeFromBasket(address(token)), Folio__BasketModificationFailed());
    }

    function _removeFromBasket(address token) internal returns (bool) {
        emit BasketTokenRemoved(token);

        delete rebalance.details[token];

        return basket.remove(token);
    }
```

–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç –ø—Ä–æ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã. `defaultAdmin` –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `Folio.sol`, –µ—Å–ª–∏ —É–¥–∞–ª–∏—Ç —Ç–æ–∫–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã.

–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ, –ø—Ä–∏ –æ–±–º–µ–Ω–µ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ —Ç–æ–∫–µ–Ω—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ø–æ–ª—É—á–∏—Ç —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞–¥–µ–∂–Ω–µ–µ, –∫–æ–≥–¥–∞ –∏–Ω–¥–µ–∫—Å–æ–º —É–ø—Ä–∞–≤–ª—è–µ—Ç **governance** –∏ **timeLock**. –≠—Ç–æ –¥–∞—Å—Ç –≤—Ä–µ–º—è, –Ω–∞ —Ç–æ, —á—Ç–æ–±—ã —É—Å–ø–µ—Ç—å –ø—Ä–∏–Ω—è—Ç—å –º–µ—Ä—ã –∏ —Å–¥–µ–ª–∞—Ç—å –æ–±–º–µ–Ω –¥–æ —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã.

–¢–∞–∫–∂–µ –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–∞–º –æ—Ç–º–µ—á–∞–µ—Ç –≤ –∫–æ–¥–µ, —á—Ç–æ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ª—é–±—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ, –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç –Ω–µ–º–Ω–æ–≥–æ —É–¥–∞–ª—è–µ–º–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç `Folio.sol`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ç–æ–ª—å–∫–æ `defaultAdmin` –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã, –Ω–æ –µ—Å–ª–∏ `defaultAdmin` - —ç—Ç–æ **governance**, —Ç–æ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–¥–µ—Ç—Å—è –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ —ç—Ç–æ —É–¥–∞–ª–µ–Ω–∏–µ –∏ –ø–æ–¥–æ–∂–¥–∞—Ç—å **timeLock**.

**Minting**

–§—É–Ω–∫—Ü–∏—è [mint()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L386C1-L433C6) –≤—ã–¥–∞–µ—Ç —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞ –ª—é–±–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ. –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã —ç—Ç–æ –±—ã–ª–æ –Ω–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–µ–Ω—Ç—Ä–∞–Ω—Å–∏ –∏ –¥–µ—Ñ–æ–ª—Ç –∞–¥–º–∏–Ω –Ω–µ –∑–∞–∫—Ä—ã–ª –∏–Ω–¥–µ–∫—Å.

```solidity
function mint(
    uint256 shares,
    address receiver,
    uint256 minSharesOut
) external nonReentrant notDeprecated sync returns (address[] memory _assets, uint256[] memory _amounts) {
    // –ó–¥–µ—Å—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–º–∏—Å—Å–∏–∏
    ...
    uint256 totalFeeShares = ...

    // –û—Ç –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –æ—Ç–Ω—è—Ç—å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏
    uint256 sharesOut = shares - totalFeeShares;

    // –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –∏–∑—ä—è—Ç–∏—è –∫–æ–º–∏—Å—Å–∏–∏
    require(sharesOut != 0 && sharesOut >= minSharesOut, Folio__InsufficientSharesOut());

    // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è –µ–≥–æ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    (_assets, _amounts) = _toAssets(shares, Math.Rounding.Ceil);

    // –°–ø–∏—Å–∞—Ç—å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—É—é –¥–æ–ª—é –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    uint256 assetLength = _assets.length;
    for (uint256 i; i < assetLength; i++) {
        if (_amounts[i] != 0) {
            SafeERC20.safeTransferFrom(IERC20(_assets[i]), msg.sender, address(this), _amounts[i]);
        }
    }

    // –í—ã–¥–∞—Ç—å —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    _mint(receiver, sharesOut);

    // –ó–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–∏—Å—Å–∏–∏ –¥–ª—è DAO
    daoPendingFeeShares += daoFeeShares;
    // –ó–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ  –∫–æ–º–∏—Å—Å–∏–∏ –¥–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –∏–Ω–¥–µ–∫—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    feeRecipientsPendingFeeShares += totalFeeShares - daoFeeShares;
}
```

–ù–∞ –±–∞–∑–µ —Ç–æ–≥–æ, —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞, –∫–æ–¥ —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç —Å—É–º–º—ã –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏ —Å–ø–∏—à–µ—Ç –∏—Ö —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–∑–æ–≤–∞.

–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∑–¥–µ—Å—å —Ç–æ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞ –∑–∞ –≤—ã—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –±—É–¥–µ—Ç —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º (dao –∏ –¥—Ä—É–≥–∏–º).

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–º–∏—Å—Å–∏–∏, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é [distributeFees()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L478C1-L508C6), –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—Å—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –∫–æ–º–∏—Å—Å–∏–∏.

**Redemption**

–§—É–Ω–∫—Ü–∏—è [redeem()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L439C5-L465C6) –≤—ã–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ç–æ–∫–µ–Ω—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤ –æ–±–º–µ–Ω –Ω–∞ —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–µ–Ω—Ç—Ä–∞–Ω—Å–∏ –≤—ã–∑–æ–≤–∞.

```solidity
function redeem(
    uint256 shares,
    address receiver,
    address[] calldata assets,
    uint256[] calldata minAmountsOut
) external nonReentrant sync returns (uint256[] memory _amounts) {
    address[] memory _assets;
    // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –¥–ª—è –≤—ã–¥–∞—á–∏ –µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    (_assets, _amounts) = _toAssets(shares, Math.Rounding.Floor);

    // –°–∂–µ—á—å —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞ —É –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    _burn(msg.sender, shares);

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±–æ–∑–Ω–∞—á–∏–ª –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Å—É–º–º—É –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–æ–∫–µ–Ω—É –∫–æ—Ä–∑–∏–Ω—ã
    uint256 len = _assets.length;
    require(len == assets.length && len == minAmountsOut.length, Folio__InvalidArrayLengths());

    for (uint256 i; i < len; i++) {
        require(_assets[i] == assets[i], Folio__InvalidAsset());
        // –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
        require(_amounts[i] >= minAmountsOut[i], Folio__InvalidAssetAmount(_assets[i]));

        // –í—ã–¥–∞—á–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        if (_amounts[i] != 0) {
            SafeERC20.safeTransfer(IERC20(_assets[i]), receiver, _amounts[i]);
        }
    }
}
```

–§—É–Ω–∫—Ü–∏—è –ø–æ–≥–∞—à–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –ø—Ä–æ—Å—Ç–∞—è –∏ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤. –ì–ª–∞–≤–Ω–æ–µ –∑–¥–µ—Å—å —Ç–æ, —á—Ç–æ –æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞ –≤—Å–µ–≥–¥–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç –æ–±–º–µ–Ω—è—Ç—å —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–æ–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è.

**–†–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∏ –∞—É–∫—Ü–∏–æ–Ω**

–ú—ã –æ–±—ä–µ–¥–∏–Ω—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –∏ –∞—É–∫—Ü–∏–æ–Ω–∞ –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –¥–≤–∞ —à–∞–≥–∞ –æ–¥–Ω–æ–≥–æ –Ω–µ—Ä–∞–∑—ä–µ–¥–∏–Ω–∏–º–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞. –ü–æ—Ä—è–¥–æ–∫ –≤—ã–∑–æ–≤–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

![](./images/reserve-high-auction-flow.png)

–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ —Å —Ç–æ–≥–æ, —á—Ç–æ –º–µ–Ω–µ–¥–∂–µ—Ä —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ [startRebalance()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L589C1-L610C6).

```solidity
function startRebalance(
    TokenRebalanceParams[] calldata tokens,
    RebalanceLimits calldata limits,
    uint256 auctionLauncherWindow,
    uint256 ttl
) external onlyRole(REBALANCE_MANAGER) nonReentrant notDeprecated sync {
    RebalancingLib.startRebalance(
        basket.values(),
        rebalanceControl,
        rebalance,
        tokens,
        limits,
        auctionLauncherWindow,
        ttl,
        bidsEnabled
    );

    // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã –≤ –∫–æ—Ä–∑–∏–Ω—É
    for (uint256 i; i < tokens.length; i++) {
        _addToBasket(tokens[i].token);
    }
}
```

–ó–¥–µ—Å—å –≤–∞–∂–Ω–æ —Ç–æ, —á—Ç–æ –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–æ–±–∞–≤—è—Ç—Å—è –≤ –∫–æ—Ä–∑–∏–Ω—É, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤ —Ñ—É–Ω–∫—Ü–∏—é `startRebalance()` –∞–¥—Ä–µ—Å –±—É–¥–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–º. –í—Å—è –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–ø—Ä—è—Ç–∞–Ω–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ [RebalancingLib.sol](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/utils/RebalancingLib.sol#L24).

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–∞–º—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã.

```solidity
function startRebalance(
    address[] calldata oldTokens,
    IFolio.RebalanceControl storage rebalanceControl,
    IFolio.Rebalance storage rebalance, // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–±–∞–ª–∞–Ω—Å–µ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–∞ –∑–¥–µ—Å—å
    IFolio.TokenRebalanceParams[] calldata tokens,
    IFolio.RebalanceLimits calldata limits,
    uint256 auctionLauncherWindow,
    uint256 ttl,
    bool bidsEnabled
) external {
    ...

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ ttl –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–æ–ø—É—Å–∫–∞—Ö
    require(ttl != 0 && ttl >= auctionLauncherWindow && ttl <= MAX_TTL, IFolio.Folio__InvalidTTL());

    ...

    uint256 len = tokens.length;
    require(len > 1, IFolio.Folio__EmptyRebalance());

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–æ–∫–µ–Ω—É, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–µ
    for (uint256 i; i < len; i++) {
        IFolio.TokenRebalanceParams calldata params = tokens[i];

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —Ç–æ–∫–µ–Ω—É: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å, –∞–¥—Ä–µ—Å, –¥—É–±–ª–∏–∫–∞—Ç—ã, —Ç–∏–ø —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ (–ø–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –≤–µ—Å—É –≤ –∫–æ—Ä–∑–∏–Ω–µ –∏–ª–∏ –Ω–µ—Ç)

        ...

        rebalance.details[params.token] = IFolio.RebalanceDetails({
            inRebalance: true,
            weights: params.weight,
            initialPrices: params.price,
            maxAuctionSize: params.maxAuctionSize
        });
    }

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–µ
    rebalance.nonce++;
    rebalance.limits = limits;
    rebalance.startedAt = block.timestamp;
    rebalance.restrictedUntil = block.timestamp + auctionLauncherWindow;
    rebalance.availableUntil = block.timestamp + ttl;
    rebalance.priceControl = rebalanceControl.priceControl;
    rebalance.bidsEnabled = bidsEnabled;

    emit IFolio.RebalanceStarted(
        rebalance.nonce,
        rebalance.priceControl,
        tokens,
        limits,
        block.timestamp,
        block.timestamp + auctionLauncherWindow,
        block.timestamp + ttl,
        bidsEnabled
    );
}
```

–ß—Ç–æ –∑–¥–µ—Å—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ:
1. ttl (Time-To-Live) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ, —á–µ–º –æ–∫–Ω–æ –∞—É–∫—Ü–∏–æ–Ω–∞ (auctionLauncherWindow), –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º ttl –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º 4-–º—è –Ω–µ–¥–µ–ª—è–º–∏.
2. –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –≤ —Ä–∞–º–∫–∞—Ö ttl –∏–ª–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–æ–æ–±—â–µ, –µ—Å–ª–∏ auctionLauncherWindow —É–∫–∞–∑–∞—Ç—å 0.
3. –í –º–æ–º–µ–Ω—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏.

**auctionLauncherWindow** - –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–≤–µ–Ω 0. –ö–æ–≥–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ —Ä–∞–≤–µ–Ω –Ω—É–ª—é, –æ–Ω –¥–µ–ª–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞ –¥–≤–∞ –æ—Ç—Ä–µ–∑–∫–∞ –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–∏–ø –∞—É–∫—Ü–∏–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –±—É–¥—É—â–µ–º.

![](./images/reserve-rebalance-timing.png)

–° –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—á–∞–ª–∞ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏, –ø–æ–∫–∞ –Ω–µ –∫–æ–Ω—á–∏—Ç—Å—è –æ–∫–Ω–æ –∞—É–∫—Ü–∏–æ–Ω–∞, –∞—É–∫—Ü–∏–æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω —Ç–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ [openAuction()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L619).

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–∫–Ω–æ –∞—É–∫—Ü–∏–æ–Ω–∞ –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å, –Ω–æ —É—Å–ª–æ–≤–∏—è —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –∞—É–∫—Ü–∏–æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ª—é–±—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ [openAuctionUnrestricted()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L646C14-L646C37).

–ö–∞–∫ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –∞—É–∫—Ü–∏–æ–Ω –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏. –í–∞–∂–Ω–æ, —á—Ç–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ "Unrestricted" –∞—É–∫—Ü–∏–æ–Ω–∞ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ. –≠—Ç–æ–≥–æ —Ö–≤–∞—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –∞—É–∫—Ü–∏–æ–Ω **–¥–æ–ª–∂–µ–Ω** –Ω–∞—á–∞—Ç—å—Å—è –≤ —Ä–∞–º–∫–∞—Ö —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏, –Ω–æ —Å–∞–º –∞—É–∫—Ü–∏–æ–Ω –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏.

–õ–æ–≥–∏–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –∞—É–∫—Ü–∏–æ–Ω–∞ - —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –æ –µ–≥–æ –Ω–∞—á–∞–ª–µ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ —Ç–æ–∂–µ —Å–ø—Ä—è—Ç–∞–Ω–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `RebalancingLib.sol` –≤ —Ñ—É–Ω–∫—Ü–∏—é [openAuction()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/utils/RebalancingLib.sol#L122).

–¢—ã –º–æ–∂–µ—à—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç—å, –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç–∫—Ä—ã—Ç–∏–µ –∞—É–∫—Ü–∏–æ–Ω–∞, –∞ –º—ã –ø–µ—Ä–µ–º–µ—Å—Ç–∏–º—Å—è –∫ –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –ª–æ–≥–∏–∫–µ, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—ã–∫—É–ø –ª–æ—Ç–∞ –∞—É–∫—Ü–∏–æ–Ω–∞. –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ –≤—Ä–µ–º—è –∞—É–∫—Ü–∏–æ–Ω–∞ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é [bid()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L720C1-L739C6).

```solidity
function bid(
  uint256 auctionId,
  IERC20 sellToken,
  IERC20 buyToken,
  uint256 sellAmount,
  uint256 maxBuyAmount,
  bool withCallback,
  bytes calldata data
) external nonReentrant notDeprecated sync returns (uint256 boughtAmt) {
  require(rebalance.bidsEnabled, Folio__PermissionlessBidsDisabled());
  Auction storage auction = auctions[auctionId];

  // –ü–æ–ª—É—á–∏—Ç—å —Å—É–º–º—É –ø–æ–∫—É–ø–∫–∏
  (, boughtAmt, ) = _getBid(auction, sellToken, buyToken, sellAmount, sellAmount, maxBuyAmount);

  // –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∫—É–ø–∫—É –∏ —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã–π —Ç–æ–∫–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã, –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ —Ü–µ–ª—å –∞—É–∫—Ü–∏–æ–Ω–∞
  if (RebalancingLib.bid(auction, auctionId, sellToken, buyToken, sellAmount, boughtAmt, withCallback, data)) {
      _removeFromBasket(address(sellToken));
  }
}
```

–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–∫–µ–Ω –ø–æ–∫—É–ø–∫–∏ –∏ —Ç–æ–∫–µ–Ω –ø—Ä–æ–¥–∞–∂–∏, –∞ —Ç–∞–∫–∂–µ —Å—É–º–º—É —Ç–æ–∫–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏. –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ:
- **sellToken:** –≠—Ç–æ —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–æ–¥–∞–µ—Ç, –∑–Ω–∞—á–∏—Ç –¥–ª—è –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏—é `bid()` - —ç—Ç–æ —Ç–æ–∫–µ–Ω –ø–æ–∫—É–ø–∫–∏.
- **buyToken:** –≠—Ç–æ —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–æ–∫—É–ø–∞–µ—Ç, –∑–Ω–∞—á–∏—Ç –¥–ª—è –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏—é `bid()` - —ç—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–æ–¥–∞–∂–∏.

–ü–æ—ç—Ç–æ–º—É —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç —Å–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ **buyToken** –≤ —Ä–∞–º–∫–∞—Ö –ø–æ–∫—É–ø–∫–∏ –ª–æ—Ç–∞ –∞—É–∫—Ü–∏–æ–Ω–∞.

–§—É–Ω–∫—Ü–∏—è `bid()` –ø—Ä—è—á–µ—Ç —Å–≤–æ—é –ª–æ–≥–∏–∫—É –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `RebalancingLib.sol`. –ù–∞—Å –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞—Ç—å –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏: [getBid()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/utils/RebalancingLib.sol#L264) –∏ [bid()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/utils/RebalancingLib.sol#L343C5-L343C18).

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∏–∂–µ.

```solidity
function getBid(
    IFolio.Rebalance storage rebalance,
    IFolio.Auction storage auction,
    IERC20 sellToken,
    IERC20 buyToken,
    GetBidParams memory params
) external view returns (uint256 sellAmount, uint256 bidAmount, uint256 price) {
    assert(params.minSellAmount <= params.maxSellAmount);

    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∞—É–∫—Ü–∏–æ–Ω–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∫—É–ø–∫–∏
    price = _price(rebalance, auction, sellToken, buyToken);

    uint256 buyAvailable;
    {
        IFolio.RebalanceDetails memory buyDetails = rebalance.details[address(buyToken)];

        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ª–∏–º–∏—Ç –ø–æ–∫—É–ø–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –≤–µ—Å–∞ —Ç–æ–∫–µ–Ω–∞ –∏ –æ–±—â–µ–≥–æ –ª–∏–º–∏—Ç–∞ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
        uint256 buyLimit = Math.mulDiv(rebalance.limits.low, buyDetails.weights.low, D18, Math.Rounding.Floor);

        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å–∫–æ–ª—å–∫–æ —É–∂–µ –∫—É–ø–ª–µ–Ω–æ
        uint256 buyLimitBal = Math.mulDiv(buyLimit, params.totalSupply, D27, Math.Rounding.Floor);
        buyAvailable = params.buyBal < buyLimitBal ? buyLimitBal - params.buyBal : 0;

        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ—Å—Ç–∞—Ç–æ–∫ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –∞—É–∫—Ü–∏–æ–Ω—É
        uint256 buyRemaining = buyDetails.maxAuctionSize > auction.traded[address(buyToken)]
            ? buyDetails.maxAuctionSize - auction.traded[address(buyToken)]
            : 0;

        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—É—é —Å—É–º–º—É –∏–ª–∏ –æ—Å—Ç–∞–≤—à—É—é—Å—è
        buyAvailable = Math.min(buyAvailable, buyRemaining);

        ...
    }

    uint256 sellAvailable;
    {
        ...

        // –ù–∞ –±–∞–∑–µ buyAvailable —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å
        uint256 sellAvailableFromBuy = Math.mulDiv(buyAvailable, D27, price, Math.Rounding.Floor);
        sellAvailable = Math.min(sellAvailable, sellAvailableFromBuy);

        ...

        sellAvailable = Math.min(sellAvailable, sellRemaining);
    }

    ...

    // –ò—Ç–æ–≥–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å
    bidAmount = Math.mulDiv(sellAmount, price, D27, Math.Rounding.Ceil);
    require(bidAmount <= params.maxBuyAmount, IFolio.Folio__SlippageExceeded());
}
```

–ü–æ –∏—Ç–æ–≥—É `getBid()` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–æ–≤ –æ–Ω –º–æ–∂–µ—Ç –ø—Ä–æ–¥–∞—Ç—å –∏ –∫—É–ø–∏—Ç—å, —Å–æ–±–ª—é–¥–∞—è –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ –ª–∏–º–∏—Ç—ã —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã –∏ —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É. –°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ü–µ–Ω–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ [getPrice()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/utils/RebalancingLib.sol#L427) –∏ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª—É –≥–æ–ª–ª–∞–Ω–¥—Å–∫–æ–≥–æ –∞—É–∫—Ü–∏–æ–Ω–∞ –ø–æ–Ω–∏–∂–∞–µ—Ç—Å—è —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏.

```solidity
function _price(
    IFolio.Rebalance storage rebalance,
    IFolio.Auction storage auction,
    IERC20 sellToken,
    IERC20 buyToken
) internal view returns (uint256 p) {
    IFolio.PriceRange memory sellPrices = auction.prices[address(sellToken)];
    IFolio.PriceRange memory buyPrices = auction.prices[address(buyToken)];

    ...

    uint256 elapsed = block.timestamp - auction.startTime;
    uint256 auctionLength = auction.endTime - auction.startTime;

    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã
    uint256 k = MathLib.ln(Math.mulDiv(startPrice, D18, endPrice)) / auctionLength;

    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
    p = Math.mulDiv(startPrice, MathLib.exp(-1 * int256(k * elapsed)), D18, Math.Rounding.Ceil);
    if (p < endPrice) {
        p = endPrice;
    }
}
```

–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∑–¥–µ—Å—å —Ç–æ, —á—Ç–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç k –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–º –ª–æ–≥–∞—Ä–∏—Ñ–º–æ–º). –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–π –∏ –∫–æ–Ω–µ—á–Ω–æ–π —Ü–µ–Ω—ã, –∞ —Ç–∞–∫–∂–µ –æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞—É–∫—Ü–∏–æ–Ω–∞. –ß–µ–º –±–æ–ª—å—à–µ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ü–µ–Ω–∞–º–∏ –∏ —á–µ–º –∫–æ—Ä–æ—á–µ –∞—É–∫—Ü–∏–æ–Ω, —Ç–µ–º –≤—ã—à–µ —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã.

–¢–µ–ø–µ—Ä—å –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –ª–æ–≥–∏–∫—É —Å–∞–º–æ–≥–æ –≤—ã–∫—É–ø–∞ —Ç–æ–∫–µ–Ω–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ [bid()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/utils/RebalancingLib.sol#L343).

```solidity
function bid(
    IFolio.Auction storage auction,
    uint256 auctionId,
    IERC20 sellToken,
    IERC20 buyToken,
    uint256 sellAmount,
    uint256 bidAmount,
    bool withCallback,
    bytes calldata data
) external returns (bool shouldRemoveFromBasket) {
    ...

    // –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –ø—Ä–æ–¥–∞–∂–∏
    SafeERC20.safeTransfer(sellToken, msg.sender, sellAmount);

    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ —Å–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
    if (withCallback) {
        IBidderCallee(msg.sender).bidCallback(address(buyToken), bidAmount, data);
    } else {
        SafeERC20.safeTransferFrom(buyToken, msg.sender, address(this), bidAmount);
    }

    ...

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–º —Å–∫–æ–ª—å–∫–æ –±—ã–ª–æ –ø—Ä–æ–¥–∞–Ω–æ –∏ –∫—É–ø–ª–µ–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –∞—É–∫—Ü–∏–æ–Ω–∞
    auction.traded[address(sellToken)] += sold;
    auction.traded[address(buyToken)] += bought;

    emit IFolio.AuctionBid(auctionId, address(sellToken), address(buyToken), sold, bought);

    // –í–µ—Ä–Ω—É—Ç—å true, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —É–¥–∞–ª–∏—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
    return sellBalAfter == 0;
}
```

–ü–æ–º–∏–º–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –º–µ–∂–¥—É –≤—ã–∑—ã–≤–∞—é—â–∏–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º –∏–Ω–¥–µ–∫—Å–∞ –º—ã –º–æ–∂–µ–º –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤—ã–∑—ã–≤–∞—é—â–∏–º –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–ª–∞—Ç–∏—Ç –ø–æ–∫—É–ø–∫—É –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–µ. –û–¥–Ω–∞–∫–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IBidderCallee`.

–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –∏ –∞—É–∫—Ü–∏–æ–Ω–æ–≤ —Ç–µ–º, —á—Ç–æ –∏—Å—Ç–µ–∫–ª–æ –≤—Ä–µ–º—è –∏–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –±—ã–ª–∏ –≤—ã–∑–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ [closeAuction()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L779) –∏ [endRebalance()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L799).

–≠—Ç–æ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

```solidity
function closeAuction(uint256 auctionId) external nonReentrant {
  require(
      hasRole(DEFAULT_ADMIN_ROLE, msg.sender) ||
          hasRole(REBALANCE_MANAGER, msg.sender) ||
          hasRole(AUCTION_LAUNCHER, msg.sender),
      Folio__Unauthorized()
  );
  ...

  // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤—Ä–µ–º–µ–Ω–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞—É–∫—Ü–∏–æ–Ω–∞
  auctions[auctionId].endTime = block.timestamp - 1;
}

function endRebalance() external nonReentrant {
    require(
        hasRole(DEFAULT_ADMIN_ROLE, msg.sender) ||
            hasRole(REBALANCE_MANAGER, msg.sender) ||
            hasRole(AUCTION_LAUNCHER, msg.sender),
        Folio__Unauthorized()
    );

    // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤—Ä–µ–º–µ–Ω–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
    rebalance.availableUntil = block.timestamp;
}
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ —Å–∞–º—ã–π –∑–Ω–∞—á–∏–º—ã–π –∏ —Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ—Ç–æ–∫–æ–ª–∞: —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∏ –∞—É–∫—Ü–∏–æ–Ω—ã. –£ –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—ã–∫—É–ø–∞ –ª–æ—Ç–æ–≤, —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö "—Ñ–∏–ª–ª–µ—Ä–æ–≤", –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å CowDAO. –û—Å—Ç–∞–≤–ª—è—é —ç—Ç–æ –≤ [–∫–∞—á–µ—Å—Ç–≤–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L742C5-L773C6).

**–î–µ–ø–ª–æ–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞**

–î–µ–ø–ª–æ–π - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –∏–Ω–¥–µ–∫—Å–∞ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç –µ–≥–æ –∫ —Ä–∞–±–æ—Ç–µ. –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç [FolioDeployer.sol](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/deployer/FolioDeployer.sol).

![](./images/reserve-deploy-process.png)

–ú–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–∞ –ø–æ —Ç–∏–ø—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –æ–¥–Ω–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º –∏–ª–∏ —á–µ—Ä–µ–∑ DAO. –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è DAO –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –ø—Ä—è–º–æ –≤ —Ö–æ–¥–µ –¥–µ–ø–ª–æ—è –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞.

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∏–Ω–¥–µ–∫—Å –±—É–¥–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç, –∫–∞–∫ –æ–±–Ω–æ–≤–ª—è–µ–º—ã–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ —Ç–∏–ø—É `TransparentUpgradeableProxy`, –Ω–æ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏. –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã–∑–æ–≤–∞ –ø–æ –¥–µ–ø–ª–æ—é: –æ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–¥–µ–∫—Å–∞, –¥–æ –≤—ã–¥–∞—á–∏ –ø—Ä–∞–≤ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–µ–π. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø—Ä–æ–∫—Å–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç [FolioProxyAdmin.sol](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/folio/FolioProxy.sol#L14).

–¢–æ—Ç –∫—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º `FolioProxyAdmin.sol` –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –Ω–æ–≤–æ–π –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏, –û–¥–Ω–∞–∫–æ, –Ω–æ–≤–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∏ –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–µ–π. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–æ—Ç–æ–∫–æ–ª –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—é —Å —É—è–∑–≤–∏–º–æ—Å—Ç—å—é –∏–ª–∏ –æ—à–∏–±–∫–æ–π.

–°–º–æ—Ç—Ä–∏–º –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é [upgradeToVersion()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/folio/FolioProxy.sol#L24C14-L24C30) –≤ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ `FolioProxyAdmin.sol`, –∫–æ—Ç–æ—Ä–∞—è —ç—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç.

```solidity
function upgradeToVersion(address proxyTarget, bytes32 versionHash, bytes memory data) external onlyOwner {
    IFolioVersionRegistry folioRegistry = IFolioVersionRegistry(versionRegistry);

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ–±—ã –≤–µ—Ä—Å–∏—è –±—ã–ª–∞ –Ω–µ –∑–∞–ø—Ä–µ—â–µ–Ω–∞
    require(!folioRegistry.isDeprecated(versionHash), VersionDeprecated());
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ–±—ã –≤–µ—Ä—Å–∏—è –±—ã–ª–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
    require(address(folioRegistry.deployments(versionHash)) != address(0), InvalidVersion());

    address folioImpl = folioRegistry.getImplementationForVersion(versionHash);

    ITransparentUpgradeableProxy(proxyTarget).upgradeToAndCall(folioImpl, data);
}
```

## Governance –∏ RSR

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç [FolioGovernance.sol](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/governance/FolioGovernor.sol), –∫–æ—Ç–æ—Ä—ã–π Reserve –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏. –í —Ü–µ–ª–æ–º —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –æ—Ç OpenZeppelin, –Ω–æ –∏–º–µ–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–ª–∏—á–∏–π –æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ governance:

1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π **proposalThreshold**. –í OpenZeppelin –∑–∞–¥–∞—ë—Ç—Å—è –∫–∞–∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í `FolioGovernor.sol` –æ–Ω –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—â–µ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏:

    ```solidity
    function proposalThreshold()
        public
        view
        override(GovernorUpgradeable, GovernorSettingsUpgradeable)
        returns (uint256)
    {
        uint256 threshold = super.proposalThreshold();
        uint256 pastSupply = Math.max(1, token().getPastTotalSupply(clock() - 1));

        // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–æ—Ä–æ–≥ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        return (threshold * pastSupply + (1e18 - 1)) / 1e18;
    }
    ```
2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π **quorum**. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `GovernorVotesQuorumFractionUpgradeable` –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–≤–æ—Ä—É–º –≤—ã—á–∏—Å–ª—è–ª—Å—è, –∫–∞–∫ –¥–æ–ª—è –æ—Ç –æ–±—â–µ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.

    ```solidity
    function quorum(
        uint256 timepoint
    ) public view override(GovernorUpgradeable, GovernorVotesQuorumFractionUpgradeable) returns (uint256) {
        return super.quorum(timepoint);
    }
    ```
–ï—Å—Ç—å –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥—Ä—É–≥–∏—Ö –æ—Ç–ª–∏—á–∏–π, –Ω–æ —ç—Ç–æ —Å–∫–æ—Ä–µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –û–ø—É—Å—Ç–∏–º –∏—Ö –∏ –¥–≤–∏–Ω–µ–º—Å—è –¥–∞–ª—å—à–µ. –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã Governance —Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∏–Ω–¥–µ–∫—Å, –æ–Ω –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å DAO, –∫–∞–∫ –º–æ–¥–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–º –∏ —É–∫–∞–∑–∞—Ç—å —Ç–æ–∫–µ–Ω –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –¥–ª—è DAO. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π ERC-20 —Ç–æ–∫–µ–Ω –∏–ª–∏ —Ç–æ–∫–µ–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ RSR.

**RSR - —Ç–æ–∫–µ–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª–∞**

**RSR** - —ç—Ç–æ —Ç–æ–∫–µ–Ω ERC-20, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ governance, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã.

RSR –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **Staking**: –°—Ç–µ–π–∫–∏–Ω–≥ –≤ Yield DTF –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–∞–ø–∏—Ç–∞–ª–∞ –≤ –æ–±–º–µ–Ω –Ω–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å DTF.
- **Vote-locking on Index DTFs**: –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –¥–ª—è Index DTF: RSR —Ç–æ–∫–µ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ –¥–µ—Ñ–æ–ª—Ç—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Index DTF (–∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ –∫–æ—Ä–∑–∏–Ω–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤).
- **Deflationary sink**: –ß–∞—Å—Ç—å –∫–æ–º–∏—Å—Å–∏–π —Å –∫–∞–∂–¥–æ–≥–æ Index DTF –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä—ã–Ω–æ—á–Ω–æ–π –ø–æ–∫—É–ø–∫–∏ RSR –∏ –µ–≥–æ —Å–∂–∏–≥–∞–Ω–∏—è, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç—Å—è –æ–±–æ—Ä–æ—Ç–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ.

## Fees & revenue

–ö–æ–º–∏—Å—Å–∏—è - –≤–∞–∂–Ω–∞—è –¥–≤–∏–∂—É—â–∞—è —Å–∏–ª–∞ –¥–ª—è –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω –≤ —Ä–∞–±–æ—Ç–µ –∏–Ω–¥–µ–∫—Å–∞.

–î–ª—è Index DTF –µ—Å—Ç—å –¥–≤–µ —è–≤–Ω—ã—Ö –∫–æ–º–∏—Å—Å–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–∑–∏–º–∞—é—Ç—Å—è –ø—Ä—è–º–æ —Å –∫–∞–∂–¥–æ–≥–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞:
1. **TVL fee** (management fee). –†–∞–∑–º–µ—Ä —Å—Ç—Ä–æ–≥–æ <10% APY (governance —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç, –æ–±—ã—á–Ω–æ 0.01-0.1% –≥–æ–¥–æ–≤—ã—Ö)
2. **Mint fee**. –ö–æ–º–∏—Å—Å–∏—è –∑–∞ —ç–º–∏—Å—Å–∏—é –∏–Ω–¥–µ–∫—Å–∞.

–û–±–µ –∫–æ–º–∏—Å—Å–∏–∏ –≤–∑–∏–º–∞–µ—Ç—Å—è –≤ —Ç–æ–∫–µ–Ω–µ –∏–Ω–¥–µ–∫—Å–∞. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `mint()` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –∏–Ω–¥–µ–∫—Å–∞ –∑–∞ –≤—ã—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏, –∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∏—Å—Å–∏–∏ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–∞ –≤–Ω—É—Ç—Ä–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∏–Ω–¥–µ–∫—Å–∞.

–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∫–æ–º–∏—Å—Å–∏–æ–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –ø–æ–∑–∂–µ. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é [distributeFees()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L478C1-L508C6).

```solidity
function distributeFees() public nonReentrant sync {
    uint256 _feeRecipientsPendingFeeShares = feeRecipientsPendingFeeShares;
    feeRecipientsPendingFeeShares = 0;
    uint256 feeRecipientsTotal;

    // –ú–∏–Ω—Ç–∏–Ω–≥ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –∫–æ–º–∏—Å—Å–∏–∏, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
    uint256 len = feeRecipients.length;
    for (uint256 i; i < len; i++) {
        uint256 shares = (_feeRecipientsPendingFeeShares * feeRecipients[i].portion) / D18;
        feeRecipientsTotal += shares;

        _mint(feeRecipients[i].recipient, shares);

        emit FolioFeePaid(feeRecipients[i].recipient, shares);
    }

    // –ú–∏–Ω—Ç–∏–Ω–≥ —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è DAO
    uint256 daoShares = daoPendingFeeShares + _feeRecipientsPendingFeeShares - feeRecipientsTotal;

    (address daoRecipient, , , ) = daoFeeRegistry.getFeeDetails(address(this));

    _mint(daoRecipient, daoShares);
    emit ProtocolFeePaid(daoRecipient, daoShares);

    daoPendingFeeShares = 0;
}
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–∫–æ–ø–∏—Ç—å –∫–æ–º–∏—Å—Å–∏—é —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏, —á—Ç–æ–±—ã –∑–∞—Ç–µ–º –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π –µ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ - —ç—Ç–æ –ø—É–±–ª–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–∞ –ª—é–±–æ–π –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–æ–π.

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –∫–æ–º–∏—Å—Å–∏–æ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å –º–∏–Ω—Ç–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, –≤ [totalSupply()](https://github.com/reserve-protocol/reserve-index-dtf/blob/main/contracts/Folio.sol#L356) —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω–¥–µ–∫—Å–∞ –∫–æ–º–∏—Å—Å–∏—è –≤—Å–µ —Ä–∞–≤–Ω–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É, –¥–∞–∂–µ –µ—Å–ª–∏ –∫–æ–º–∏—Å—Å–∏—è –Ω–µ –±—ã–ª–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.

```solidity
function totalSupply() public view override returns (uint256) {
    (uint256 _daoPendingFeeShares, uint256 _feeRecipientsPendingFeeShares, ) = _getPendingFeeShares();

    // –ö —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –æ–±—ä–µ–º—É —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏
    return super.totalSupply() + _daoPendingFeeShares + _feeRecipientsPendingFeeShares;
}
```

## –†–∏—Å–∫–∏

–ü—Ä–æ—Ç–æ–∫–æ–ª Reserve —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∏—Å–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤ —Å–≤–æ–µ–π [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://reserve.org/protocol/risks/) –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–∏–º–∏. –ó–∞–±–µ–≥–∞—è –≤–ø–µ—Ä–µ–¥, –º–æ–µ –º–Ω–µ–Ω–∏–µ, —á—Ç–æ –æ–Ω–∏ –ª–æ–≥–∏—á–Ω—ã –∏ –Ω–µ —Ç–∞–∫–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ç–æ, –æ —á–µ–º –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å.

**–°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã**

–ü—Ä–æ—Ç–æ–∫–æ–ª —Å–æ–∑–¥–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤. –ï—Å–ª–∏ –≤ –Ω–∏—Ö –æ–±–Ω–∞—Ä—É–∂–∞—Ç—Å—è –æ—à–∏–±–∫–∏ –∏–ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏, —Ç–æ —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∞–∫—Ç–∏–≤–æ–≤. –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø—Ä–æ—à–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—É–¥–∏—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–æ –Ω–∏ –æ–¥–∏–Ω –∞—É–¥–∏—Ç –Ω–µ –º–æ–∂–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –ù–∞ –º–æ–π –≤–∑–≥–ª—è–¥ - —ç—Ç–æ—Ç —Ä–∏—Å–∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ–Ω –¥–ª—è –ª—é–±—ã—Ö defi –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

**–û—Ä–∞–∫—É–ª**

–î–ª—è Yield DTF —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ä–∏—Å–∫, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å —Ä–∞–±–æ—Ç–æ–π –æ—Ä–∞–∫—É–ª–∞. –û—Ä–∞–∫—É–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—É–º–º—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è.

–ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ —É—Å–ª–æ–≤–Ω—ã–π –æ—Ä–∞–∫—É–ª –æ—à–∏–±–æ—á–Ω–æ —Å–æ–æ–±—â–∏—Ç —Ü–µ–Ω—É —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, DTF –º–æ–∂–µ—Ç —Å—á–∏—Ç–∞—Ç—å –∑–∞–ª–æ–≥ –¥–µ—Ñ–æ–ª—Ç–æ–º –∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–±–º–µ–Ω—è—Ç—å –µ–≥–æ –Ω–∞ –∞–≤–∞—Ä–∏–π–Ω—ã–π –∑–∞–ª–æ–≥, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —Å —É–±—ã—Ç–∫–æ–º.

**Sandwich –∞—Ç–∞–∫–∏ –∏ MEV**

**Mev searchers** –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏—â—É—Ç –≤ –±–ª–æ–∫—á–µ–π–Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—ã–≥–æ–¥—ã. –ü—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å –ª—é–±—ã–º dex –Ω–∞ AMM –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–ª–µ–¥—É–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø–æ–∏—Å–∫–æ–≤–∏–∫–∏ –º–æ–≥—É—Ç –∏–∑–≤–ª–µ—á—å –≤—ã–≥–æ–¥—ã –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

–°—Ç–æ–∏—Ç –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–æ—Å–æ–±—ã –∑–∞—â–∏—Ç—ã –æ—Ç MEV —á–µ—Ä–µ–∑ [Flashbots RPC](https://docs.flashbots.net/).

**Governance —Ä–∏—Å–∫–∏. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–º —á–µ—Ä–µ–∑ DAO**

–ü—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è DTF –∏–∑ –∫–æ—Ä–æ–±–∫–∏. –û–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ–µ –æ–Ω—á–µ–π–Ω-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. –ü–æ–ª–Ω–æ–º–æ—á–∏—è —É —Å–∏—Å—Ç–µ–º—ã –±–æ–ª—å—à–∏–µ, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–º–æ–∂–Ω—ã –∞—Ç–∞–∫–∏.
–≠—Ç–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∞—Ç–∞–∫–∏ –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —É –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–π –≤–ª–∞—Å—Ç–∏, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Å—Ç–∏ –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ —É–∫—Ä–∞—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞.

–ü–æ–¥–æ–±–Ω—ã–µ —Ç–∏–ø—ã –∞—Ç–∞–∫ —Å–º—è–≥—á–∞—é—Ç—Å—è –∑–∞ —Å—á—ë—Ç –Ω–∞–ª–∏—á–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–æ–ª–µ–π –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–º.

**Admin —Ä–∏—Å–∫–∏. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–º**

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Default admin` –≤–º–µ—Å—Ç–æ `governance` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Ç–æ–≥–¥–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç:
- –£–¥–∞–ª–∏—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã, —Ç–µ–º —Å–∞–º—ã–º –∑–∞–º–æ—Ä–æ–∑–∏–≤ –µ–≥–æ
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **mint** (–Ω–æ redeem –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)
- –û–±–Ω–æ–≤–∏—Ç—å –¥–æ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (—Å–º—è–≥—á–µ–Ω–æ —Ç–µ–º, —á—Ç–æ –≤–µ—Ä—Å–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ versionRegistry)
- –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –∏–Ω–¥–µ–∫—Å–∞

**Collateral asset —Ä–∏—Å–∫–∏**

–†–∏—Å–∫ –∞–∫—Ç–∏–≤–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω —Å —Ç–µ–º, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω blacklist –≤ –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥—É—Ç –ø–æ–ø–∞–¥–∞—Ç—å –∞–¥—Ä–µ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º –ø–æ–ª—É—á–µ–Ω–∏–µ "—á–µ—Ä–Ω–æ–≥–æ" —Ç–æ–∫–µ–Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ –∏ –≤–º–µ—Å—Ç–µ —Å –Ω–∏–º –¥—Ä—É–≥–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤.

–¢–∞–∫–∂–µ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ —Ä–∏—Å–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞ –º–æ–π –≤–∑–≥–ª—è–¥ –º–µ–Ω–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ —Ä–∏—Å–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —á–∞—Å—Ç–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤, —Ç–æ–∫–µ–Ω—ã –∫–æ—Ç–æ—Ä—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –∫–∞–∫ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ.

## –í—ã–≤–æ–¥—ã

**Reserve Index DTF** ‚Äî —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è on-chain –∏–Ω–¥–µ–∫—Å–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ—à–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã DeFi: —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏–∑ –∞–∫—Ç–∏–≤–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–Ω–æ–≥–æ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–∞.

–í—Å–µ–≥–æ –æ–¥–∏–Ω —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç `Folio.sol` —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

- **Permissionless –∑–∞–ø—É—Å–∫**: –õ—é–±–æ–π –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å —Å –ª—é–±–æ–π –∫–æ—Ä–∑–∏–Ω–æ–π ERC-20 –±–µ–∑ –æ—Ä–∞–∫—É–ª–æ–≤. –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —ç—Ç–æ –ø–æ–∫–∞ **coming soon**.

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞** —á–µ—Ä–µ–∑ –≥–æ–ª–ª–∞–Ω–¥—Å–∫–∏–µ –∞—É–∫—Ü–∏–æ–Ω—ã ‚Äî –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π AMM –¥–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π.

- **–≠–∫–æ–Ω–æ–º–∏–∫–∞ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–±–æ—Ä–æ–≤**: –ö–æ–º–∏—Å—Å–∏—è –≤–∑–∏–º–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–∫–µ–Ω–µ –∏–Ω–¥–µ–∫—Å–∞, –∫–æ—Ç–æ—Ä—ã–π —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –≤—ã–∫—É–ø–µ –∏ —Å–∂–∏–≥–∞–Ω–∏–∏ RSR —Ç–æ–∫–µ–Ω–∞, —Ç–µ–º —Å–∞–º—ã–º —É–º–µ–Ω—å—à–∞—è –µ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ä—ã–Ω–∫–µ.

- **–î–æ—Å—Ç—É–ø–Ω–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å:** –û–±–º–µ–Ω —Ç–æ–∫–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ –∑–∞–ª–æ–≥–æ–≤—ã–µ –∞–∫—Ç–∏–≤—ã –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ç–µ–∫—É—â–∏–º –ø—Ä–æ–ø–æ—Ä—Ü–∏—è–º –∫–æ—Ä–∑–∏–Ω—ã.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è **Reserve** ‚Äî —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: –Ω–µ—Ç "–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π" –∫–æ—Ä–∑–∏–Ω—ã, –Ω–µ—Ç –Ω–∞–≤—è–∑–∞–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤. –†—ã–Ω–æ–∫ —Å–∞–º –≤—ã–±–µ—Ä–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –∏ –æ—Ç—Å–µ–µ—Ç –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ - —ç—Ç–æ "decentralized BlackRock", –≥–¥–µ –ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å ETF.

–ü—Ä–∏ —ç—Ç–æ–º, –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Å—Ç–∞—é—Ç—Å—è —Ä–∏—Å–∫–∏: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, MEV, governance –∞—Ç–∞–∫–∏, —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ç–æ–∫–µ–Ω—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è.

## Links

1. [Reserve docs](https://reserve.org/protocol/)
2. Yield DTFs [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/reserve-protocol/protocol)
3. Index DTFs [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/reserve-protocol/reserve-index-dtf)
4. –ü—Ä–∏—è—Ç–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–µ–º, –∫—Ç–æ –ª—é–±–∏—Ç —Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ. –£–∑–Ω–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª —á–µ—Ä–µ–∑ [—Å–µ—Ä–∏—é –æ–±—É—á–∞—é—â–∏—Ö —Ñ–∏–ª—å–º–æ–≤](https://reserve.org/protocol/video_overview/).