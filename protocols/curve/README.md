# Curve

**–ê–≤—Ç–æ—Ä:** [–ü–∞–≤–µ–ª –ù–∞–π–¥–∞–Ω–æ–≤](https://github.com/PavelNaydanov) üïµÔ∏è‚Äç‚ôÇÔ∏è

![](./images/curve-logo.png)

**Curve** ‚Äî —ç—Ç–æ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±–º–µ–Ω–Ω–∏–∫ (DEX) –Ω–∞ –±–∞–∑–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ç-–º–µ–π–∫–µ—Ä–∞ (AMM) –¥–ª—è Ethereum –∏ EVM-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –±–ª–æ–∫—á–µ–π–Ω–æ–≤. –ü–æ –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–∞–º–∏, –Ω–æ –∏ –æ–±—ã—á–Ω—ã–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤—ã —Ç–æ–∂–µ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è.

## –ü—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏—è

–ü—Ä–µ–¥–ø–æ—Å—ã–ª–∫–æ–π –ø–æ—è–≤–ª–µ–Ω–∏—è Curve, –∫–∞–∫ –Ω–∏ —Å—Ç—Ä–∞–Ω–Ω–æ, —Å—Ç–∞–ª –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ [Uniswap](https://app.uniswap.org/) v2. –ù–∞ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç Uniswap —É–∂–µ –≤–Ω–µ–¥—Ä–∏–ª —Ñ–æ—Ä–º—É–ª—É –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ `x * y = k`. –≠—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–∞ –¥–ª—è –æ–±–º–µ–Ω–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –Ω–µ–±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –ø—É–ª–∞, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –æ–∫–∞–∑—ã–≤–∞–ª–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ.

–î–æ–ø—É—Å—Ç–∏–º, –≤ –ø—É–ª–µ Uniswap ETH/USDC –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –Ω–∞ \$1_000_000. –ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–±–º–µ–Ω—è—Ç—å ETH –Ω–∞ —Å—É–º–º—É \$750_000, —Ç–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω–æ –Ω–∞–º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ USDC, —á–µ–º \$750_000, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç –±–∞–ª–∞–Ω—Å ETH –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ USDC –≤ –ø—É–ª–µ.

–ò —ç—Ç–æ –æ—Å–æ–±–æ –æ—Å—Ç—Ä–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ –æ–±–º–µ–Ω–µ –æ–¥–Ω–æ–≥–æ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–∞ –Ω–∞ –¥—Ä—É–≥–æ–π, —Ç–∞–∫ –∫–∞–∫ –∏—Ö —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–≤–Ω—è—Ç—å—Å—è 1 –¥–æ–ª–ª–∞—Ä—É. –í–æ–∑—å–º–µ–º –ø—É–ª USDT/USDC, –ø—Ä–∏ –æ–±–º–µ–Ω–µ USDT –Ω–∞ USDC, –≤ –ø—É–ª–µ –±—É–¥–µ—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ USDT –∏ –º–µ–Ω—å—à–µ USDC, –∏ –¥–∞–∂–µ –Ω–µ–±–æ–ª—å—à–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ —Ä–µ–∑–µ—Ä–≤–æ–≤ –≤ –ø—É–ª–µ –±—É–¥–µ—Ç —É–≤–æ–¥–∏—Ç—å —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω—ã –æ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫ 1 –¥–æ–ª–ª–∞—Ä—É —Å–æ–≥–ª–∞—Å–Ω–æ —Ñ–æ—Ä–º—É–ª–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.

–ü–æ—ç—Ç–æ–º—É –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –±—ã–ª–æ –Ω–µ–∏–∑–±–µ–∂–Ω–æ. –ü—Ä–æ—Ç–æ–∫–æ–ª Curve –ø—Ä–µ–¥–ª–æ–∂–∏–ª –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –º–∞—Ç–µ–º–∞—Ç–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π –º–µ–∂–¥—É –º–æ–¥–µ–ª—å—é —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è Uniswap –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–Ω–æ–π. –¢–æ –µ—Å—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–Ω—ã –ø–æ–∑–≤–æ–ª—è–µ—Ç—Å—è, –Ω–æ –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å Uniswap. –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è —Ü–µ–Ω—ã Uniswap –∏ Curve (StableSwap), –≤–∑—è—Ç—ã–π –∏–∑ [whitepaper](https://docs.curve.fi/assets/pdf/stableswap-paper.pdf).

![](./images/curve-bounding-curve.png)

–ì—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –Ω–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–Ω–æ–π –¥–ª—è –æ–±–º–µ–Ω–∞ (dx), —Ü–µ–Ω–∞ —É StableSwap –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ.

–£–±–µ–¥–∏—Ç—å—Å—è –≤ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ Curve –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±–º–µ–Ω–∞ –¥–≤—É—Ö —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–æ–≤ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Uniswap v2 –∏ Curve (–î–ª—è Uniswap –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∫–ª—é—á–∏—Ç—å –ø—É–ª—ã —Ç–æ–ª—å–∫–æ –¥–ª—è v2). –ù–∞ `$100_000`, –¥–ª—è –æ–±–º–µ–Ω–∞ USDC –Ω–∞ DAI, —Ä–∞–∑–Ω–∏—Ü–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–∞–º–µ—Ç–Ω–æ–π. –ü—Ä–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–Ω–∏—Ü–∞ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è.

![](./images/curve-vs-uniswap-v2.png)

> –í Uniswap V3 —Ç–∞–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–æ–≤—ã–π –∫–æ–Ω—Ü–µ–ø—Ç "–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏" –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ —Ü–µ–Ω—ã. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ —Å—á–µ—Ç –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ —Ü–µ–Ω—ã.

## –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ Curve

Curve –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Ñ–æ—Ä–º—É–ª—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä–∫–µ—Ç-–º–µ–π–∫–µ—Ä–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–ª—è –æ–±–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–æ–≤. –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ —Ñ–æ—Ä–º—É–ª–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–∞–≤–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Ñ–æ—Ä–º—É–ª–æ–π –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å—É–º–º—ã –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ–º –¥–ª—è –æ–±–º–µ–Ω–∞ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–æ–≤.

- –§–æ—Ä–º—É–ª–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å—É–º–º—ã `x + y = k`. –î–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ, –Ω–æ –º–æ–∂–µ—Ç –∏—Å—á–µ—Ä–ø–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –∞–∫—Ç–∏–≤–æ–≤ –≤ –ø—É–ª–µ.
- –§–æ—Ä–º—É–ª–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è `x * y = k`. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–æ–≤, –∫–æ—Ç–æ—Ä—É—é –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å—á–µ—Ä–ø–∞—Ç—å, –Ω–æ –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Uniswap v2 –∏ v3.

Curve –≤–≤–æ–¥–∏—Ç –ø–æ–Ω—è—Ç–∏–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –µ–µ –±—É–∫–≤–æ–π `D`. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `k` –≤ Uniswap. –¢–∞–∫ –∫–∞–∫ –≤ –ø—É–ª–∞—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –¥–≤—É—Ö –∞–∫—Ç–∏–≤–æ–≤, —Ç–æ —Ñ–æ—Ä–º—É–ª—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å—É–º–º—ã –∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è.

![](./images/curve-sum-and-product-constants-formules.png)

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ:
- D - –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞
- x - i-–π –∞–∫—Ç–∏–≤
- n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–æ–≤ –≤ –ø—É–ª–µ
- Œ£ - —Å—É–º–º–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–æ–≤
- –ü - –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–æ–≤

–î–∞–ª—å—à–µ –º—ã –ø—Ä–æ–ø—É—Å—Ç–∏–º —à–∞–≥ –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Ç–æ–≥–æ–≤–æ–π —Ñ–æ—Ä–º—É–ª—ã Curve –∏–∑ —Ñ–æ—Ä–º—É–ª –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å—É–º–º—ã –∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è. –ö–æ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —Ç–æ –º–æ–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º—É –æ–ø–∏—Å–∞–Ω–∏—é –º–µ—Ö–∞–Ω–∏–∑–º–∞ StableSwap](https://docs.curve.fi/references/whitepapers/stableswap/). –ú—ã –∂–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Å—Ä–∞–∑—É –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Ñ–æ—Ä–º—É–ª—É StableSwap.

![](./images/curve-stable-swap-formule.png)

–í —Ñ–æ—Ä–º—É–ª–µ –≤–≤–æ–¥–∏—Ç—Å—è –ø–æ–Ω—è—Ç–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —É—Å–∏–ª–µ–Ω–∏—è (amplification coefficient), –∫–æ—Ç–æ—Ä—ã–π –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è, –∫–∞–∫ `A`. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É—Å–∏–ª–µ–Ω–∏—è `A` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ñ–æ—Ä–º—É –∫—Ä–∏–≤–æ–π –æ–±–º–µ–Ω–∞ –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–∞–º–∏ –≤ –ø—É–ª–µ –∏ —è–≤–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º.

–í—ã—Å–æ–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `A` –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø—É–ª –≤–µ—Å—Ç–∏ —Å–µ–±—è –±–æ–ª–µ–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –ø—É–ª —Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å—É–º–º–æ–π, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –æ–±–º–µ–Ω–∞—Ö. –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –≤–±–ª–∏–∑–∏ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –æ–±–º–µ–Ω–∞, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –æ–±–º–µ–Ω –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –∏ –¥–µ—à–µ–≤—ã–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–ù–∏–∑–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `A` –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø—É–ª –≤–µ—Å—Ç–∏ —Å–µ–±—è –±–æ–ª—å—à–µ –∫–∞–∫ –ø—É–ª —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º (–∫–∞–∫ –≤ Uniswap), —á—Ç–æ –ª—É—á—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞–∫—Ç–∏–≤–æ–≤ —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å—é –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª—É—á—à–µ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ —Ç–æ—Ä–≥–æ–≤ –∏–ª–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è–º–∏ —Ü–µ–Ω.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–µ–≥–∫–æ, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –≤ –Ω–∞—à–µ–º –ø—É–ª–µ –≤—Å–µ–≥–æ –¥–≤–∞ –∞–∫—Ç–∏–≤–∞ `x` –∏ `y`, –∞ `–ê` —Ä–∞–≤–Ω—è–µ—Ç—Å—è 0. –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –Ω–∞—Å –∫ —Ñ–æ—Ä–º—É–ª–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.

–ü–æ–¥—Å—Ç–∞–≤–∏–º –≤ –∏—Ç–æ–≥–æ–≤—É—é —Ñ–æ—Ä–º—É–ª—É Curve –∑–∞ –º–µ—Å—Ç–æ:
- A -> 0
- x[i] -> `x` –∏ `y`

–ü–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â—É—é —Ñ–æ—Ä–º—É–ª—É, —Ç–∞–∫ –∫–∞–∫ —É–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ 0, –¥–∞–µ—Ç 0:

![](./images/curve-stable-swap-formule-for-two-assets.png)

–ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –Ω–∞—à–∏ —Ñ–æ—Ä–º—É–ª—ã –±—É–¥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º

![](./images/curve-graph-sum-and-product-constants-formules.png)

–ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –≤–∏–¥–∏–º, —á—Ç–æ –Ω–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è –≥–∏–ø–µ—Ä–±–æ–ª–∞ –∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –¥–ª—è —Ñ–æ—Ä–º—É–ª—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –¥–≤—É—Ö –∞–∫—Ç–∏–≤–æ–≤. –°–∏–Ω–∏–π –≥—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–Ω—ã–π, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ–± –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏.

–¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–µ–º –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ —Ñ–æ—Ä–º—É–ª—É –¥–ª—è –¥–≤—É—Ö –∞–∫—Ç–∏–≤–æ–≤ —Å A –Ω–µ —Ä–∞–≤–Ω—ã–º –Ω—É–ª—é.

![](./images/curve-stable-swap-formule-for-two-assets-full.png)

–ü—Ä–∏ –º–∞–ª–µ–Ω—å–∫–æ–º –∑–Ω–∞—á–µ–Ω–∏–µ `A` - —ç—Ç–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º—É–ª–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.

![](./images/curve-graph-little-a.png)

–ü—Ä–∏ –±–æ–ª—å—à–æ–º –∑–Ω–∞—á–µ–Ω–∏–µ `A` - –∑–∞–º–µ—Ç–Ω–æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ —Ñ–æ—Ä–º—É–ª–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å—É–º–º—ã.

![](./images/curve-graph-big-a.png)

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã –Ω–∞–≥–ª—è–¥–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∏, –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º Curve —É–¥–∞–µ—Ç—Å—è –ª–∞–≤–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Ñ–æ—Ä–º—É–ª–∞–º–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å—É–º–º—ã –∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–±–º–µ–Ω–∞ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–æ–≤.

## StableSwap exchange

–ê–ª–≥–æ—Ä–∏—Ç–º StableSwap –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º—É–ª –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å—É–º–º—ã –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—è—Å—å –ø–æ–¥ —ç—Ç–∏ –º–æ–¥–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∞–ª–∞–Ω—Å–∞ –∞–∫—Ç–∏–≤–æ–≤ –≤ –ø—É–ª–µ. –ú—ã —É–±–µ–¥–∏–ª–∏—Å—å –≤ —ç—Ç–æ–º –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ä–∞–∑–¥–µ–ª–µ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ Curve.

–í–∞–∂–Ω–æ —Ç–æ, —á—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É –Ω–µ–ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª–µ–Ω —Ç–∏–ø —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π, –∫–∞–∫ –∫ —Ñ–∏–∞—Ç—É, —Ç–∞–∫ –∏ –∫ –¥—Ä—É–≥–∏–º –∫—Ä–∏–ø—Ç–æ –∞–∫—Ç–∏–≤–∞–º.

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –±–ª–æ–∫—á–µ–π–Ω–∞, Curve –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- [StableSwap](https://github.com/curvefi/curve-contract/tree/master/contracts/pools): –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É–ª–æ–≤.
- [StableSwap-ng](https://github.com/curvefi/stableswap-ng): –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –ø–æ–∫–æ–ª–µ–Ω–∏–µ–º.

> –ï—Å–ª–∏ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ [deployments](https://github.com/curvefi/stableswap-ng/tree/main/deployments) StableSwap-ng —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, —Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Å–µ—Ç–µ–π, –≤ –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∞ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–∞ —ç—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è. –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ: Mantle, XLayer, zkSync –∏ –¥—Ä—É–≥–∏–µ.

–î–∞–ª—å—à–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã StableSwap, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ –±–æ–ª—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–µ—Ç–µ–π.

### StableSwap

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –ø—É–ª –∞–∫—Ç–∏–≤–æ–≤ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ —è–∑—ã–∫–µ `vyper` –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ [Brownie](https://github.com/eth-brownie/brownie).

–°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç—Ä–∏ —Ç–∏–ø–∞ –ø—É–ª–æ–≤ Curve:
- **Plain pool**. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –ø—É–ª, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤ —Å–µ–±–µ –¥–≤–∞ –∏ –±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–∞ –¥–ª—è –æ–±–º–µ–Ω–∞.
- **Lending pool**. –≠—Ç–æ –ø—É–ª, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å LP —Ç–æ–∫–µ–Ω–∞–º–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ª–µ–Ω–¥–∏–Ω–≥ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.
- **Metapool**. –≠—Ç–æ –ø—É–ª, –≥–¥–µ –∞–∫—Ç–∏–≤ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å LP —Ç–æ–∫–µ–Ω–æ–º **plain** –ø—É–ª–∞.

–í –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞, –ø—É–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- `exchange()` - –æ–±–º–µ–Ω—è—Ç—å –æ–¥–∏–Ω –∞–∫—Ç–∏–≤ –Ω–∞ –¥—Ä—É–≥–æ–π
- `add_liquidity()` - –¥–æ–±–∞–≤–∏—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
- `remove_liquidity()` - –∑–∞–±—Ä–∞—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
- `remove_liquidity_imbalance()` - –∑–∞–±—Ä–∞—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –Ω–µ–ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- `remove_liquidity_one_coin()` - –∑–∞–±—Ä–∞—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –∞–∫—Ç–∏–≤–µ

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- `_xp()` - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –±–∞–ª–∞–Ω—Å—ã —Ç–æ–∫–µ–Ω–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø—É–ª–∞ –∫ –µ–¥–∏–Ω–æ–º—É decimals. –ü–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ —Ä–∞—Å—á–µ—Ç–∞–º–∏ –±–∞–ª–∞–Ω—Å—ã –ª—é–±—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ decimals —Ä–∞–≤–Ω–æ–º—É 18.
- `get_D()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã. –î–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [–º–µ—Ç–æ–¥ –ù—å—é—Ç–æ–Ω–∞](https://en.wikipedia.org/wiki/Newton%27s_method), –æ—Ç —ç—Ç–æ–≥–æ –∏ —Ç–∞–∫–∏–µ –Ω–µ–ø—Ä–æ—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º—É–ª–µ. –≠—Ç–æ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —Ç–æ–ª—å–∫–æ –≤–Ω–∏–∫–∞—è –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π whitepaper.
- `get_virtual_price()` - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å lp —Ç–æ–∫–µ–Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –±–∞–∑–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤ –ø—É–ª–∞
- `calc_token_amount()` - –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç totalSupply –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏. –ù–æ –æ–Ω–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–º–∏–Ω—á–µ–Ω –∏–ª–∏ —Å–æ–∂–∂–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–∏ –Ω–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø—É–ª–µ.

### –û–±–∑–æ—Ä –∫–æ–¥–∞ –ø—É–ª–∞

–£ Curve –º–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –∞—Ç–æ–º–∞—Ä–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω –ø–æ –º–Ω–æ–∂–µ—Å—Ç–≤—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤. –í—Å–µ, —á—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –æ–±–º–µ–Ω–∞ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–∞–º–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ [curve-contract](https://github.com/curvefi/curve-contract). –ù–µ—Ç—Ä—É–¥–Ω–æ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è, —á—Ç–æ —Å–∞–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ –ø–∞–ø–æ—á–∫–µ `./contracts`.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

![](./images/curve-contracts-folder-structure.png)

- **pool-templates**. –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –ø—É–ª–æ–≤. –ù—É–∂–Ω—ã, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–æ–≤—ã–π –ø—É–ª.
- **pools**. –°–æ–¥–µ—Ä–∂–∏—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—É–ª–æ–≤. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—É–ª–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–ø–∫–∞.
- **testings**. –ù–∞–±–æ—Ä —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –†–∞–∑–ª–∏—á–Ω—ã–µ –º–æ–∫–∏ –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.
- **tokens**. –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ LP —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –ø—É–ª–æ–≤.

–ó–∞–≥–ª—è–Ω–µ–º –≤–Ω—É—Ç—Ä—å –ø–∞–ø–∫–∏ `3Pool` - –ø–µ—Ä–≤–æ–≥–æ –ø–æ —Å–ø–∏—Å–∫—É –∏ –æ–¥–Ω–æ–≥–æ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø—É–ª–æ–≤. –°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø—É–ª —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç—Ä–µ–º—è —Ç–æ–∫–µ–Ω–∞–º–∏: DAI, USDC, USDT.

![](./images/curve-3Pool-folder-structure.png)

- **Readme.md**. –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—É–ª–∞, –∞–¥—Ä–µ—Å–∞ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.
- **StableSwap3Pool**. –û—Å–Ω–æ–≤–Ω–æ–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø—É–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫—É.
- **pooldata.json**. –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –ø—É–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ø—Ä–∏ –¥–µ–ø–ª–æ–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.
- **Deposit.vy**. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç. –û–±—ã—á–Ω–æ –≤ –Ω–µ–º —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –ª–æ–≥–∏–∫–∞ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –∏ —É–¥–∞–ª–µ–Ω–∏—é –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏–∑ –ø—É–ª–∞. –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ç–µ—Ö —Ç–∏–ø–æ–≤ –ø—É–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –∏–º–µ—é—Ç –º–Ω–æ–≥–æ –∫–æ–¥–∞ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–æ–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫–æ–π-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—É–ª, –Ω—É–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ –ø–∞–ø–∫–∏ –ø—É–ª–∞. –ú—ã –∂–µ –ø–æ–π–¥–µ–º –¥—Ä—É–≥–∏–º –ø—É—Ç–µ–º –∏ –±—É–¥–µ–º —Å–º–æ—Ç—Ä–µ—Ç—å —à–∞–±–ª–æ–Ω—ã, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–¥ –ø—É–ª–∞ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π.

–ó–∞–≥–ª—è–Ω–µ–º –≤–Ω—É—Ç—Ä—å –ø–∞–ø–∫–∏ `pool-templates`:

![](./images/curve-pool-template-folder-structure.png)

- **a**. –®–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É–ª–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ lp —Ç–æ–∫–µ–Ω—ã lending –ø—Ä–æ—Ç–æ–∫–æ–ª–∞. –ü–æ —Ç–∏–ø—É aTokens –¥–ª—è Aave.
- **base**. –®–∞–±–ª–æ–Ω —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—É–ª–∞.
- **eth**. –®–∞–±–ª–æ–Ω –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—É–ª–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–≥–æ ETH.
- **meta**. –®–∞–±–ª–æ–Ω –º–µ—Ç–∞–ø—É–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç LP —Ç–æ–∫–µ–Ω—ã –æ–±—ã—á–Ω—ã—Ö –ø—É–ª–æ–≤ Curve.
- **y**. –®–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É–ª–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ lp —Ç–æ–∫–µ–Ω—ã lending –ø—Ä–æ—Ç–æ–∫–æ–ª–∞. –ü–æ —Ç–∏–ø—É yearn.

**–ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω**

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –±–∞–∑–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –ø—É–ª–∞ [SwapTemplateBase.vy](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy).

–õ—é–±–æ–π –ø—É–ª –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ –Ω–∞—á–∞–ª–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞:

```solidity
N_COINS: constant(int128) = ___N_COINS___ // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–æ–≤ –≤ –ø—É–ª–µ
PRECISION_MUL: constant(uint256[N_COINS]) = ___PRECISION_MUL___ // –¢–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ –∫–∞–∂–¥–æ–º—É –∞–∫—Ç–∏–≤—É, —á—Ç–æ–±—ã –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤—Å–µ –∞–∫—Ç–∏–≤—ã –∫ –æ–¥–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
RATES: constant(uint256[N_COINS]) = ___RATES___ // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±–º–µ–Ω–Ω—ã–π –∫—É—Ä—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–∞

FEE_DENOMINATOR: constant(uint256) = 10 ** 10 // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∏—Å—Å–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
PRECISION: constant(uint256) = 10 ** 18 // –û—Å–Ω–æ–≤–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã, –±–∞–ª–∞–Ω—Å–∞ –∞–∫—Ç–∏–≤–æ–≤

MAX_ADMIN_FEE: constant(uint256) = 10 * 10 ** 9 // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –∫–æ—Ç–æ—Ä—É—é —Å–º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–¥–º–∏–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
MAX_FEE: constant(uint256) = 5 * 10 ** 9 // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ –ø—É–ª–∞
MAX_A: constant(uint256) = 10 ** 6 // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —É—Å–∏–ª–µ–Ω–∏—è
MAX_A_CHANGE: constant(uint256) = 10 // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–µ –≤–æ —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è A

ADMIN_ACTIONS_DELAY: constant(uint256) = 3 * 86400 // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
MIN_RAMP_TIME: constant(uint256) = 86400 // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ A
```

–í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ ___N_COINS___, ___PRECISION_MUL___, ___RATES___ –∑–∞–¥–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä ___N_COINS___ –±—É–¥–µ—Ç –≤–∑—è—Ç –∏–∑ `pooldata.json` –ø—É–ª–∞. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —ç—Ç–æ –¥–µ–ª–æ –≤ [brownie_hooks.py](https://github.com/curvefi/curve-contract/blob/master/brownie_hooks.py#L37).

–í vyper, –∫–∞–∫ –∏ –≤ Solidity –µ—Å—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –ü—Ä–µ–¥–ª–∞–≥–∞—é –Ω–∞ –Ω–µ–≥–æ —Ç–æ–∂–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å:

```solidity
def __init__(
    _owner: address, // –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º –ê, –∫–æ–º–∏—Å—Å–∏–µ–π, —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç
    _coins: address[N_COINS], // –°–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤ –∞–∫—Ç–∏–≤–æ–≤ –ø—É–ª–∞
    _pool_token: address, // LP —Ç–æ–∫–µ–Ω –ø—É–ª–∞
    _A: uint256, // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É—Å–∏–ª–µ–Ω–∏—è
    _fee: uint256, // –ö–æ–º–∏—Å—Å–∏—è –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
    _admin_fee: uint256 // –ö–æ–º–∏—Å—Å–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
):
```

–î–∞–ª—å—à–µ –ø—Ä–µ–¥–ª–∞–≥–∞—é –ø—Ä–æ–π—Ç–∏—Å—å –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏**

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é [add_liquidity()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L296). –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:

```solidity
@external
@nonreentrant('lock')
def add_liquidity(_amounts: uint256[N_COINS], _min_mint_amount: uint256) -> uint256:
    assert not self.is_killed // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–µ —É–Ω–∏—á—Ç–æ–∂–µ–Ω

    amp: uint256 = self._A()
    old_balances: uint256[N_COINS] = self.balances

    // –í—ã—Å—á–∏—Ç—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã
    D0: uint256 = self._get_D_mem(old_balances, amp)

    lp_token: address = self.lp_token
    token_supply: uint256 = CurveToken(lp_token).totalSupply()
    new_balances: uint256[N_COINS] = old_balances
    for i in range(N_COINS):
        if token_supply == 0:
            assert _amounts[i] > 0 // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –≤–ª–æ–∂–∏—Ç—å –≤—Å–µ —Ç–æ–∫–µ–Ω—ã –ø—É–ª–∞ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –µ–≥–æ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã
        # balances store amounts of c-tokens
        new_balances[i] += _amounts[i]

    // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—É —Å –Ω–æ–≤—ã–º–∏ –±–∞–ª–∞–Ω—Å–∞–º–∏ –ø—É–ª–∞
    D1: uint256 = self._get_D_mem(new_balances, amp)
    // –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ
    assert D1 > D0

    // –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—É D —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏
    D2: uint256 = D1
    fees: uint256[N_COINS] = empty(uint256[N_COINS])
    mint_amount: uint256 = 0
    // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–µ—Ä–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –≤ –ø—É–ª
    if token_supply > 0:
        fee: uint256 = self.fee * N_COINS / (4 * (N_COINS - 1))
        admin_fee: uint256 = self.admin_fee

        for i in range(N_COINS):
            ideal_balance: uint256 = D1 * old_balances[i] / D0
            difference: uint256 = 0
            new_balance: uint256 = new_balances[i]
            if ideal_balance > new_balance:
                difference = ideal_balance - new_balance
            else:
                difference = new_balance - ideal_balance
            fees[i] = fee * difference / FEE_DENOMINATOR
            self.balances[i] = new_balance - (fees[i] * admin_fee / FEE_DENOMINATOR)
            // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –±–∞–ª–∞–Ω—Å—ã –∞–∫—Ç–∏–≤–æ–≤ –∑–∞ –≤—ã—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏
            new_balances[i] -= fees[i]
        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—É —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏
        D2 = self._get_D_mem(new_balances, amp)
        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ lp —Ç–æ–∫–µ–Ω–∞
        mint_amount = token_supply * (D2 - D0) / D0
    // –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
    else:
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–æ–≤
        self.balances = new_balances
        // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ lp —Ç–æ–∫–µ–Ω–∞ –±—É–¥–µ—Ç —Ä–∞–≤–Ω—è—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏—é –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã
        mint_amount = D1
    assert mint_amount >= _min_mint_amount, "Slippage screwed you"

    // –ê–Ω–∞–ª–æ–≥ –≤—ã–∑–æ–≤–∞ safeTransferFrom –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∞–∫—Ç–∏–≤—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø—É–ª –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
    for i in range(N_COINS):
        if _amounts[i] > 0:
            _response: Bytes[32] = raw_call(
                self.coins[i],
                concat(
                    method_id("transferFrom(address,address,uint256)"),
                    convert(msg.sender, bytes32),
                    convert(self, bytes32),
                    convert(_amounts[i], bytes32),
                ),
                max_outsize=32,
            )
            if len(_response) > 0:
                assert convert(_response, bool)  # dev: failed transfer
            # end "safeTransferFrom"

    // –í–∑–∞–º–µ–Ω –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –≤—ã–¥–∞–µ–º lp —Ç–æ–∫–µ–Ω
    CurveToken(lp_token).mint(msg.sender, mint_amount)

    log AddLiquidity(msg.sender, _amounts, fees, D1, token_supply + mint_amount)

    return mint_amount
```

**–°–Ω—è—Ç–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏**

–î–ª—è —Å–Ω—è—Ç–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å –æ–¥–Ω—É –∏–∑ —Ç—Ä–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π:
- [remove_liquidity()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L513C5-L513C21).
- [remove_liquidity_imbalance()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L552C5-L552C31)
- [remove_liquidity_one_coin()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L704)

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é `remove_liquidity()`:

```solidity
@external
@nonreentrant('lock')
// amount - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ lp —Ç–æ–∫–µ–Ω–∞ –¥–ª—è —Å–∂–∏–≥–∞–Ω–∏—è
def remove_liquidity(_amount: uint256, _min_amounts: uint256[N_COINS]) -> uint256[N_COINS]:
    lp_token: address = self.lp_token
    total_supply: uint256 = CurveToken(lp_token).totalSupply()
    amounts: uint256[N_COINS] = empty(uint256[N_COINS])

    // –ê–Ω–∞–ª–æ–≥ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ transfer() –ø–æ –∫–∞–∂–¥–æ–º—É –∞–∫—Ç–∏–≤—É –ø—É–ª–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –µ–≥–æ –≤—ã–∑—ã–≤–∞—é—â–µ–º—É
    for i in range(N_COINS):
        old_balance: uint256 = self.balances[i]
        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –∞–∫—Ç–∏–≤—É
        value: uint256 = old_balance * _amount / total_supply
        assert value >= _min_amounts[i], "Withdrawal resulted in fewer coins than expected"
        self.balances[i] = old_balance - value
        amounts[i] = value
        _response: Bytes[32] = raw_call(
            self.coins[i],
            concat(
                method_id("transfer(address,uint256)"),
                convert(msg.sender, bytes32),
                convert(value, bytes32),
            ),
            max_outsize=32,
        )
        if len(_response) > 0:
            assert convert(_response, bool)

    // –°–∂–∏–≥–∞–µ–º lp —Ç–æ–∫–µ–Ω—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
    CurveToken(lp_token).burnFrom(msg.sender, _amount)

    log RemoveLiquidity(msg.sender, amounts, empty(uint256[N_COINS]), total_supply - _amount)

    return amounts
```

–°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –¥–≤–∞ –¥—Ä—É–≥–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å–Ω—è—Ç–∏—è –±—É–¥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∑–∞–ø–ª–∞—Ç–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é, –Ω–æ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ: —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞, –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—ã–∑—ã–≤–∞—é—â–µ–º—É, —Å–∂–µ—á—å lp —Ç–æ–∫–µ–Ω. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º –±—É–¥–µ—Ç —Ä–∞—Å—á–µ—Ç –Ω–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã D, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ–ø–æ—Ä—Ü–∏—è –±–∞–ª–∞–Ω—Å–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤ (–≤–ª–∏—è—é—â–∏—Ö –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ D) –≤ –ø—É–ª–µ –±—É–¥–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∞.

**–û–±–º–µ–Ω –∞–∫—Ç–∏–≤–æ–≤**

–ó–∞ –æ–±–º–µ–Ω –∞–∫—Ç–∏–≤–æ–≤ –æ—Ç–≤–µ—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è [exchange()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L447). –ü–æ—Å–º–æ—Ç—Ä–∏–º –µ–µ –∫–æ–¥:

```solidity
@external
@nonreentrant('lock')
// i - –∏–Ω–¥–µ–∫—Å –∞–∫—Ç–∏–≤–∞ –≤ –ø—É–ª–µ, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –æ–±–º–µ–Ω
// j - –∏–Ω–¥–µ–∫—Å –∞–∫—Ç–∏–≤–∞ –≤ –ø—É–ª–µ, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç
// _dx - —Å—É–º–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∞–∫—Ç–∏–≤–∞
// _min_dy - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –ø–æ–ª—É—á–∞–µ–º–æ–≥–æ –∞–∫—Ç–∏–≤–∞ –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —Å–æ–≥–ª–∞—Å–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
def exchange(i: int128, j: int128, _dx: uint256, _min_dy: uint256) -> uint256:
    assert not self.is_killed // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–µ —É–Ω–∏—á—Ç–æ–∂–µ–Ω

    old_balances: uint256[N_COINS] = self.balances
    // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –±–∞–ª–∞–Ω—Å–æ–≤ –ø–æ –∞–∫—Ç–∏–≤–∞–º –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–º –∫ –µ–¥–∏–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
    xp: uint256[N_COINS] = self._xp_mem(old_balances)

    rates: uint256[N_COINS] = RATES
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–∞ –≤ –ø—É–ª–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–∏—Ç —ç—Ç–æ—Ç –∞–∫—Ç–∏–≤
    x: uint256 = xp[i] + _dx * rates[i] / PRECISION
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–∞ –≤ –ø—É–ª–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–µ—Ä–µ—Ç –µ–≥–æ
    y: uint256 = self._get_y(i, j, x, xp)

    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–∞–µ–º–æ–≥–æ –∞–∫—Ç–∏–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
    dy: uint256 = xp[j] - y - 1 // –î–ª—è –º–µ–Ω—è —Ç—É—Ç –º–∞–≥–∏—è —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –≤ –≤—ã—Ö–æ–¥–Ω–æ–º –∞–∫—Ç–∏–≤–µ
    dy_fee: uint256 = dy * self.fee / FEE_DENOMINATOR

    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É–º–º—ã –ø–æ–ª—É—á–∞–µ–º–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∞–∫—Ç–∏–≤ —Å —É—á–µ—Ç–æ–º —Ç–æ—á–Ω–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–∞ –∏ –∑–∞ –≤—ã—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏.
    dy = (dy - dy_fee) * PRECISION / rates[j]
    assert dy >= _min_dy, "Exchange resulted in fewer coins than expected"

    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
    dy_admin_fee: uint256 = dy_fee * self.admin_fee / FEE_DENOMINATOR
    dy_admin_fee = dy_admin_fee * PRECISION / rates[j]

    // –ò–∑–º–µ–Ω—è–µ–º –±–∞–ª–∞–Ω—Å—ã –¥–≤—É—Ö –∞–∫—Ç–∏–≤–æ–≤ –≤ storage —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
    self.balances[i] = old_balances[i] + _dx
    self.balances[j] = old_balances[j] - dy - dy_admin_fee

    // –ê–Ω–∞–ª–æ–≥ transferFrom(). –ü–µ—Ä–µ–≤–æ–¥–∏–º –∞–∫—Ç–∏–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø—É–ª
    _response: Bytes[32] = raw_call(
        self.coins[i],
        concat(
            method_id("transferFrom(address,address,uint256)"),
            convert(msg.sender, bytes32),
            convert(self, bytes32),
            convert(_dx, bytes32),
        ),
        max_outsize=32,
    )
    if len(_response) > 0:
        assert convert(_response, bool)

    // –ê–Ω–∞–ª–æ–≥ transfer(). –ü–µ—Ä–µ–≤–æ–¥–∏–º –∞–∫—Ç–∏–≤ –æ—Ç –ø—É–ª–∞ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    _response = raw_call(
        self.coins[j],
        concat(
            method_id("transfer(address,uint256)"),
            convert(msg.sender, bytes32),
            convert(dy, bytes32),
        ),
        max_outsize=32,
    )
    if len(_response) > 0:
        assert convert(_response, bool)

    log TokenExchange(msg.sender, i, _dx, j, dy)

    return dy
```

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–º–µ–Ω–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–æ–Ω—è—Ç—å —Å–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–∞ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω–æ –≤ —Ö–æ–¥–µ –æ–±–º–µ–Ω–∞ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è [get_dy()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L434), –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É–º–º—É –∞–∫—Ç–∏–≤–∞ –∑–∞ –≤—ã—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏.

–û–Ω–∞ –Ω–µ –±–æ–ª—å—à–∞—è –∏ —á–∞—Å—Ç–∏—á–Ω–æ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `exchange()`:

```solidity
@view // –ì–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
@external
def get_dy(i: int128, j: int128, _dx: uint256) -> uint256:
    ...

    x: uint256 = xp[i] + (_dx * rates[i] / PRECISION)
    // –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤ –ø—É–ª–µ, –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±–º–µ–Ω–∞
    y: uint256 = self._get_y(i, j, x, xp)
    dy: uint256 = xp[j] - y - 1
    fee: uint256 = self.fee * dy / FEE_DENOMINATOR

    return (dy - fee) * PRECISION / rates[j]
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —É—Å–∏–ª–µ–Ω–∏—è A**

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏: [ramp_A()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L742C5-L742C11) –∏ [stop_ramp_A()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L765).

–í—ã–∑—ã–≤–∞—Ç—å —ç—Ç–∏ –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø—É–ª–∞, —á—Ç–æ –ª–æ–≥–∏—á–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ—á–µ–Ω—å –≤–∞–∂–Ω—ã–π –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ–æ—Ä–º—É–ª–∞ –æ–±–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–∞–º–∏.

–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∑–¥–µ—Å—å –Ω–µ —Å—Ç–æ–ª—å–∫–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ê, —Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±. –û–±—Ä–∞—Ç–∏–º –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è `ramp_A()`. –ò—Ö –¥–≤–∞: **_future_A** (uint256) –∏ **_future_time** (uint256). –ü—Ä–∏—Å—Ç–∞–≤–∫–∞ future –Ω–µ —Å–ø—Ä–æ—Å—Ç–∞. –û–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ A –Ω–∞ —Å–º–∞—Ä—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–≤–Ω—è—Ç—å—Å—è _future_A –∑–Ω–∞—á–µ–Ω–∏—é –≤ –º–æ–º–µ–Ω—Ç –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è _future_time. –ù–æ —ç—Ç–æ –Ω–µ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ, —ç—Ç–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ A –≤–æ –≤—Ä–µ–º–µ–Ω–∏. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ñ—É–Ω–∫—Ü–∏—é [_A()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L154C5-L154C9), –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —É—Å–∏–ª–µ–Ω–∏—è.

```solidity
@view
@internal
def _A() -> uint256:
    t1: uint256 = self.future_A_time // –∑–Ω–∞—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—ã–∑–æ–≤–æ–º ramp_A() —Ñ—É–Ω–∫—Ü–∏–∏
    A1: uint256 = self.future_A // –∑–Ω–∞—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—ã–∑–æ–≤–æ–º ramp_A() —Ñ—É–Ω–∫—Ü–∏–∏

    // –ö–æ–¥ –Ω–∏–∂–µ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –¥–ª—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É initial_A_time –∏ future_A_time –±—É–¥–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ A (–º–µ–∂–¥—É initial_A –∏ future_A)
    if block.timestamp < t1:
        A0: uint256 = self.initial_A
        t0: uint256 = self.initial_A_time
        # Expressions in uint256 cannot have negative numbers, thus "if"
        if A1 > A0:
            return A0 + (A1 - A0) * (block.timestamp - t0) / (t1 - t0)
        else:
            return A0 - (A0 - A1) * (block.timestamp - t0) / (t1 - t0)

    else:  # when t1 == 0 or block.timestamp >= t1
        return A1
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É—Å–∏–ª–µ–Ω–∏—è A –±—É–¥–µ—Ç –ø–ª–∞–≤–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å—Å—è –∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–π –¥–∞—Ç–µ –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `ramp_A()`.

–§—É–Ω–∫—Ü–∏—è `stop_ramp_A()` –Ω—É–∂–Ω–∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —É—Å–∏–ª–µ–Ω–∏—è –ê –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.

–í –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –æ–±–∑–æ—Ä–∞ –ø–æ —à–∞–±–ª–æ–Ω—É –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—É–ª–∞ —Ö–æ—á–µ—Ç—Å—è —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –ø—É–ª–æ–≤ –ø—Ä–∏–Ω—Ü–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –ø–æ—Ö–æ–∂, –Ω–æ —Å –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã lending –ø—É–ª–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–≤—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏. –¢–æ –µ—Å—Ç—å –ø—É–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ lp —Ç–æ–∫–µ–Ω—ã –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∞–∫–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ø—É–ª –∑–Ω–∞–µ—Ç –µ–≥–æ –±–∞–∑–æ–≤—ã–π —Ç–æ–∫–µ–Ω. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø—É–ª –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å, –∫–∞–∫ –≤ lp —Ç–æ–∫–µ–Ω–∞—Ö, —Ç–∞–∫ –∏ –≤ –±–∞–∑–æ–≤—ã—Ö.

### LP —Ç–æ–∫–µ–Ω—ã

–ï—Å—Ç—å —Ç—Ä–∏ –≤–µ—Ä—Å–∏–∏ LP —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –ø—É–ª–æ–≤:
- [CurveTokenV1](https://github.com/curvefi/curve-contract/blob/master/contracts/tokens/CurveTokenV1.vy): –¥–ª—è Vyper ^0.1.0-beta.16
- [CurveTokenV2](https://github.com/curvefi/curve-contract/blob/master/contracts/tokens/CurveTokenV2.vy): –¥–ª—è Vyper ^0.2.0
- [CurveTokenV3](https://github.com/curvefi/curve-contract/blob/master/contracts/tokens/CurveTokenV3.vy): –¥–ª—è Vyper ^0.2.0 –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è

LP —Ç–æ–∫–µ–Ω—ã –º–∏–Ω—Ç—è—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –≤ –ø—É–ª –∏ —Å–∂–∏–≥–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –∑–∞–±–∏—Ä–∞–µ—Ç—Å—è. –í —ç—Ç–æ–º –ø–ª–∞–Ω–µ –Ω–∏—á–µ–≥–æ –Ω–µ–æ–±—ã—á–Ω–æ–≥–æ.

–¢—Ä–µ—Ç—å—è –≤–µ—Ä—Å–∏—è –≥–æ—Ä–∞–∑–¥–æ —ç–∫–æ–Ω–æ–º–Ω–µ–µ –ø–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é –≥–∞–∑–∞. –ü–ª—é—Å –æ–Ω–∞ –ø–æ–ª—É—á–∏–ª–∞ –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è `allowance`: [increaseAllowance()](https://github.com/curvefi/curve-contract/blob/master/contracts/tokens/CurveTokenV3.vy#L115) –∏ [decreaseAllowance()](https://github.com/curvefi/curve-contract/blob/master/contracts/tokens/CurveTokenV3.vy#L132).

–í —Ü–µ–ª–æ–º –Ω–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –≤ –∫–æ–¥–µ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç, —ç—Ç–æ –ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ERC-20 —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞, –µ—Å–ª–∏ –Ω–µ —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ `Vyper`. –û–¥–Ω–∞–∫–æ —è –æ–±—Ä–∞—Ç–∏–ª –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∑–∞–±–∞–≤–Ω—ã–π —Ñ–∞–∫—Ç, —Ç–æ—á–Ω–µ–µ [—Ñ—É–Ω–∫—Ü–∏—é](https://github.com/curvefi/curve-contract/blob/master/contracts/tokens/CurveTokenV3.vy#L189):

```solidity
def set_name(_name: String[64], _symbol: String[32]):
    assert Curve(self.minter).owner() == msg.sender
    self.name = _name
    self.symbol = _symbol
```

–ï—Å–ª–∏ –≤—ã –≤–¥—Ä—É–≥ –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –≤ —Å–≤–æ–µ–º –∫–æ—à–µ–ª—å–∫–µ lp —Ç–æ–∫–µ–Ω—ã –ø—É–ª–∞, —Ç–æ –∑–Ω–∞–π—Ç–µ, —ç—Ç–æ –∞–¥–º–∏–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Å–∏–º–≤–æ–ª LP —Ç–æ–∫–µ–Ω–∞.

### Deposit contract

–ü—É–ª –º–æ–∂–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º –¥–µ–ø–æ–∑–∏—Ç–∞. –≠—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –¥–≤—É—Ö —Ç–∏–ø–æ–≤ –ø—É–ª–æ–≤:
- lending: —à–∞–±–ª–æ–Ω [DepositTemplateY.vy](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/y/DepositTemplateY.vy)
- meta: —à–∞–±–ª–æ–Ω [DepositTemplateMeta.vy](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/meta/DepositTemplateMeta.vy)

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø–æ-–∫–æ—Ç–æ—Ä–æ–π –ø–æ—è–≤–∏–ª—Å—è —ç—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç - —ç—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. –î–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –ø—É–ª–æ–≤ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –º–Ω–æ–≥–æ –ª–æ–≥–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—ã—à–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ. –ü–æ—ç—Ç–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–µ–ø–æ–∑–∏—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–Ω–µ—Å—Ç–∏ –∏–∑ –ø—É–ª–∞ –ª–æ–≥–∏–∫—É –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –∏ —É–¥–∞–ª–µ–Ω–∏—é –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏. –ê –±–æ–ª—å—à–µ –≤ –Ω–µ–º –Ω–∏—á–µ–≥–æ –Ω–µ—Ç.

–ù–∞ —Å–∞–º –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ –±—É–¥–µ–º, –æ–Ω –≤–æ –º–Ω–æ–≥–æ–º –ø–æ—Ö–æ–∂ –Ω–∞ —Ç–æ, —á—Ç–æ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—É–ª–∞. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ç–æ, –∫–∞–∫ [—Å–≤—è–∑–∞–Ω](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/y/DepositTemplateY.vy#L48) —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–µ–ø–æ–∑–∏—Ç–∞ –∏ –ø—É–ª–∞.

```solidity
def __init__(
    _coins: address[N_COINS], // LP —Ç–æ–∫–µ–Ω—ã –ø—É–ª–∞ lending –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∏–ª–∏ meta –ø—É–ª–∞ –¥–ª—è –æ–±–º–µ–Ω–∞
    _underlying_coins: address[N_COINS], // –ë–∞–∑–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Å–ø–∏—Å–∫–∞ LP —Ç–æ–∫–µ–Ω–æ–≤ –æ–±–º–µ–Ω–∞
    _curve: address, // –ê–¥—Ä–µ—Å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –ø—É–ª–∞
    _token: address // LP —Ç–æ–∫–µ–Ω —Ç–µ–∫—É—â–µ–≥–æ –ø—É–ª–∞
):
    ....
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–∏ –¥–µ–ø–ª–æ–µ, —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–µ–ø–æ–∑–∏—Ç–∞ –ø–æ–ª—É—á–∞–µ—Ç –∞–¥—Ä–µ—Å–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—É–ª–∞ –∏ –≤—Å–µ—Ö –Ω—É–∂–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤.

## –û–±–∑–æ—Ä –≤—Å–µ–≥–æ, —á—Ç–æ –µ—Å—Ç—å –≤ curve

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ —Ç–æ–ª—å–∫–æ –æ–±–º–µ–Ω —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–æ–≤ (StableSwap), –æ–¥–Ω–∞–∫–æ –ø—Ä–æ—Ç–æ–∫–æ–ª –∏–º–µ–µ—Ç —Ü–µ–ª—ã–π —Ä—è–¥ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –≤–µ—â–µ–π. –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—á–µ–Ω—å –≤—Å–µ–≥–æ, —á—Ç–æ –µ—Å—Ç—å –≤ Curve:
- Curve DAO
- Curve Stablecoin
- Savings crbUSD
- Curve Lending
- CryptoSwap

**Curve DAO**

–î–ª—è DAO Curve –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [AragonDAO](https://aragon.org/). –ù–æ –Ω–µ –≤—Å–µ-—Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ, –ø—Ä–æ—Ç–æ–∫–æ–ª –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ [Voting.sol](https://github.com/curvefi/curve-aragon-voting) –ø–æ–¥ —Å–µ–±—è.

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å —É—á–∞—Å—Ç–∏–µ –≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏, —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ veCRV (voted-escrowed CRV) —Ç–æ–∫–µ–Ω–∞. veCRV –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å, –µ—Å–ª–∏ –∑–∞—Å—Ç–µ–π–∫–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–æ–∫–µ–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ CRV. –ì–ª–∞–≤–Ω—ã–π —Å–º—ã—Å–ª veCRV –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ª–∏–Ω–µ–π–Ω–æ–º —É–º–µ–Ω—å—à–µ–Ω–∏–∏ –ø—Ä–∞–≤–∞ –≥–æ–ª–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏.

**Curve Stablecoin**

–≠—Ç–æ –Ω–∞—Å—Ç–æ—è—â–∏–π —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω crvUSD —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–º –∑–∞–ª–æ–≥–æ–≤—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º. –ò–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –º–µ—Ö–∞–Ω–∏–∑–º —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Ü–µ–Ω—ã, –Ω–∞–∑—ã–≤–∞–µ–º—ã–π LLAMMA (Lending-Liquidating AMM Algorithm). –ù—É–∂–µ–Ω –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏, —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—É–ª–∞—Ö), –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–ª–æ–≥ –∏ —Å–º–∏–Ω—Ç–∏—Ç—å —Å–µ–±–µ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω.

**Savings crvUSD –∏–ª–∏ scrvUSD**

scrvUSD –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –¥–ª—è crvUSD. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Å—Ç–µ–π–∫–∞—Ç—å crvUSD –≤ Savings Vault. –ü–æ–º–æ–≥–∞–µ—Ç —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø—Ä–∏–≤—è–∑–∫—É crvUSD. –ï—Å–ª–∏ –±—ã –µ–≥–æ –Ω–µ –±—ã–ª–æ, —Ç–æ —Å —Ä–æ—Å—Ç–æ–º crvUSD –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –≤—ã–≥–æ–¥–Ω–æ –ø—Ä–æ–¥–∞—Ç—å —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω. –û–¥–Ω–∞–∫–æ –≤–º–µ—Å—Ç–µ —Å crvUSD —Ä–∞—Å—Ç–µ—Ç –∏ —Å—Ç–∞–≤–∫–∞ –¥–ª—è scrvUSD, —á—Ç–æ –±–æ–ª–µ–µ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ –±–æ–ª—å—à–æ–º —Å—Ä–æ–∫–µ.

**Curve Lending**

–†–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∑–∞–Ω–∏–º–∞—Ç—å crvUSD —Å –º—è–≥–∫–æ–π –ª–∏–∫–≤–∏–¥–∞—Ü–∏–µ–π –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º LLAMMA (Lending-Liquidating AMM Algorithm). –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ —Ç–µ–º, –∫—Ç–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å. –ú—è–≥–∫–∞—è –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è –¥–ª—è –∑–∞–µ–º—â–∏–∫–æ–≤

**CryptoSwap**

–ù–µ —Ç–æ–ª—å–∫–æ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω—ã –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —É—á–∞—Å—Ç–∏–µ –≤ –æ–±–º–µ–Ω–µ. –î–ª—è –∞–∫—Ç–∏–≤–æ–≤ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä–∫–µ—Ç-–º–µ–π–∫–µ—Ä–∞. –°—É—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≤ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –≤–æ–∫—Ä—É–≥ –æ–¥–Ω–æ–π —Ü–µ–Ω–æ–≤–æ–π —Ç–æ—á–∫–∏ (–ü—Ä–∏–≤–µ—Ç Uniswap v3 üòÖ).

## Fees

–í Curve —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∫–æ–º–∏—Å—Å–∏–∏:
- –ü—É–ª—ã –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏. –ö–æ–º–∏—Å—Å–∏—è –±–µ—Ä–µ—Ç—Å—è —Å –æ–±–º–µ–Ω–æ–≤ –≤ –æ–±—ã—á–Ω—ã—Ö —Ç–æ–∫–µ–Ω–∞—Ö –ø—É–ª–∞, –Ω–æ –∏–Ω–æ–≥–¥–∞ –∏ –≤ lp —Ç–æ–∫–µ–Ω–∞—Ö.
- –†—ã–Ω–∫–∏ crvUSD. –ü—Ä–æ—Ü–µ–Ω—Ç—ã —Å –∑–∞–π–º–æ–≤.

–ö–æ–º–∏—Å—Å–∏—è –º–æ–∂–µ—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è –≤ –ª—é–±—ã—Ö —Ç–∏–ø–∞—Ö —Ç–æ–∫–µ–Ω–æ–≤, –±—É–¥—å —Ç–æ LP –∏–ª–∏ ¬´–æ–±—ã—á–Ω—ã–µ¬ª —Ç–æ–∫–µ–Ω—ã.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–±–æ—Ä–∞ –∫–æ–º–∏—Å—Å–∏–∏ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

![](./images/curve-fee-collection-burning-distribution-system.png)

–°–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ, —Ö–æ—Ä–æ—à–æ –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –¥–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∫–æ–º–∏—Å—Å–∏–∏. –î–ª—è crvUSD —Å–±–æ—Ä –≤–µ–¥–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç [FeeSplitter.vy](https://github.com/curvefi/fee-splitter/blob/main/contracts/FeeSplitter.vy). –î–ª—è –ø—É–ª–æ–≤ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ø—É–ª–æ–≤ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏. –û–¥–Ω–∞–∫–æ –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ –ø—É–ª–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏—è [withdraw_admin_fees()](https://github.com/curvefi/curve-contract/blob/master/contracts/pool-templates/base/SwapTemplateBase.vy#L854C5-L854C24) –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü—É –ø—É–ª–∞ —Å–Ω—è—Ç—å –∫–æ–º–∏—Å—Å–∏—é –∏ –∫–∞–∫ —è –ø–æ–Ω–∏–º–∞—é –¥–æ FeeCollector –∫–æ–º–∏—Å—Å–∏—è –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é.

–ü—Ä–æ—Ü–µ—Å—Å —Å–∂–∏–≥–∞–Ω–∏—è - —ç—Ç–æ –ø–æ —Å—É—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ä–∞–∑–Ω–æ—Ä–æ–¥–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤ –≤ –æ–¥–∏–Ω `crvUSD` –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ CowSwap. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —ç—Ç–æ –¥–ª—è —á–µ—Å—Ç–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–º–∏—Å—Å–∏–∏ –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã Curve. –í —Ç–µ—Ö —Å–µ—Ç—è—Ö, –≥–¥–µ –Ω–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ CowSwap, —Ä–∞–±–æ—Ç–∞–µ—Ç –¥—Ä—É–≥–∞—è —Å—Ö–µ–º–∞ (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è), —Å —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –æ–±–º–µ–Ω–∞ –∏ —á—É—Ç—å –º–µ–Ω–µ–µ –≥–∏–±–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π.

## Curve Wars

> –ú—ã –¥–æ–±—Ä–∞–ª–∏—Å—å –¥–æ —Å–∞–º–æ–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –≥–ª–∞–≤—ã. –¢–æ —á—Ç–æ –±—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω–æ –∑–¥–µ—Å—å, —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ! [–°–ø–∞—Å–∏–±–æ —Å—Ç–∞—Ç—å–µ "Field Guide to the Curve Wars: DeFi‚Äôs Fight for Liquidity"](https://every.to/almanack/curve-wars). –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á—Ç–∏—Ç–µ —ç—Ç—É —Å—Ç–∞—Ç—å—é, –µ—Å–ª–∏ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è –º–æ—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –Ω–∏–∂–µ. –û–¥–Ω–∞–∫–æ –∏–º–µ–π—Ç–µ –≤–≤–∏–¥—É, —á—Ç–æ —Å—Ç–∞—Ç—å—è –Ω–∞–ø–∏—Å–∞–Ω–∞ –≤ 2022 –≥–æ–¥—É –∏ –Ω—É–∂–Ω–∞ —Å–∫–æ—Ä–µ–µ —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è.

–ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏, —á—Ç–æ Curve –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ä—ã–Ω–æ–∫ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω–æ–≥–æ —Ä–æ–¥–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å. –î–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ Curve —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Å—Ç–∏–º—É–ª—è—Ü–∏–∏ –∏ —ç—Ç–æ –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –ø–µ—Ä–µ—Ç–µ–∫–ª–æ –≤ —Å–∞–º—ã–µ –Ω–∞—Å—Ç–æ—è—â–∏–µ "–≤–æ–π–Ω—ã".

–ü–µ—Ä–≤–æ–ø—Ä–∏—á–∏–Ω–æ–π –≤–æ–π–Ω –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Å—Ç–∏–º—É–ª–æ–≤ –≤–æ–∫—Ä—É–≥ —Ç–æ–∫–µ–Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è **CRV**. –≠—Ç–æ—Ç —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –≤ –ø—É–ª –Ω–∞—Ä—è–¥—É —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º LP —Ç–æ–∫–µ–Ω–æ–≤.

–ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏, –µ—Å–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –≤ —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –ø—É–ª 3Pool (TVL —Ä–∞–≤–Ω—è–µ—Ç—Å—è $167.36M), —Ç–æ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å 1.15% –≥–æ–¥–æ–≤—ã—Ö.

![](./images/curve-3Pool-base-vAPY.png)

–ù–æ –µ—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç, —Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –∫–æ–ª–æ–Ω–∫—É **Rewards tAPR**, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∫–∞–∑–∞–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 1.80% –¥–æ 4.51% –≤ —Ç–æ–∫–µ–Ω–µ CRV. –ò —è —Ö–æ—á—É —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∏–±–∞–≤–∫–∞.

–û–¥–Ω–∞–∫–æ –∑–¥–µ—Å—å –≤—Å—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞. –ü—Ä–æ—Ç–æ–∫–æ–ª—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å CRV —Å—Ç–∞–±–∏–ª—å–Ω–æ–π, –∞ –ø–æ–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫, —á—Ç–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –≤—ã–≥–æ–¥–Ω–æ —Å—Ä–∞–∑—É —Å–ª–∏–≤–∞—Ç—å CRV, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –±—ã –∫ –æ–±–µ—Å—Ü–µ–Ω–∏–≤–∞–Ω–∏—é –∞–∫—Ç–∏–≤–∞. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —ç—Ç–æ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç veCRV.

**veCRV**

–í –∫–∞–∂–¥–æ–º –æ–±–º–µ–Ω–µ –∞–∫—Ç–∏–≤–æ–≤ –≤ Curve –≤–∑–∏–º–∞–µ—Ç—Å—è –∫–æ–º–∏—Å—Å–∏—è, —á–∞—Å—Ç—å –∏–¥–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –æ–¥–Ω–∞–∫–æ –≤—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –¥–æ—Å—Ç–∞–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ veCRV.

–†–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è veCRV, –∫–∞–∫ [Vote Escrowed Curve](https://curve.readthedocs.io/dao-vecrv.html) –∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤—Å–µ–≥–æ –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± –µ–≥–æ –ø–æ–ª—É—á–∏—Ç—å: –∑–∞—Å—Ç–µ–π–∫–∞—Ç—å CRV. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —É –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ CRV –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –ø—Ä–∏—É–º–Ω–æ–∂–∏—Ç—å —Å–≤–æ–∏ –∞–∫—Ç–∏–≤—ã, —Ç–∞–∫ –∫–∞–∫ –≤—ã–≥–æ–¥–Ω–µ–µ [–∑–∞—Å—Ç–µ–π–∫–∞—Ç—å](https://dao.curve.fi/#/ethereum/vecrv/create) –∏ –ø–æ–ª—É—á–∏—Ç—å veCRV, –Ω–µ–∂–µ–ª–∏ —á–µ–º —Å—Ä–∞–∑—É —Å–ª–∏–≤–∞—Ç—å CRV.

![](./images/curve-stake-crv.png)

–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å CRV –º–æ–∂–Ω–æ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Å—Ä–æ–∫–æ–º –Ω–∞ 1 –Ω–µ–¥–µ–ª—é –∏ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —Å—Ä–æ–∫–æ–º –Ω–∞ 4 –≥–æ–¥–∞. –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ä–æ–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º veCRV –¥–∞–µ—Ç —Ö–æ—Ä–æ—à–∏–π –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥. –ù–æ —ç—Ç–æ –Ω–µ –≤—Å–µ! –î–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ veCRV –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å —É—á–∞—Å—Ç–∏–µ –≤ –∂–∏–∑–Ω–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞. –ê –∏–º–µ–Ω–Ω–æ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ –ø—É–ª—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è CRV. –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏, —á–µ–º –±–æ–ª—å—à–µ –ø—É–ª –ø–æ–ª—É—á–∞–µ—Ç –≥–æ–ª–æ—Å–æ–≤, —Ç–µ–º –±–æ–ª—å—à–µ –±—É–¥—É—Ç –ø–æ–ª—É—á–∞—Ç—å —Å—Ç–µ–π–∫–µ—Ä—ã CRV, —Ç–µ–º –±–æ–ª—å—à–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ –ø—É–ª. –í–æ—Ç —Ç–∞–∫–æ–π –∫—Ä—É–≥–æ–≤–æ—Ä–æ—Ç CRV –≤ Curve.

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –∫—Ä—É–≥–æ–≤–æ—Ä–æ—Ç, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Å—Ö–µ–º—É –Ω–∏–∂–µ:

![](./images/curve-lifecycle-CRV-veCRV.png)

–î–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç —Ç–æ–∫–µ–Ω –∏ —Ö–æ—á–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –Ω–∞ Curve, –æ–ø–∏—Å–∞–Ω–Ω–∞—è –≤—ã—à–µ –º–µ—Ö–∞–Ω–∏–∫–∞ –∏–º–µ–µ—Ç –æ–≥—Ä–æ–º–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –ø—É–ª–∞, –ø—Ä–æ—Ç–æ–∫–æ–ª—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –æ–≥—Ä–æ–º–Ω—É—é —Å—É–º–º—É, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø—É–ª –ª–∏–∫–≤–∏–¥–Ω—ã–º. –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å, –Ω–æ –µ—Å–ª–∏ —É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ veCRV, —Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ —Å–≤–æ–π –ø—É–ª –∏ –ø—É–ª –Ω–∞—á–Ω–µ—Ç —Ä–∞–∑–¥–∞–≤–∞—Ç—å CRV, —á—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –µ–≥–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –¥–ª—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –±—É–¥—É—Ç –ø–æ–ª—É—á–∞—Ç—å CRV –∏ –∫—Ä—É—Ç–∏—Ç—å –µ–≥–æ –≤ Curve –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è. –ò –≤–æ—Ç –∑–¥–µ—Å—å –∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è "–≤–æ–π–Ω—ã"!

**Convex Finance**

–°—á–∏—Ç–∞–µ—Ç—Å—è, —á—Ç–æ –ø–µ—Ä–≤–∞—è –±–∏—Ç–≤–∞ –≤—ã–∏–≥—Ä–∞–Ω–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º [Convex](https://www.convexfinance.com/). –ü—Ä–æ—Ç–æ–∫–æ–ª –Ω–∞—á–∏–Ω–∞–ª, –∫–∞–∫ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –Ω–∞ Curve.

–ß–µ–º –±–æ–ª—å—à–µ —É –Ω–∞—Å –≤ –Ω–∞–ª–∏—á–∏–µ veCRV, —Ç–µ–º –±–æ–ª—å—à–µ –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —Ä–∞–∑–º–µ—Ä –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è CRV –≤ –ø—É–ª–µ. –ù–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è veCRV, –Ω—É–∂–Ω–æ –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –≤ –¥—Ä—É–≥–∏–µ –ø—É–ª—ã. –ó–∞–º–∫–Ω—É—Ç—ã–π –∫—Ä—É–≥! Convex —Ä–µ—à–∏–ª —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –æ–±—ä–µ–¥–∏–Ω–∏–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏ –∏—Ö veCRV —É —Å–µ–±—è. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ, –Ω—É–∂–Ω–æ –∏–º–µ—Ç—å veCRV –≤ Curve –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–π—Ç–∏ –≤ Convex —Å –æ–±—ã—á–Ω—ã–º CRV, –≤–æ–æ–±—â–µ –Ω–µ –≤–ª–∞–¥–µ—è veCRV.

–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:

![](./images/curve-convex.png)

1. –î–æ–±–∞–≤–ª—è–µ—Ç–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –≤ Curve
2. –ü–æ–ª—É—á–∞–µ—Ç–µ CRV. –ö–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞, –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∫—É–ø–∏—Ç—å CRV
3. –í–Ω–æ—Å–∏—Ç–µ CRV –≤ Convex
4. Convex –∑–∞ –≤–∞—Å —Å—Ç–µ–π–∫–∞–µ—Ç CRV –≤ Curve
5. Convex –ø–æ–ª—É—á–∞–µ—Ç veCRV
6. Convex –¥–∞–µ—Ç –≤–∞–º cvxCRV –∑–∞ –º–µ—Å—Ç–æ –≤–∞—à–µ–≥–æ CRV
7. cvxCRV –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞—Å—Ç–µ–π–∫–∞–Ω, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –¥–æ–ª—é –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ Convex –∑–∞—Ä–∞–±–æ—Ç–∞–ª –Ω–∞ veCRV. –õ–∏–±–æ cvxCRV –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å CRV. –ò —ç—Ç–æ –æ–±—Ö–æ–¥ 4-x –ª–µ—Ç–Ω–µ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ CRV –≤ Curve –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞!

–ü–æ–¥–æ–±–Ω–∞—è —Å—Ö–µ–º–∞ –ø–æ–∑–≤–æ–ª–∏–ª–∞ Convex –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ —Å–µ–±–µ –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è Curve. –ò —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–∫—Ç–æ—Ä –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏ —É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø–æ—è–≤–∏–ª—Å—è —Ç–æ–∫–µ–Ω CVX –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏. –ö–∞–∫ –≤—ã –¥—É–º–∞–µ—Ç–µ –∑–∞ —á—Ç–æ –º–æ–∂–Ω–æ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å? –ü—Ä–∞–≤–æ –≥–æ–ª–æ—Å–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ, –∫–∞–∫ Convex –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–π veCRV, –∫–∞–∫–∏–µ –ø—É–ª—ã –±—É–¥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è.

**–í–∑—è—Ç–æ—á–Ω–∏—á–µ—Å—Ç–≤–æ CVX**

–î–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤, –∂–µ–ª–∞—é—â–∏—Ö –ø–æ–≤—ã—Å–∏—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å —Å–≤–æ–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤, —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø—Ä–∏–æ–±—Ä–µ—Ç–∞—Ç—å —Ç–æ–∫–µ–Ω—ã CVX –≤–º–µ—Å—Ç–æ —Ç–æ–∫–µ–Ω–æ–≤ CRV, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∑–∞ —Å–≤–æ–∏ –ø—É–ª—ã, –ø–æ—Å–∫–æ–ª—å–∫—É Convex –∏ —Ç–∞–∫ —É–∂–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤.

–ò –∑–¥–µ—Å—å —Å–Ω–æ–≤–∞ –µ—Å—Ç—å –¥–≤–∞ –ø—É—Ç–∏: –∫—É–ø–∏—Ç—å –º–Ω–æ–≥–æ CVX —Å–∞–º–æ–º—É –∏–ª–∏ –∑–∞–ø–ª–∞—Ç–∏—Ç—å —Ç–æ–º—É —É –∫–æ–≥–æ —ç—Ç–æ—Ç CVX –µ—Å—Ç—å. –ü–æ—ç—Ç–æ–º—É –ø–æ–ª—É—á–∏–ª–æ—Å—å —Ç–∞–∫, —á—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –¥–ª—è –ª–∏—Å—Ç–∏–Ω–≥–∞ —Å–≤–æ–µ–≥–æ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ Curve –ø–ª–∞—Ç—è—Ç –¥–µ—Ä–∂–∞—Ç–µ–ª—è–º CVX. –í –ø–ª—é—Å–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –≤—Å–µ, —É –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π CVX –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥, –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∞–º–∏–º –ø–æ–∫—É–ø–∞—Ç—å CVX, –¥–µ—à–µ–≤–ª–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Ç–µ–º —É –∫–æ–≥–æ –æ–Ω –µ—Å—Ç—å.

–ò –Ω–∞ —ç—Ç–æ–º –º–æ–∂–Ω–æ —Ä–µ–∑—é–º–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –≤–æ–π–Ω—ã –Ω–∞ Curve –æ–∫–æ–Ω—á–µ–Ω—ã. Convex –ø–æ–±–µ–¥–∏–ª! –ù–æ —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ —Ç–æ—Ç –∫—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç veCVX, —Ç–æ—Ç –ø–æ–±–µ–¥–∏—Ç –≤ –≤–æ–π–Ω–µ Convex. –û–¥–Ω–∞–∫–æ —ç—Ç–æ –Ω–µ–º–Ω–æ–∂–∫–æ –¥—Ä—É–≥–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –∏ –∏–∑—É—á–µ–Ω–∏—è.

## –í—ã–≤–æ–¥

–ù–∞—á–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—É—é –≥–ª–∞–≤—É —è –±—ã —Ö–æ—Ç–µ–ª —Å–æ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã:

| | Uniswap v2 | Uniswap v3| Curve |
|-|------------|-----------|----------|
| **Language** | Solidity | Solidity| Vyper |
| **Slippage** | High | Low| Low |
| **Pool** | 2 tokens | 2 tokens | 2 or more |
| **Liquidity** | Both tokens | Depends on position and price | 1 to all (–º–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –∏–ª–∏ –≤ –æ–¥–Ω–æ–º —Ç–æ–∫–µ–Ω–µ –∏–ª–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö) |
| **Liquidity fee** | None | None | Fee on imbalance |
| **Swap fee** | Token in | Token in | Token out |

–Ø –¥—É–º–∞—é, –≤—ã –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ Curve, –≤ –∫–∞–∫–æ–º-—Ç–æ —Ä–æ–¥–µ, –¥–∏–∞–º–µ—Ç—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª—É Uniswap. –Ø–∑—ã–∫ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ - vyper, –≤ –ø—É–ª–µ —Ç–æ–∫–µ–Ω–æ–≤ –±–æ–ª—å—à–µ –¥–≤—É—Ö, –∫–æ–º–∏—Å—Å–∏—é –±–µ—Ä–µ—Ç. –Ø –Ω–∏ –Ω–∞ —á—Ç–æ –Ω–µ –Ω–∞–º–µ–∫–∞—é, –Ω–æ —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ... Curve - —ç—Ç–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç Uniswap!? –ö–∞–∂–µ—Ç—Å—è –¥–ª—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å –Ω—É–∂–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç—å—è.

Curve - —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–æ–≤ –∏ –Ω–µ —Ç–æ–ª—å–∫–æ, –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Å–ª–æ–∂–Ω—ã–µ —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ –ø—É–ª–æ–≤ —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é lending –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤, –∞ —Ç–∞–∫–∂–µ –º–µ—Ç–∞–ø—É–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –ø—É–ª—ã, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å lp —Ç–æ–∫–µ–Ω—ã –ø—Ä–æ—Å—Ç—ã—Ö –ø—É–ª–æ–≤. –ú–Ω–µ –∫–∞–∂–µ—Ç—Å—è —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Å–ª–æ–µ–Ω–Ω–æ–≥–æ –ø–∏—Ä–æ–≥–∞, —Ç–æ–∫–µ–Ω—ã –≤ –ø—É–ª, lp —Ç–æ–∫–µ–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–∏–π –ø—É–ª –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

–ù–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ, –Ω–∞ –º–æ–π –≤–∑–≥–ª—è–¥, Curve –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω —Å–≤–æ–µ–π –º–∞–≥–∏–µ–π –≤–æ–∫—Ä—É–≥ —Å–≤–æ–µ–≥–æ CRV, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∏–º—É–ª–∏—Ä—É–µ—Ç –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏. –ò —ç—Ç–æ –º—ã –µ—â–µ –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏ –≥–ª—É–±–æ–∫–æ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω crvUSD –∏ Curve Lending —Å –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏, –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–∞–∫ LLAMMA (Lending Liquidating Automated Market Maker Algorithm).

–° —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è, –º–Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ whitepaper. –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –æ—Ç–¥–µ–ª—è–µ—Ç—Å—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ø—É–ª–∞ –∏ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∫–∞–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –ø—É–ª–æ–º –∏ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. –î–∞–∂–µ –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —Å vyper —è –Ω–µ –∑–Ω–∞–∫–æ–º –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é –µ–≥–æ –≤ —Å–≤–æ–µ–π –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏. –•–æ—Ä–æ—à–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–∏—è—Ç–Ω–æ –∏–∑—É—á–∞—Ç—å!

## Links

1. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.curve.fi/)
2. [Protocol Overview](https://curve.readthedocs.io/index.html)
3. Cyfrin courses. [Curve Stableswap](https://updraft.cyfrin.io/courses/curve-v1).
4. [Field Guide to the Curve Wars: DeFi‚Äôs Fight for Liquidity](https://every.to/almanack/curve-wars)

