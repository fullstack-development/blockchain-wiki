# EIP-7702: Set Code for EOAs

**–ê–≤—Ç–æ—Ä:** [–ü–∞–≤–µ–ª –ù–∞–π–¥–∞–Ω–æ–≤](https://github.com/PavelNaydanov) üïµÔ∏è‚Äç‚ôÇÔ∏è

**EIP-7702: Set Code for EOAs** - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å **–Ω–æ–≤—ã–π —Ç–∏–ø** —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –æ–ø–∏—Å–∞–Ω–Ω–æ–π –≤ [EIP-2718: Typed Transaction Envelope](https://eips.ethereum.org/EIPS/eip-2718), —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∫ Externally Owned Accounts (EOAs) –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∫–æ–¥ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. –≠—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –≤ –æ–±–ª–∞—Å—Ç–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ —Ä–∞–º–∫–∞—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Ethereum –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º ["Pectra"](https://ethereum.org/en/roadmap/pectra/).

–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∫ EOA –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–æ–¥ –≤ –µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—Å–µ –≤—ã–∑–æ–≤—ã –Ω–∞ –∞–¥—Ä–µ—Å EOA –±—É–¥—É—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ.

![](./images/eip7702-flow.png)

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏, —É —Å—É—â–Ω–æ—Å—Ç–∏ –∞–∫–∫–∞—É–Ω—Ç —É–∂–µ –µ—Å—Ç—å –ø–æ–ª–µ **code**, —Ç–æ–ª—å–∫–æ —Ä–∞–Ω—å—à–µ –¥–ª—è EOA —ç—Ç–æ –ø–æ–ª–µ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –ø—É—Å—Ç—ã–º. –¢–µ–ø–µ—Ä—å –≤ –ø–æ–ª–µ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω –∞–¥—Ä–µ—Å –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ–º–æ–≥–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º (**0xef0100** || address). –ü–æ —Å—É—Ç–∏, –ø—Ä–µ—Ñ–∏–∫—Å - —ç—Ç–æ  —ç—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –º–∞–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ —ç—Ç–æ –∞–¥—Ä–µ—Å –¥–ª—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–∞, –∞ –Ω–µ –±–∞–π—Ç-–∫–æ–¥ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.

–ì–ª–æ–±–∞–ª—å–Ω–æ, EIP-7702 –Ω–∞—Ü–µ–ª–µ–Ω –Ω–∞ —É–ª—É—á—à–µ–Ω–∏–µ UX –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∑–∞ —Å—á–µ—Ç –Ω–µ–±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ Ethereum. –ü—Ä–∏ –ø–æ–º–æ—â–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –º–æ–≥—É—Ç —Ä–µ—à–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–∏ –∑–∞–¥–∞—á–∏:
- **–ë–∞—Ç—á–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, approve –∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –≠—Ç–æ —Ç–æ —á–µ–≥–æ –¥–æ–ª–≥–æ –∂–¥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∫–æ—à–µ–ª—å–∫–æ–≤.
- **–ë–µ–∑–≥–∞–∑–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–ª–∏ —Å–ø–æ–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û–ø–ª–∞—Ç–∞ –≥–∞–∑–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –≥–∞–∑ –≤ ERC-20 —Ç–æ–∫–µ–Ω–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏—Ç—å –æ–ø—ã—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ—à–µ–ª—å–∫–æ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—â–µ –Ω–µ—Ç –Ω–∞—Ç–∏–≤–Ω–æ–π –≤–∞–ª—é—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã –≥–∞–∑–∞.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –∏ –¥–æ—Å—Ç—É–ø–æ–º**: –í—ã–¥–∞—á–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.
- **–ú–µ—Ö–∞–Ω–∏–∑–º—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞**: –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤—ã–≤–æ–¥ –∞–∫—Ç–∏–≤–æ–≤ –∏–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∞–¥—Ä–µ—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–∫—Ç–∏–≤–∞–º–∏ –∫–æ—à–µ–ª—å–∫–∞ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

## –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è –∫–æ–¥–∞

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Ä–∞–∑–±–µ—Ä–µ–º –∏—Ö —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—é —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∫ EOA. –¢–µ–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ—Ö–æ–∂–µ –Ω–∞ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–∏–ø.

**TransactionType** - —Ç–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ä–∞–≤–µ–Ω `0x04`.
**TransactionPayload** - –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Ç–µ–º, —á—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–æ–µ –ø–æ–ª–µ `authorization_list`.

![](./images/eip-7702-set-eoa-code-tx.png)

–ü–æ–ª–µ `authorization_list` - —ç—Ç–æ tuple, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫:

```js
authorization_list = [[
  chain_id, // –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Ç–∏, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ
  address, // –ê–¥—Ä–µ—Å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∫—É–¥–∞ –±—É–¥–µ—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤—ã–∑–æ–≤
  nonce, // –¢–µ–∫—É—â–∏–π nonce EOA
  y_parity, // –î–∞–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏ EOA –∞–∫–∫–∞—É–Ω—Ç–∞
  r, // –î–∞–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏ EOA –∞–∫–∫–∞—É–Ω—Ç–∞
  s // –î–∞–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏ EOA –∞–∫–∫–∞—É–Ω—Ç–∞
], ...]
```

–ï—Å–ª–∏ `chain_id` –ø–µ—Ä–µ–¥–∞—Ç—å —Ä–∞–≤–Ω—ã–º 0, —Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å, —á—Ç–æ EOA —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å—å –≤–æ –≤—Å–µ—Ö EVM-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å–µ—Ç—è—Ö, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö EIP-7702.

**–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã**

1. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–¥–ø–∏—Å—å, —Ä–∞–∑—Ä–µ—à–∞—é—â–∞—è –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ EOA –±—ã–ª–∞ –≤–∞–ª–∏–¥–Ω–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ç—è—Ö, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã `nonce` –±—ã–ª –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –≤ —ç—Ç–∏—Ö —Å–µ—Ç—è—Ö, –∏–Ω–∞—á–µ –ø–æ–¥–ø–∏—Å—å –±—É–¥–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–æ–±–Ω–æ, –µ—Å–ª–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç, –≤–ª–∞–¥–µ–ª–µ—Ü –¥–∞–µ—Ç –≤—Å–µ–≥–æ –æ–¥–Ω—É –ø–æ–¥–ø–∏—Å—å –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫–æ–¥ —Å—Ä–∞–∑—É –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ç—è—Ö.

2. –ü–æ–ª–µ `authorization_list` –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–∞–∑–Ω—ã–º–∏ EOA. –ü—Ä–∏ —ç—Ç–æ–º –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–æ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç—Ä–µ—Ç—å—è —Å—Ç–æ—Ä–æ–Ω–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–µ–∑–≥–∞–∑–æ–≤–æ–µ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∫–æ–¥–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º EOA.

3. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–Ω–æ–≤–∞ —Å–¥–µ–ª–∞—Ç—å —Å–≤–æ–π EOA –æ–±—ã—á–Ω—ã–º (–æ—Ç–∫—Ä–µ–ø–∏—Ç—å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç) –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª–µ `address` –≤ `authorization_list` –≤ –∑–Ω–∞—á–µ–Ω–∏–µ 0.

4. –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–∞ `authorization_list` –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π, —Ç–æ –æ–Ω –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è, –≤–∞–ª–∏–¥–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è.

// TODO: –ø—Ä–æ–¥–æ–ª–∂–∏–º –æ—Ç—Å—é–¥–∞

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (EOA) –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—é—â–µ–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ü–µ–ø–æ—á–∫–∏, –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∫–æ–¥, –∞–¥—Ä–µ—Å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥–ø–∏—Å—å (y_parity, r, s). –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ —Ç–æ–ª—å–∫–æ —É—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∏ –∑–∞—â–∏—â–∞—è –æ—Ç –∞—Ç–∞–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.

## –ù–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

// TODO:
1. msg.sender == tx.origin. –°–º–æ—Ç—Ä–µ—Ç—å –Ω–∏–∂–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤—Å—Ç–∞–≤–∫–∏
2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, —á—Ç–æ sender - —ç—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç.
 code.length —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏ EOA —Å –∫–æ–¥–æ–º –Ω–µ –Ω–æ–ª—å. –¢—É—Ç –≥–æ–≤–æ—Ä–∏–º, –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ —Å–µ–Ω–¥–µ—Ä - —ç—Ç–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç.
3. –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω—è—Ç—å –Ω—Ñ—Ç, –Ω–∞—Ç–∏–≤–Ω—ã–π —ç—Ñ–∏—Ä, ERC-777 —Ç–æ–∫–µ–Ω.
4. –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–≥–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ EOA.
5. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤ storage —Ä–∞–∑–Ω—ã—Ö —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ–º—ã—Ö –∫ EOA.

TODO: —Ç–∞–∫–∂–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —è –Ω–∞–ø–∏—Å–∞–ª –≤ —Ä–µ–ø–µ EIP7702

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

// TODO: —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø—Ä–æ –ø—Ä–æ—à–ª—É—é –≤–µ—Ä—Å–∏—é ERC-4337

AA ERC-4437, –ø–æ—ç—Ç–æ–º—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ—à–µ–ª—å–∫–∏ –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å –∫–æ—à–µ–ª—å–∫–∞–º–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –∞–∫—Ç–∏–≤–æ–≤.

## Etherscan

https://etherscan.io/txnAuthList

## –í—ã–≤–æ–¥

// TODO: –ú–æ–∂–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–æ –≤–æ–æ–±—â–µ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥

EIP-7702 –ø—Ä–∏–≤–Ω–æ—Å–∏—Ç –Ω–æ–≤—É—é —ç–Ω–µ—Ä–≥–∏—é –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É Ethereum, –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–∞–∫–∂–µ –≤–ª–µ—á–µ—Ç –∑–∞ —Å–æ–±–æ–π –Ω–æ–≤—ã–µ —Ä–∏—Å–∫–∏.

–ù–µ –∑–∞–±—ã–≤–∞—Ç—å —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:
- —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
- —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–µ—Ç—è–º–∏
- –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ERC-721 –∏–ª–∏ ERC-777, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Ç–∏–≤–Ω–æ–π –≤–∞–ª—é—Ç—ã

# Links

1. Ethereum Improvement Proposals: [EIP-7702: Set Code for EOAs](https://eips.ethereum.org/EIPS/eip-7702)
2. [EIP-7702](https://www.cyfrin.io/glossary/eip-7702) –æ—Ç Cyfrin
3. [Solidity –∏ Ethereum, —É—Ä–æ–∫ #93 | EIP-7702: EOA code](https://www.youtube.com/live/NZQc6bQdW9g). –í–∏–¥–µ–æ –æ—Ç Ilya Krukowski. –ó–¥–µ—Å—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ–ø—ã—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è EIP-7702 —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
4. [In-Depth Discussion on EIP-7702 and Best Practices](https://slowmist.medium.com/in-depth-discussion-on-eip-7702-and-best-practices-968b6f57c0d5) –æ—Ç SlowMist. –ó–¥–µ—Å—å –±–æ–ª—å—à–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Ç–æ–≥–æ, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Ethereum
5. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è viem](https://viem.sh/docs/eip7702)
6. [What You Need to Know About EIP-7702 ‚ÄúSmart‚Äù Account](https://info.etherscan.com/what-you-need-to-know-about-eip-7702-smart-account/) –æ—Ç etherscan
7. [Deep Dive into Ethereum 7702 Smart Accounts: security risks, footguns and testing](https://www.youtube.com/watch?v=ZFN2bYt9gNE&ab_channel=TheRedGuild)
8. [Emergency EIP-7702 Wallet Recovery](https://medium.com/@BahadorGh/emergency-eip-7702-wallet-recovery-f4cc865f6341). –ò—Å—Ç–æ—Ä–∏—è –æ —Ç–æ–º, –∫–∞–∫ —Å–ª—É—á–∞–π–Ω–æ–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª–∏–ª–æ —É–≤–µ—Å—Ç–∏ –∞–∫—Ç–∏–≤—ã —Å –∫–æ—à–µ–ª—å–∫–∞.
//TODO:

```solidity
address Alice = makeAddr("Alice");
console.logBytes(Alice.code); // –í–µ—Ä–Ω–µ—Ç 0xef0100[attached_smart-contract_address] - –µ—Å–ª–∏ –∫–æ–¥ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω –∫ EOA, –∏–Ω–∞—á–µ - 0x
```

// TODO: –ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∞–¥—Ä–µ—Å–æ–º

```solidity
assembly {
    // We'll load the first 32 bytes of code from msg.sender
    let ptr := mload(0x40)
    extcodecopy(caller(), ptr, 0, 32)
    let prefix := shr(232, mload(ptr)) // grab first 3 bytes (24 bits)

    // Check if prefix == 0xef0100
    isDelegated := eq(prefix, 0xef0100)
}
```

// TODO

–¢–µ–ø–µ—Ä—å –¥–ª—è —Å–º–∞—Ä—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —É—Å–ª–æ–≤–∏–µ tx.origin == msg.sender, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ EOA –Ω–µ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, –ø–ª–æ—Ö–∏–µ –Ω–æ–≤–æ—Å—Ç–∏. –≠—Ç–æ —É—Å–ª–æ–≤–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–æ–π–¥–µ–Ω–æ. –ò–ª–∏ –∫–∞–∫ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞, –∫–æ–≥–¥–∞ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–æ—Å—å, —á—Ç–æ –≤—Ç–æ—Ä–æ–π –≤—Ö–æ–¥ –±—É–¥–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.

–î—Ä—É–≥–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞:

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ —Ç–æ–º, —á—Ç–æ EOA –Ω–µ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥. –≠—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Ä—É—à–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç: —É—Å–ª–æ–≤–∏–µ tx.origin == msg.sender –±–æ–ª—å—à–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≥–∞—Ä–∞–Ω—Ç–∏–µ–π —Ç–æ–≥–æ, —á—Ç–æ —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è EOA –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤ —Ç–æ–π –∂–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

// TODO: –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞–ø–∏—Å–∞—Ç—å –¥–µ–ø–ª–æ–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç –∫–æ–¥ –∫ EOA.

// TODO: –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Å–ø–∞—Å–∞–µ—Ç –æ—Ç –ø—Ä—è–º–æ–π –ø–æ—Ç–µ—Ä–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ EOA. –ï—Å–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –ø–æ–ø–∞–¥–µ—Ç –≤ —Ä—É–∫–∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞, —Ç–æ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–µ –ø–æ–º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∞–∫–∫–∞—É–Ω—Ç—É. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, —Ç–∞–∫–æ–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–µ–ø–ª–µ–Ω –æ—Ç EOA –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–º.