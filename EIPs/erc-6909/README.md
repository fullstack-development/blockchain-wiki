# ERC-6909: Minimal Multi-Token Interface

**–ê–≤—Ç–æ—Ä:** [–ü–∞–≤–µ–ª –ù–∞–π–¥–∞–Ω–æ–≤](https://github.com/PavelNaydanov) üïµÔ∏è‚Äç‚ôÇÔ∏è

–°—Ç–∞–Ω–¥–∞—Ä—Ç [ERC-6909](https://eips.ethereum.org/EIPS/eip-6909) —è–≤–ª—è–µ—Ç—Å—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É [ERC-1155: Multi Token Standard](https://eips.ethereum.org/EIPS/eip-1155) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Ç–æ–∫–µ–Ω–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.

–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç ERC-1155:
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ callback –º–µ—Ö–∞–Ω–∏–∑–º–∞ –¥–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Ç–æ–∫–µ–Ω–∞.
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–µ–ª–∞—Ç—å batch –≤—ã–∑–æ–≤—ã, –∫–æ–≥–¥–∞ –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ç–æ–∫–µ–Ω–∞–º–∏.
- –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤—ã–¥–∞—á–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ —Ç—Ä–µ—Ç—å–∏–º–∏ –ª–∏—Ü–∞–º–∏ (–∞–ø—Ä—É–≤–æ–≤).

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å ERC-6909 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∏–∑–¥–µ—Ä–∂–∫–∏ –≤ —Ä–∞–∑–º–µ—Ä–µ –∫–æ–¥–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –≤—ã–∑–æ–≤–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

_–í–∞–∂–Ω–æ!_ –õ—é–±–æ–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å ERC-6909, –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å [ERC-165: Standard Interface Detection](https://eips.ethereum.org/EIPS/eip-165) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

_–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ!_ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –ø—Ä–∏–Ω—è–ª —É—á–∞—Å—Ç–∏–µ [Vectorized](https://github.com/Vectorized), —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–∞–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, –∫–∞–∫ [solady](https://github.com/Vectorized/solady), [ERC721A](https://github.com/chiru-labs/ERC721A), [multicaller](https://github.com/Vectorized/multicaller).

## –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è

[–†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è](https://eips.ethereum.org/EIPS/eip-6909#reference-implementation) –≤–∑—è—Ç–∞ –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ ERC-6909 –∏ —É–ø—Ä–æ—â–µ–Ω–∞ –º–Ω–æ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º. –†–µ–∫–æ–º–µ–Ω–¥—É—é –∏–∑—É—á–∏—Ç—å —Å–Ω–∞—á–∞–ª–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å, –∞ –ø–æ—Ç–æ–º —á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å—é –¥–∞–ª—å—à–µ.

```solidity
contract ERC6909 {
    /// @notice –ë–∞–ª–∞–Ω—Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤
    mapping(address owner => mapping(uint256 id => uint256 amount)) public balanceOf;

    /// @notice –í—ã–¥–∞–Ω–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ —Ç—Ä–µ—Ç—å–∏–º–∏ –ª–∏—Ü–∞–º–∏
    mapping(address owner => mapping(address spender => mapping(uint256 id => uint256 amount))) public allowance;

    /// @notice –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
    mapping(address owner => mapping(address spender => bool)) public isOperator;

    /// @notice –¢—Ä–∞–Ω—Å—Ñ–µ—Ä —Ç–æ–∫–µ–Ω–∞ –æ—Ç –∏–º–µ–Ω–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞
    function transfer(address receiver, uint256 id, uint256 amount) public returns (bool) {
        if (balanceOf[msg.sender][id] < amount) revert InsufficientBalance(msg.sender, id);

        balanceOf[msg.sender][id] -= amount;
        balanceOf[receiver][id] += amount;

        emit Transfer(msg.sender, msg.sender, receiver, id, amount);
        return true;
    }

    /// @notice –¢—Ä–∞–Ω—Å—Ñ–µ—Ä —Ç–æ–∫–µ–Ω–∞ —Ç—Ä–µ—Ç—å–∏–º–∏ –ª–∏—Ü–∞–º–∏, —Ç—Ä–µ–±—É–µ—Ç –≤—ã–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
    function transferFrom(address sender, address receiver, uint256 id, uint256 amount) public returns (bool) {
        if (sender != msg.sender && !isOperator[sender][msg.sender]) {
            uint256 senderAllowance = allowance[sender][msg.sender][id];

            if (senderAllowance < amount) revert InsufficientPermission(msg.sender, id);
            if (senderAllowance != type(uint256).max) {
                allowance[sender][msg.sender][id] = senderAllowance - amount;
            }
        }

        if (balanceOf[sender][id] < amount) revert InsufficientBalance(sender, id);

        balanceOf[sender][id] -= amount;
        balanceOf[receiver][id] += amount;

        emit Transfer(msg.sender, sender, receiver, id, amount);
        return true;
    }

    /// @notice –í—ã–¥–∞—á–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É —Ç–æ–∫–µ–Ω–∞ —Ç—Ä–µ—Ç—å–∏–º–∏ –ª–∏—Ü–∞–º–∏ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–∞
    function approve(address spender, uint256 id, uint256 amount) public returns (bool) {
        allowance[msg.sender][spender][id] = amount;
        emit Approval(msg.sender, spender, id, amount);
        return true;
    }

    /// @notice –í—ã–¥–∞—á–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É —Ç–æ–∫–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–∞
    function setOperator(address spender, bool approved) public returns (bool) {
        isOperator[msg.sender][spender] = approved;
        emit OperatorSet(msg.sender, spender, approved);
        return true;
    }

    function _mint(address receiver, uint256 id, uint256 amount) internal {
      balanceOf[receiver][id] += amount;
      emit Transfer(msg.sender, address(0), receiver, id, amount);
    }

    function _burn(address sender, uint256 id, uint256 amount) internal {
      balanceOf[sender][id] -= amount;
      emit Transfer(msg.sender, sender, address(0), id, amount);
    }
}
```

## –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–æ–≤

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–æ–≤ - —ç—Ç–æ –ø–µ—Ä–≤–æ–µ –Ω–∞ —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç ERC-1155 –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è.

```solidity
// ERC-1155 –∏–∑ OpenZeppelin
mapping(uint256 id => mapping(address account => uint256)) private _balances;

// ERC-6909 –∏–∑ OpenZeppelin
mapping(address owner => mapping(uint256 id => uint256)) private _balances;
```

–ú–∞–ø–ø–∏–Ω–≥ –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–µ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞, –∞ —Å –∞–¥—Ä–µ—Å–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞.

–ü—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ —ç—Ç–æ –≤–ª–∏—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è. –ü–æ –ø—Ä–µ–∂–Ω–µ–º—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –±–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ –∏–ª–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ off-chain. –°–≤—è–∑–∞–Ω–æ —ç—Ç–æ —Å —Ç–µ–º, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –≤—Å–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–º–∏ –≤–ª–∞–¥–µ–µ—Ç –∞–∫–∫–∞—É–Ω—Ç, –∞ –±–∞–∑–æ–≤–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ —Ö—Ä–∞–Ω–∏—Ç —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –¥–µ—Ñ–æ–ª—Ç—É.

## –ù–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ (callback)

–°–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É ERC-1155 —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç, –≤—ã—Å—Ç—É–ø–∞—é—â–∏–π –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ERC1155TokenReceiver`.

–≠—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–∏–∫—Ç—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –æ–¥–Ω–æ–π –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Å–ø–æ—Å–æ–±—É –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–æ–≤ (single –∏–ª–∏ batch):
```solidity
-  function onERC1155Received(address _operator, address _from, uint256 _id, uint256 _value, bytes calldata _data) external returns(bytes4);
-  function onERC1155BatchReceived(address _operator, address _from, uint256[] calldata _ids, uint256[] calldata _values, bytes calldata _data) external returns(bytes4);
```

–í ERC-6909 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ø–æ –ø—Ä–µ–∂–Ω–µ–º—É –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã, –Ω–æ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –∏—Ö —Å—Ç–æ—Ä–æ–Ω–µ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π.

ERC-6909 –Ω–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ —Ä–∞–∑–º–µ—Ä–µ –±–∞–∑–æ–≤–æ–π –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –º–æ–º–µ–Ω—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –≥–∞–∑–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–µ —Ç–æ–∫–µ–Ω–æ–≤

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ–±—Ä–∞—Ç–Ω—ã–º –≤—ã–∑–æ–≤–∞–º, —Å—Ç–∞–Ω–¥–∞—Ä—Ç –ø–æ—Å—Ç—É–ø–∏–ª —Å batch –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.

ERC-1155 —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:
```solidity
- function safeBatchTransferFrom(address _from, address _to, uint256[] calldata _ids, uint256[] calldata _values, bytes calldata _data) external;
- function balanceOfBatch(address[] calldata _owners, uint256[] calldata _ids) external view returns (uint256[] memory);
```

ERC-6909 –±–æ–ª—å—à–µ –Ω–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∏—Ä—É–µ—Ç batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ —Ä–∞–¥–∏ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±—ã—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É.

Batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞.

**–§—É–Ω–∫—Ü–∏–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞ —Ç–æ–∫–µ–Ω–∞**

–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ ERC-20 c –Ω–µ–±–æ–ª—å—à–æ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏.

```solidity
- function transfer(address receiver, uint256 id, uint256 amount) public returns (bool);
- function transferFrom(address sender, address receiver, uint256 id, uint256 amount) public returns (bool);
```

`Sender` –∏ `receiver` - —ç—Ç–æ –ø—Ä–∏–≤—ã—á–Ω—ã–µ `from` –∏ `to`. –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è `id`, –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–∫–∞–∑–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–∫–µ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø–µ—Ä–µ–≤–æ–¥–µ. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `id` –æ—á–µ–Ω—å –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç ERC-721 –∏ ERC-1155.

## –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã–¥–∞—á–∏ –∞–ø—Ä—É–≤–∞

–í ER–°-1155 –≤—ã–¥–∞—Ç—å –∞–ø—Ä—É–≤ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏:

```solidity
function setApprovalForAll(address _operator, bool _approved) external;
```

–í ERC-6909 –≤–≤–æ–¥–∏—Ç—Å—è –≥–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã–¥–∞—á–∏ –∞–ø—Ä—É–≤–æ–≤. –ï—Å—Ç—å –¥–≤–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–¥–∞—Ç—å –∞–ø—Ä—É–≤:
- **–û–ø–µ—Ä–∞—Ç–æ—Ä—É** —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤ –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü—Ä–∏ —ç—Ç–æ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å –ª—é–±—ã–º `id`).
- **–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É** —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –æ–Ω —Å–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ERC-6909 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –∞–ø—Ä—É–≤–æ–º:

```solidity
- function setOperator(address spender, bool approved) public returns (bool);
- function approve(address spender, uint256 id, uint256 amount) public returns (bool);
```

–ü–æ–¥–æ–±–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–∏–±–æ–∫, –Ω–æ –µ—Å—Ç—å –Ω—é–∞–Ω—Å –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –∞–∫–∫–∞—É–Ω—Ç—É –≤—ã–¥–∞–µ—Ç—Å—è –∞–ø—Ä—É–≤ —á–µ—Ä–µ–∑ –æ–±–µ —Ñ—É–Ω–∫—Ü–∏–∏. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–π –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç–∏:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.
2. –ï—Å–ª–∏ –Ω–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä, —Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ `allowance`, –≤—ã–¥–∞–Ω–Ω–æ–≥–æ —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ `approve()`.

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤—ã–¥–∞–Ω–Ω—ã–π –∞–ø—Ä—É–≤ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `transferFrom()`.

```solidity
function transferFrom(address sender, address receiver, uint256 id, uint256 amount) public returns (bool) {
    // –ï—Å–ª–∏ —Å–µ–Ω–¥–µ—Ä —Å–∞–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω—ã –∏–ª–∏ —Å–µ–Ω–¥–µ—Ä—É –≤—ã–¥–∞–Ω—ã –ø—Ä–∞–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, —Ç–æ —Ç–æ–≥–¥–∞ —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã
    // –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É–º–º—ã, –æ—Å—Ç–∞—é—â–µ–π—Å—è –≤ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ
    if (sender != msg.sender && !isOperator[sender][msg.sender]) {
        uint256 senderAllowance = allowance[sender][msg.sender][id];
        if (senderAllowance < amount) revert InsufficientPermission(msg.sender, id);

        if (senderAllowance != type(uint256).max) {
            allowance[sender][msg.sender][id] = senderAllowance - amount;
        }
    }

    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è

    return true;
}
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã–¥–∞–Ω –∞–ø—Ä—É–≤ –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é —Å—É–º–º—É (—á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `approve()`), –Ω–µ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è `allowance`.

## Metadata —Ç–æ–∫–µ–Ω–æ–≤

–ü—Ä–∏ –ø–æ–º–æ—â–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ ERC-6909 –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–µ —Ç–æ–∫–µ–Ω—ã –∏ –Ω–µ–≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ç–∞–∫–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤—ã–Ω–æ—Å–∏—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ —è–≤–ª—è–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π.

**–ü–æ—á–µ–º—É –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π?** –û—Ç–≤–µ—Ç –ø—Ä–æ—Å—Ç, –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LP —Ç–æ–∫–µ–Ω–∞–º–∏ (–∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ –≤–∏–¥–∞–º–∏ —Ç–æ–∫–µ–Ω–æ–≤) –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –≤–∞–∂–µ–Ω –∏—Ö `name`, `symbol` –∏–ª–∏ `URI`. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã –∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –∏–∑ –±–∞–∑–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ.

–ü—Ä–∏ —ç—Ç–æ–º, –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è, —Ç–æ–ª—å–∫–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ OpenZeppelin —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É. (–í solmate –Ω–µ—Ç —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, –≤ [solady –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ç—ã –≤ –±–∞–∑–æ–≤—É—é –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—é](https://github.com/Vectorized/solady/blob/main/src/tokens/ERC6909.sol#L97C1-L112C79)).

–î–∞–ª—å—à–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ç–æ, –∫–∞–∫ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ OpenZeppelin.

_–í–∞–∂–Ω–æ!_ –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏, –≤—Å–µ, —á—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è ERC-6909 –≤ OpenZeppelin, –ø–æ–º–µ—á–µ–Ω–æ, –∫–∞–∫ draft.

**ERC6909Metadata.sol**

```solidity
contract ERC6909Metadata {
    struct TokenMetadata {
        string name;
        string symbol;
        uint8 decimals;
    }

    mapping(uint256 id => TokenMetadata) private _tokenMetadata;

    function name(uint256 id) public view virtual returns (string memory) {
        return _tokenMetadata[id].name;
    }

    function symbol(uint256 id) public view virtual override returns (string memory) {
        return _tokenMetadata[id].symbol;
    }

    function decimals(uint256 id) public view virtual override returns (uint8) {
        return _tokenMetadata[id].decimals;
    }
}
```

–î–ª—è –Ω–∞—Å –∑–¥–µ—Å—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –¥–≤–µ –≤–µ—â–∏:
1. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ `name()`, `symbol()`, `decimals()` –ø—Ä–∏–Ω–∏–º–∞—é—Ç –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç `id`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
2. OpenZeppelin –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏—é `mapping` –∏ `structure` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

**ERC6909TokenSupply.sol**

```solidity
contract ERC6909TokenSupply {
    mapping(uint256 id => uint256) private _totalSupplies;

    function totalSupply(uint256 id) public view virtual override returns (uint256) {
        return _totalSupplies[id];
    }

    /// @dev Override the `_update` function to update the total supply of each token id as necessary.
    function _update(address from, address to, uint256 id, uint256 amount) internal virtual override {
      ...
    }
}
```

`Total supply` –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ name, symbol –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.

**ERC6909ContentURI.sol**

```solidity
contract ERC6909ContentURI is ERC6909, IERC6909ContentURI {
    string private _contractURI;
    mapping(uint256 id => string) private _tokenURIs;

    function contractURI() public view virtual override returns (string memory) {
        return _contractURI;
    }

    function tokenURI(uint256 id) public view virtual override returns (string memory) {
        return _tokenURIs[id];
    }
}
```

–≠—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Ö—Ä–∞–Ω–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –Ω—Ñ—Ç. `contractURI` –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–∏. `tokenURI` –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–æ–∫–µ–Ω—É.

**–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö: ERC6909Metadata, ERC6909TokenSupply, ERC6909ContentURI, —Å—Ç–∞–Ω–¥–∞—Ä—Ç –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å, –∫–∞–∫ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏, —Ç–∞–∫ –∏ –Ω–µ–≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º–∏.**

## –£–¥–∞–ª–µ–Ω–∏–µ safe –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è

–°–æ–≥–ª–∞—à–µ–Ω–∏—è –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ `safeTransfer()` –∏ `safeTransferFrom()` –≤–≤–æ–¥—è—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ ERC-1155 –∏ ERC-721, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Ç—Ä–µ–±—É—é—Ç –≤–Ω–µ—à–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤ –Ω–∞ –∞–¥—Ä–µ—Å–µ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç). –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.

–°–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É ERC-6909 —Å—á–∏—Ç–∞–µ—Ç—Å—è, —á—Ç–æ —É–¥–∞–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ "safe" –∏–∑ –≤—Å–µ—Ö –∏–º–µ–Ω —Ñ—É–Ω–∫—Ü–∏–π –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –≤–≤–æ–¥–∏—Ç—å –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ.

## –†–µ–∞–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–í –æ—Ç–ª–∏—á–∏–∏ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤, ERC-6909 –±—ã–ª —Å—Ö–æ–¥—É –æ–ø—Ä–æ–±–æ–≤–∞–Ω –≤ Uniswap —á–µ—Ç–≤–µ—Ä—Ç–æ–π –≤–µ—Ä—Å–∏–∏.

ERC-6909 –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–∞–ª–∏—á–∏—è –∞–∫—Ç–∏–≤–æ–≤ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.

–†–∞–±–æ—Ç–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ, –ø–æ—Å–ª–µ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–≤–∞–ø, —É–¥–∞–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π –∞–∫—Ç–∏–≤ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –∞ –≤–∑–∞–º–µ–Ω –ø–æ–ª—É—á–∏—Ç—å ERC-6909. –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑, –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–∞ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—É–¥–µ—Ç —Å–∂–µ—á—å —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç ERC-6909.

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–º–µ–Ω–∏–≤–∞–µ—Ç `USDT` –Ω–∞ `USDC`. –û—Ç–¥–∞–µ—Ç `USDT`, –Ω–æ –∑–∞ –º–µ—Å—Ç–æ –ø–æ–ª—É—á–µ–Ω–∏—è `USDC` –º–∏–Ω—Ç–∏—Ç —Å–µ–±–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç ERC-6909. `USDC` –æ—Å—Ç–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞. –ß–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ—à–∞–µ—Ç –≤–µ—Ä–Ω—É—Ç—å `USDT` –æ–±—Ä–∞—Ç–Ω–æ, –æ–±–º–µ–Ω—è–≤ –µ–≥–æ –Ω–∞ `USDC`. –î–ª—è —ç—Ç–æ–≥–æ –µ–º—É –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–∂–µ—á—å ERC-6909 –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª –≤–µ—Ä–Ω–µ—Ç –µ–º—É `USDT`.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, ERC-6909 –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ –≥–∞–∑–µ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤. –ú–∏–Ω—Ç ERC-6909 –¥–µ—à–µ–≤–ª–µ, —á–µ–º —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä `USDC` –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≥–∞–∑–∞. –≠—Ç–æ —Ç–∞–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–∏–Ω—Ç - —ç—Ç–æ –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å –≤ —Å—Ç–æ—Ä–∞–¥–∂–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∏ –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ `Mint()`, –∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ–±–∞–≤–ª—è—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–µ, –æ—Ç whitelists –¥–æ –¥—Ä—É–≥–æ–π –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–æ–≥–∏–∫–∏.

–û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–∞ —ç—Ç–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –¥–ª—è —Ç—Ä–µ–π–¥–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω–∏–º–∞—é—Ç—Å—è —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π —Å–≤–æ–µ–π –ø–æ–∑–∏—Ü–∏–∏.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Uniswap](https://docs.uniswap.org/contracts/v4/concepts/erc6909).

## –í—ã–≤–æ–¥

–°—Ç–∞–Ω–¥–∞—Ä—Ç ERC-6909 —ç—Ç–æ —Ç–æ—Ç —Ä–µ–¥–∫–∏–π —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–æ—â–∞–µ—Ç—Å—è, –∞ –Ω–µ —É—Å–ª–æ–∂–Ω—è–µ—Ç—Å—è. –ó–∞ —Å—á–µ—Ç —ç—Ç–æ–≥–æ —É–ø—Ä–∞–∑–¥–Ω–µ–Ω–∏—è –ª—é–±–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –ø—Ä–æ—â–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, –º–µ–Ω—å—à–µ –≤–µ—Å–∏—Ç –∏ –¥–µ—à–µ–≤–ª–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤.

–°—Ç–∞–Ω–¥–∞—Ä—Ç ERC-6909 –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º —Å ERC-1155!

–ü—Ä–∏ —ç—Ç–æ–º –æ—Å–æ–±—ã–π –∞–∫—Ü–µ–Ω—Ç —è —Ö–æ—Ç–µ–ª –±—ã —Å–¥–µ–ª–∞—Ç—å –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–µ—Å—à–æ–≤–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º–∏ –∏ –Ω–µ–≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏. –û–¥–∏–Ω —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç ERC-6909 –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å ERC-20 —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ –Ω—Ñ—Ç–∏—à–∫–∞–º–∏.

_–í–∞–∂–Ω–æ!_ –° –æ–≥–æ–≤–æ—Ä–∫–æ–π, —á—Ç–æ –≤—Å–µ –Ω—Ñ—Ç –±—É–¥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏, —Ç–∞–∫ –∫–∞–∫ `contractURI()` —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π.

## Links

1. [ERC-6909: Minimal Multi-Token Interface](https://eips.ethereum.org/EIPS/eip-6909#reference-implementation)
2. [–ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –≤ solady](https://github.com/Vectorized/solady/blob/main/src/tokens/ERC6909.sol)
3. [–ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –≤ solmate](https://github.com/transmissions11/solmate/blob/main/src/tokens/ERC6909.sol)
4. [–ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –≤ OpenZeppelin](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC6909/draft-ERC6909.sol)
5. [ERC-6909 Minimal Multi-Token Standard](https://www.rareskills.io/post/erc-6909) –æ—Ç RareSkills
